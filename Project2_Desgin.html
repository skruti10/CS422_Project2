<!-- template for Project 1 - CS 422 - Spring 2016 - Andrew Johnson -->

<!DOCTYPE html>    
<head>
    <meta charset="utf-8">
    <title>fabric.js project template</title>
	
	<!-- Get version 1.5.0 of Fabric.js from CDN -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.5.0/fabric.min.js" ></script>
 

	 
<body>
	<!-- canvas tag for Fabric.js to draw into -->
    <!-- set this to some appropriate size for your development work -->
    <!-- but keep the same aspect ratio -->
    <!-- we will use width="494" height="400" for presentations and evaluation -->
	<canvas id="c" width="2714" height="2200" style="border:2px solid black;" ></canvas>
		
<!-- ************************************** HTML Code Added by Kruti ********************************************************************************* -->
	<img src="..//CS422_Project2//Icons//menu1.png" id="kMenuIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//sos.png" id="kSOSIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//camera1.png" id="kCameraIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//nounreadmessage1.png" id="kNoUnreadMessageIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//calendar1.png" id="kCalendarIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//unmute.png" id="kUnMuteIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//settings4.png" id="kSettingsIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//MirrorIcon_New_1.png" id="kMirrorIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//rightarrow1.png.jpg" id="kRightArrowIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//leftarrow1.png.jpg" id="kLeftArrowIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//locked1.png" id="kLockIcon" style="display:none">
	<img src="..//CS422_Project2//Icons//unlock.png" id="kUnLockIcon" style="display:none">







<!-- *********************************** HTML Code End by Kruti **************************************************************************************  -->


<!-- ************************************ HTML Code Added by Sahib ************************************************************************************* -->








<!-- *********************************** HTML Code End by Sahib ************************************************************************************** -->

<!-- ************************************ HTML Code Added by Ankur *********************************************************************************** -->








<!-- ************************************* HTML Code End by Ankur ************************************************************************************** -->
		
<!-- ************************************ HTML Code Added by Ridhi ************************************************************************************* -->








<!-- ************************************ HTML Code End by Ridhi ************************************************************************************** -->
</body>
 
<script>

// the aspect ratios given here are not quite tall enough for a 36" x 80" door
// we are assuming bottom 15 inches of the door are not part of the display. 
// that part contains lots of necessary electronics so the bottom of the door
// sits off the bottom of our display wall. You are implementing the interface
// for the top 65" of the display / door

(function() {

// within the code below I assume I am drawing into a 1220x990 box
// then I can scale the group to whatever size the final canvas is
  var localHeight = 990;
  var localWidth = 1220;

  var canvas = this.__canvas = new fabric.Canvas('c');

  // set background to blue to make it easier to see it
  canvas.backgroundColor = "#DDDDDD";  // light grey

// need 36 wide instead of 40 as now

var insideDoor = new fabric.Rect({
  left: 22,
  top: 0,
  fill: 'white',
  stroke: 'black',
  width: 555,
  height: localHeight,
  angle: 0
});

// the doors will not be selectable or movable
insideDoor.hasControls = insideDoor.hasBorders = false;
insideDoor.lockMovementX = insideDoor.lockMovementY = true;


var outsideDoor = new fabric.Rect({
  left: 642,
  top: 0,
  fill: 'white',
  stroke: 'black',
  width: 555,
  height: localHeight,
  angle: 0
});

outsideDoor.hasControls = outsideDoor.hasBorders = false;
outsideDoor.lockMovementX = outsideDoor.lockMovementY = true;


// add all of the elements to the canvas

canvas.add(insideDoor);
canvas.add(outsideDoor);


/*************************************** Code Added by Kruti ***************************************************************************************/
function kInsertImageInfo(kId,kElement)
{
	this.kImageId = kId;
	this.kImageElement = kElement;
	this.kisUsed = false;
};
  
var iconW = 60;
var iconH = 70;

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/***************************** code for lock unlock icons start ***********************************/




/***************************** code for lock unlock icons end ***********************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/**************************** code for menu icons start *************************************/

var kID_MenuPanelLeft = 23;
var kID_MenuPanelTop = 230;

var kID_MenuPanel = new fabric.Rect({
  left: kID_MenuPanelLeft,
  top: kID_MenuPanelTop,
  fill: 'white',
  width: 554,
  height: 180
});

canvas.add(kID_MenuPanel);

var kCameraIconInfo = new kInsertImageInfo("kCameraIcon",document.getElementById('kCameraIcon'));  
var kID_CameraIcon = new fabric.Image(kCameraIconInfo.kImageElement, {
left: kID_MenuPanelLeft+65, 
top: kID_MenuPanelTop -32 , 
width: iconW+10,
height: iconH-5
});
canvas.add(kID_CameraIcon);

var kNoUnreadMessageIconInfo = new kInsertImageInfo("kNoUnreadMessageIcon",document.getElementById('kNoUnreadMessageIcon'));  
var kID_NoUnreadIcon = new fabric.Image(kNoUnreadMessageIconInfo.kImageElement, {
left: kID_MenuPanelLeft+ iconW + 185, 
top: kID_MenuPanelTop-50  , 
width: iconW+10,
height: iconH+30
});
canvas.add(kID_NoUnreadIcon);

var kCalendarIconInfo = new kInsertImageInfo("kCalendarIcon",document.getElementById('kCalendarIcon'));  
var kID_CalendarIcon = new fabric.Image(kCalendarIconInfo.kImageElement, {
left: kID_MenuPanelLeft+ iconW*2 + 300, 
top: kID_MenuPanelTop-38 , 
width: iconW,
height: iconH
});
canvas.add(kID_CalendarIcon);

var kUnMuteIconInfo = new kInsertImageInfo("kUnMuteIcon",document.getElementById('kUnMuteIcon'));  
var kID_UnMuteIcon = new fabric.Image(kUnMuteIconInfo.kImageElement, {
left: kID_MenuPanelLeft+ 60, 
top: kID_MenuPanelTop + 90 , 
width: iconW+20,
height: iconH+25
});
canvas.add(kID_UnMuteIcon);

var kSettingsIconInfo = new kInsertImageInfo("kSettingsIcon",document.getElementById('kSettingsIcon'));  
var kID_SettingsIcon = new fabric.Image(kSettingsIconInfo.kImageElement, {
left: kID_MenuPanelLeft+ iconW + 185,
top: kID_MenuPanelTop + 95, 
width: iconW+10,
height: iconH+10
});
canvas.add(kID_SettingsIcon);

var kMirrorIconInfo = new kInsertImageInfo("kMirrorIcon",document.getElementById('kMirrorIcon'));  
var kID_MirrorIcon = new fabric.Image(kMirrorIconInfo.kImageElement, {
left: kID_MenuPanelLeft+ iconW*2 + 300,
top: kID_MenuPanelTop + 90 , 
width: iconW,
height: iconH+10
});
canvas.add(kID_MirrorIcon);

var kRightArrowIconInfo = new kInsertImageInfo("kRightArrowIcon",document.getElementById('kRightArrowIcon'));  
var kID_RightArrowIcon = new fabric.Image(kRightArrowIconInfo.kImageElement, {
left: kID_MenuPanelLeft+ iconW*2 + 370,
top: kID_MenuPanelTop + 50 , 
width: iconW-20,
height: iconH-30
});
canvas.add(kID_RightArrowIcon);

/**************************** code for menu icons end *************************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/****************** code for main menu strip for inside door start *******************************/
var kID_MainPanelLeft = 22;
var kID_MainPanelTop = 485;
  
var kID_MainPanel = new fabric.Rect({
  left: kID_MainPanelLeft,
  top: kID_MainPanelTop,
  fill: 'grey',
  width: 555,
  height: 80
});

canvas.add(kID_MainPanel);

var kSOSIconInfo = new kInsertImageInfo("kSOSIcon",document.getElementById('kSOSIcon'));  
var kID_SOSIcon = new fabric.Image(kSOSIconInfo.kImageElement, {
left: kID_MainPanelLeft+60, //1635,
top: kID_MainPanelTop +8 , //100,
width: iconW+20,
height: iconH-5
});

canvas.add(kID_SOSIcon);
  
var kMenuIconInfo = new kInsertImageInfo("kMenuIcon",document.getElementById('kMenuIcon'));  
var kID_MenuIcon = new fabric.Image(kMenuIconInfo.kImageElement, {
left: kID_MainPanelLeft+245, //1635,
top: kID_MainPanelTop -5  , //100,
width: iconW+10,
height: iconH+25
});

canvas.add(kID_MenuIcon);


var kID_DoorKnob = new fabric.Circle({
  left: kID_MainPanelLeft+420,
  top: kID_MainPanelTop+6,
  fill: 'white',
  radius: iconW-26
});

canvas.add(kID_DoorKnob);

/****************** code for main menu strip for inside door start *******************************/

/********************************** Code End by Kruti ***********************************************************************************************/



/*************************************** Code Added by Sahib ***************************************************************************************/

//This is the first sample change made by sahib.
//This is the second sample change made by sahib.





/*************************************** Code End by Sahib ***************************************************************************************/


/*************************************** Code Added by Ankur ***************************************************************************************/








/*************************************** Code End by Ankur ***************************************************************************************/


/*************************************** Code Added by Ridhi ***************************************************************************************/








/*************************************** Code End by Ridhi ***************************************************************************************/

// code adapted from http://jsfiddle.net/tornado1979/39up3jcm/
// this code deals with scaling all the elements on the canvas

function zoomAll(SCALE_FACTOR) {

      var objects = canvas.getObjects();
      for (var i in objects) {
          var scaleX = objects[i].scaleX;
          var scaleY = objects[i].scaleY;
          var left = objects[i].left;
          var top = objects[i].top;

          var tempScaleX = scaleX * SCALE_FACTOR;
          var tempScaleY = scaleY * SCALE_FACTOR;
          var tempLeft = left * SCALE_FACTOR;
          var tempTop = top * SCALE_FACTOR;

          objects[i].scaleX = tempScaleX;
          objects[i].scaleY = tempScaleY;
          objects[i].left = tempLeft;
          objects[i].top = tempTop;

          objects[i].setCoords();
      }
  
      canvas.renderAll();
  }

// draw everything at the appropriate scale for this canvas
zoomAll(canvas.height / localHeight);

canvas.forEachObject(function(o){ o.hasBorders = false; o.hasControls = false; o.lockMovementX = true; o.lockMovementY = true });

})();



</script>
		
</head>
  
</html>
