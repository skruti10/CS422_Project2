<!-- template for Project 1 - CS 422 - Spring 2016 - Andrew Johnson -->

<!DOCTYPE html>    
<head>
    <meta charset="utf-8">
    <title>Autmn - Smart Door</title>
  
  <!-- Get version 1.5.0 of Fabric.js from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.5.0/fabric.min.js" ></script>
  
 
  
<!-- /************************************************** Common set of codes for everyone start -HTML HEAD ***************************************************************/ -->
  
  <script src="jquery-2.2.2.min.js"></script> <!-- added by kruti for ajax calls support - weather -->
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
   <script src="https://apis.google.com/js/client.js?onload=checkAuth"></script>
   <script src="https://250mils-transfer.s3.amazonaws.com/fabric05182015.js"></script> <!-- added for textbox - auto wrap -->

<!-- /************************************************** Common set of codes for everyone end - HTML HEAD *****************************************************************/ -->

<!--Added by Sahib-->
<style type="text/css">
        #b1{position:relative; left:2800px; top: -2000px}
		#b2{position:relative; left:2500px; top: -1700px}
		#b3{position:relative; left:2200px; top: -1400px}
		#b4{position:relative; left:1900px; top: -1100px}
		#b5{position:relative; left:1600px; top: -800px}
		#b6{position:relative; left:1700px; top: -800px}
		#b7{position:relative; left:1800px; top: -800px}
		#b8{position:relative; left:680px; top: -500px}
		#b9{position:relative; left:800px; top: -500px}
		#b10{position:relative; left:-325px; top: -200px}
</style>



   
<body>
  <!-- canvas tag for Fabric.js to draw into -->
    <!-- set this to some appropriate size for your development work -->
    <!-- but keep the same aspect ratio -->
    <!-- we will use width="494" height="400" for presentations and evaluation -->
  <canvas id="c" width="2714" height="2200" style="border:10px solid black;" ></canvas>
  
<!-- /************************************************** Common set of codes for everyone start -HTML BODY ***************************************************************/ -->
  
<!-- /************************************************** Common set of codes for everyone end - HTML BODY *****************************************************************/ -->

    
<!-- ************************************** HTML Code Added by Kruti ********************************************************************************* -->
 	<img src="Icons//Kruti//menu1.png" id="kMenuIcon" style="display:none">
	<img src="Icons//Kruti//sos.png" id="kSOSIcon" style="display:none">
	<img src="Icons//Kruti//camera1.png" id="kCameraIcon" style="display:none">
	<img src="Icons//Kruti//nounreadmessage1.png" id="kNoUnreadMessageIcon" style="display:none">
	<img src="Icons//Kruti//calendar1.png" id="kCalendarIcon" style="display:none">
	<img src="Icons//Kruti//unmute.png" id="kUnMuteIcon" style="display:none">
	<img src="Icons//Kruti//settings4.png" id="kSettingsIcon" style="display:none">
	<img src="Icons//Kruti//MirrorIcon_New_1.png" id="kMirrorIcon" style="display:none">
	<img src="Icons//Kruti//rightarrow1.png.jpg" id="kRightArrowIcon" style="display:none">
	<img src="Icons//Kruti//locked1.png" id="kLockIcon" style="display:none">
	<img src="Icons//Kruti//unlock.png" id="kUnLockIcon" style="display:none">
	<img src="" id="kCurrentCloudIcon" style="display:none">
	<img src="Icons//Kruti//mute.png" id="kMuteIcon" style="display:none">
	<img src="Icons//Kruti//oneunreadmessage1.png" id="kOneUnreadMessageIcon" style="display:none">
	<img src="Icons//Kruti//GoogleExpressDelivery.png" id="kGoogleExpressDeliveryIcon" style="display:none">
	<img src="Icons//Kruti//Alert.png" id="kAlertIcon" style="display:none">
	<img src="Icons//Kruti//CallDisconnectIcon.png" id="kCallDisconnectIcon" style="display:none">
	<img src="Icons//Kruti//HalfGuestImageIcon1.png" id="kOutsideGuestImageIcon1" style="display:none">
	<img src="Icons//Kruti//HalfGuestImageIcon2.png" id="kOutsideGuestImageIcon2" style="display:none">
	<img src="Icons//Kruti//FullGuestImageIcon1.png" id="kFOutsideGuestImageIcon1" style="display:none">
	<img src="Icons//Kruti//FullGuestImageIcon2.png" id="kFOutsideGuestImageIcon2" style="display:none">
	<img src="Icons//Kruti//checkboxchecked1.png" id="kCheckBoxCheckedIcon" style="display:none">
	<img src="Icons//Kruti//checkboxunchecked1.png" id="kCheckBoxUnCheckedIcon" style="display:none">
	<img src="Icons//Kruti//Escape_Full_Screen_Camera.gif" id="kEscapeFullScreenCameraIcon" style="display:none">
	<img src="Icons//Kruti//Full_Screen_Camera.png" id="kFullScreenCameraIcon" style="display:none">
	<img src="Icons//Kruti//inside camera off icon.png" id="kInsideCameraOffIcon" style="display:none">
	<img src="Icons//Kruti//inside camera on icon.png" id="kInsideCameraOnIcon" style="display:none">
	<img src="Icons//Kruti//microphone.png" id="kMicrophoneOnIcon" style="display:none">
	<img src="Icons//Kruti//MuteMicrophone.png" id="kMicrophoneOffIcon" style="display:none">
	<img src="Icons//Kruti//CorridorView.png" id="kCorridorViewIcon" style="display:none">
	<img src="Icons//Kruti//leftarrow1.jpg" id="kLeftArrowIcon" style="display:none">	
	
	<img src="Icons//Kruti//KrutiImageIcon.png" id="kKrutiImageIcon" style="display:none">	
	<img src="Icons//Kruti//RidhiImageIcon.png" id="kRidhiImageIcon" style="display:none">
	<img src="Icons//Kruti//AnkurImageIcon.png" id="kAnkurImageIcon" style="display:none">	
	<img src="Icons//Kruti//SahibImageIcon.png" id="kSahibImageIcon" style="display:none">
	<img src="Icons//Kruti//avatar1.png" id="kAvatarIcon" style="display:none">
	
	<img src="Icons//Kruti//MirrorFull.jpg" id="kMirrorFullIcon" style="display:none">
	
	<img src="Icons//Kruti//HelpIcon.png" id="kHelpIcon" style="display:none">
	<img src="Icons//Kruti//house alarm.png" id="kHouseAlarmIcon" style="display:none">
	<img src="Icons//Kruti//theme1.png" id="kThemeIcon" style="display:none">
	<img src="Icons//Kruti//todolist1.png" id="kToDoListIcon" style="display:none">
	
	<img src="Icons//Kruti//ThemeBabyAnnouncement.jpg" id="kThemeBabyAnnouncement" style="display:none">
	<img src="Icons//Kruti//ThemeBabyAnnouncementIcon.jpg" id="kThemeBabyAnnouncementIcon" style="display:none">
	<img src="Icons//Kruti//ThemeBirthday.jpg" id="kThemeBirthday" style="display:none">
	<img src="Icons//Kruti//ThemeBirthdayIcon.png" id="kThemeBirthdayIcon" style="display:none">
	<img src="Icons//Kruti//ThemeChristmasTree.jpg" id="kThemeChristmasTree" style="display:none">
	<img src="Icons//Kruti//ThemeChristmasTreeIcon.png" id="kThemeChristmasTreeIcon" style="display:none">
	<img src="Icons//Kruti//ThemeDoorDesign.jpg" id="kThemeDoorDesign" style="display:none">
	<img src="Icons//Kruti//ThemeDoorDesignIcon.jpg" id="kThemeDoorDesignIcon" style="display:none">
	<img src="Icons//Kruti//ThemeHalloween.jpg" id="kThemeHalloween" style="display:none">
	<img src="Icons//Kruti//ThemeHalloweenIcon.jpg" id="kThemeHalloweenIcon" style="display:none">
	<img src="Icons//Kruti//ThemeWhiteIcon.png" id="kThemeWhiteIcon" style="display:none">
	<img src="Icons//Kruti//ThemeWhiteIcon.png" id="kThemeWhiteIcon" style="display:none">
	<img src="Icons//Kruti//IN.png" id="kINIcon" style="display:none">
	<img src="Icons//Kruti//OUT.png" id="kOUTIcon" style="display:none">
	<img src="Icons//Kruti//SelectedIN.png" id="kSelectedINIcon" style="display:none">
	<img src="Icons//Kruti//SelectedOUT.png" id="kSelectedOUTIcon" style="display:none">
	
	<img src="Icons//Kruti//ArrowGrey_Left.png" id="kArrowGrey_LeftIcon" style="display:none">
	<img src="Icons//Kruti//ArrowGrey_Right.png" id="kArrowGrey_RightIcon" style="display:none">
	
	<img src="" id="kIDMsgBinding" style="display:none">
	<img src="" id="kODMsgBinding" style="display:none">
	
	<img src="Icons//Kruti//RequestToUnLock.png" id="kRequestToUnLock" style="display:none">
	
	<img src="Icons//Kruti//GlobalNews.png" id="kGlobalNewsIcon" style="display:none">







<!-- *********************************** HTML Code End by Kruti **************************************************************************************  -->


<!-- ************************************HTML Code Added by Sahib ************************************************************************************* -->


<img src="Icons//keyhole1.png" id="sKeyHoleIcon" style="display:none">
<img src="Icons//doorbell1.png" id="sDoorBellIcon" style="display:none">
<img src="Icons//writemessage1.png" id="sWriteMessageIcon" style="display:none">
<img src="Icons//DeliveringPackage.jpg" id="sDeliverPackageIcon" style="display:none">
<img src="Icons//doorbellsoundsettings.png" id="sDoorBellRingingIcon" style="display:none">
<img src="Icons//new message.jpg" id="sWritingPad" style="display:none">
<img src="Icons//leftarrow1.png" id="sLeftArrow" style="display:none">

<img src="Icons//bankur.png" id="b1" width="300" height="150">
<img src="Icons//bkruti.png" id="b2" width="300" height="150">
<img src="Icons//bridhi.png" id="b3" width="300" height="150">
<img src="Icons//bsahib.png" id="b4" width="300" height="150">

<img src="Icons//autumn.png" id="b5" width="300" height="150">
<img src="Icons//microphone.png" id="smicrophone" style="display:none">

<img src="Icons//openthedoor.png" id="b6" width="300" height="150">
<img src="Icons//closethedoor.png" id="b7" width="300" height="150">
<img src="Icons//speakingmicrophone1.png" id="slisteningmicrophone" style="display:none">

<img src="Icons//white.PNG" id="swhite" style="display:none">

<img src="Icons//correctattempt.png" id="b8" width="500" height="150">
<img src="Icons//incorrectattempt.png" id="b9" width="500" height="150" onclick="showIncorrectFingerprint()">

<img src="Icons//handpointer1.png" id="shandpointer" style="display:none">
<img src="Icons//locked1.png" id="slocked" style="display:none">
<img src="Icons//unlock.png" id="sunlock" style="display:none">

<img src="Icons//incorrectprint.png" id="sincorrectprint" style="display:none">
<img src="Icons//black.jpg" id="sblack" style="display:none">
<img src="Icons//men1.png" id="smen" style="display:none">
<img src="Icons//salesman.png" id="ssalesman" style="display:none">

<img src="Icons//housealarmbutton.png" id="b10" width="500" height="150">
<img src="Icons//red.png" id="sred" style="display:none">

	<audio id="audio1">
    <source src="http://sbajaj7.people.uic.edu/CS422/images/bell.mp3" type="audio/wav" />
    </audio>

    <audio id="audio2">
    <source src="http://sbajaj7.people.uic.edu/CS422/images/beep1.mp3" type="audio/mp3" />
    </audio>
	
	<audio id="audio3">
    <source src="http://sbajaj7.people.uic.edu/CS422/project2/heyautumn.mp3" type="audio/mp3" />
    </audio>

	<audio id="audio4">
    <source src="http://sbajaj7.people.uic.edu/CS422/project2/openthedoor.mp3" type="audio/mp3" />
    </audio>
	
	<audio id="audio5">
    <source src="http://sbajaj7.people.uic.edu/CS422/project2/closethedoor.mp3" type="audio/mp3" />
    </audio>
	
	<audio id="audio6">
    <source src="http://sbajaj7.people.uic.edu/CS422/project2/alreadyunlocked.mp3" type="audio/mp3" />
    </audio>
	
	<audio id="audio7">
    <source src="http://sbajaj7.people.uic.edu/CS422/project2/housealarm.mp3" type="audio/mp3" />
    </audio>
	
	<!--
	<video id="video1" controls width="270" autoplay>
	<source src="http://sbajaj7.people.uic.edu/CS422/project2/samplesmall.mp4" type='video/mp4'>
	<source src="http://sbajaj7.people.uic.edu/CS422/project2/samplesmall.ogg" type='video/ogg'>
	<source src="http://sbajaj7.people.uic.edu/CS422/project2/samplesmall.webm" type='video/webm'>
	</video>
	-->
	
	<video height="600" width="750" id="video2" style="display: none">
	<source src="http://sbajaj7.people.uic.edu/CS422/project2/samplesmall.mp4">
	<source src="http://sbajaj7.people.uic.edu/CS422/project2/samplesmall.ogv">
	</video>	
	
	<audio id="audio8">
    <source src="http://sbajaj7.people.uic.edu/CS422/project2/housealarmoffstate.mp3" type="audio/mp3" />
    </audio>
    
 
	
	<!-- <iframe width="760" height="615" src="https://www.youtube.com/embed/ba3iwKFiNXM" id = "videoframe" frameborder="10" allowfullscreen></iframe> -->






<!-- *********************************** HTML Code End by Sahib ************************************************************************************** -->



<!-- ************************************ HTML Code Added by Ankur *********************************************************************************** -->

<img src="Icons/time1.png" id="settingsTime" style="display:none">
<img src="Icons/temperature1.png" id="settingsTemp" style="display:none">
<img src="Icons/doorbellsoundsettings.png" id="settingsBell" style="display:none">
<img src="Icons/language.png" id="settingsLang" style="display:none">
<img src="Icons/date.png" id="settingsDate" style="display:none">
<img src="Icons/users.png" id="settingsUsers" style="display:none">

<img src="Icons/12hr.png" id="settingsTime12" style="display:none">
<img src="Icons/24hr.png" id="settingsTime24" style="display:none">

<img src="Icons/celsius.jpg" id="settingsTempC" style="display:none">
<img src="Icons/fahrenheit.jpg" id="settingsTempF" style="display:none">

<img src="Icons/vol4.png" id="settingsvol4" style="display:none">
<img src="Icons/vol4fill.png" id="settingsvol4fill" style="display:none">
<img src="Icons/vol3.png" id="settingsvol3" style="display:none">
<img src="Icons/vol3fill.png" id="settingsvol3fill" style="display:none">
<img src="Icons/vol2.png" id="settingsvol2" style="display:none">
<img src="Icons/vol2fill.png" id="settingsvol2fill" style="display:none">
<img src="Icons/vol1.png" id="settingsvol1" style="display:none">
<img src="Icons/vol1fill.png" id="settingsvol1fill" style="display:none">

<img src="Icons/doorbell1.png" id="settingsdoorbell" style="display:none">

<img src="Icons/english.png" id="english" style="display:none">
<img src="Icons/spanish.png" id="spanish" style="display:none">
<img src="Icons/russian.png" id="russian" style="display:none">
<img src="Icons/dutch.png" id="dutch" style="display:none">
<img src="Icons/chinese.png" id="chinese" style="display:none">
<img src="Icons/french.png" id="french" style="display:none">
<img src="Icons/arabic.png" id="arabic" style="display:none">
<img src="Icons/hindi.png" id="hindi" style="display:none">
<img src="Icons/bengali.png" id="bengali" style="display:none">
<img src="Icons/german.png" id="german" style="display:none">

<img src="Icons/date1.png" id="date1" style="display:none">
<img src="Icons/date2.png" id="date2" style="display:none">
<img src="Icons/date3.png" id="date3" style="display:none">
<img src="Icons/date4.png" id="date4" style="display:none">

<img src="Icons/plus.png" id="plus" style="display:none">

<img src="Icons/userfinger.png" id="userfinger" style="display:none">
<img src="Icons/userphone.png" id="userphone" style="display:none">
<img src="Icons/edit.png" id="edit" style="display:none">
<img src="Icons/phonetab.png" id="phonetab" style="display:none">
<img src="Icons/phonetabselected.png" id="phonetabselected" style="display:none">
<img src="Icons/fingertab.png" id="fingertab" style="display:none">
<img src="Icons/fingertabselected.png" id="fingertabselected" style="display:none">

<img src="Icons/rightarrow1.png" id="backButton" style="display:none">
<img src="Icons/guestuser.png" id="guestuser" style="display:none">

  <audio id="bell2">
    <source src="bell2.mp3" type="audio/mp3" />
    </audio>
  <audio id="bell3">
    <source src="bell3.mp3" type="audio/mp3" />
    </audio>
      <audio id="bell4">
    <source src="bell4.mp3" type="audio/mp3" />
    </audio>
      <audio id="bell5">
    <source src="bell5.mp3" type="audio/mp3" />
    </audio>
      <audio id="bell6">
    <source src="bell6.mp3" type="audio/mp3" />
    </audio>

<!-- ************************************* HTML Code End by Ankur ************************************************************************************** -->
    
    
    
<!-- ************************************ HTML Code Added by Ridhi ************************************************************************************* -->




<img src="Icons/tickmark.png" id="rTickMark" style="display:none">
<img src="Icons/rightarrow1.png" id="rRightArrow" style="display:none">

<img src="Icons/play1.jpg.png" id="rPlay1" style="display:none">
<img src="Icons/user icon.jpg" id="rUser1" style="display:none">
<img src="Icons/camera3.png" id="rCamera2" style="display:none">

<img src="Icons/profile2.PNG" id="rUser2" style="display:none">
<img src="Icons/Arrow.jpg" id="rArrow" style="display:none">
<img src="Icons/handpointer1.png" id="rHand" style="display:none">
<img src="Icons/speakingmicrophone1.png" id="rVoice" style="display:none">
<img src="Icons/nfc.png" id="rPhone1" style="display:none">
<img src="Icons/NFC_2.png" id="rPhone2" style="display:none">
<img src="Icons/NFC_3.png" id="rPhone3" style="display:none">
<img src="Icons/NFC_4.jpg" id="rPhone4" style="display:none">
<img src="Icons/sync.png" id="rSync" style="display:none">
<img src="" id="rTempIcon1" style="display:none">
<img src="" id="rTempIcon2" style="display:none">
<img src="" id="rTempIcon3" style="display:none">
<img src="" id="rTempIcon4" style="display:none">
<img src="" id="rTempIcon5" style="display:none">
<img src="" id="rTempIcon6" style="display:none">

<img src="" id="rTempIcon" style="display:none">
<img src="Icons/rKrutiImageIcon.png" id="kKrutiImageIcon1" style="display:none">	
	<img src="Icons/rRidhiImageIcon.png" id="kRidhiImageIcon2" style="display:none">
	<img src="Icons/rAnkurImageIcon.png" id="kAnkurImageIcon3" style="display:none">	
	<img src="Icons/rSahibImageIcon.png" id="kSahibImageIcon4" style="display:none">
	
<img src="Icons/fingerRidhi.PNG" id="rscanridhi" style="display:none">
<img src="Icons/fingerKruti.PNG" id="rscankruti" style="display:none">
<img src="Icons/fingerSahib.PNG" id="rscansahib" style="display:none">
<img src="Icons/fingerAnkur.PNG" id="rscanankur" style="display:none">

   <audio id="audioCameraClick">
    <source src="camera-shutter-click-01.mp3" type="audio/mp3" />
    </audio>
    
     <audio id="scan">
    <source src="Checkout Scanner.mp3" type="audio/mp3" />
    </audio>


<!-- ************************************ HTML Code End by Ridhi ************************************************************************************** -->


</body>
 
<script>
// the aspect ratios given here are not quite tall enough for a 36" x 80" door
// we are assuming bottom 15 inches of the door are not part of the display. 
// that part contains lots of necessary electronics so the bottom of the door
// sits off the bottom of our display wall. You are implementing the interface
// for the top 65" of the display / door
(function() {
// within the code below I assume I am drawing into a 1220x990 box
// then I can scale the group to whatever size the final canvas is
  var localHeight = 990;
  var localWidth = 1220;
  var canvas = this.__canvas = new fabric.Canvas('c');
  // set background to blue to make it easier to see it
  canvas.backgroundColor = "#DDDDDD";  // light grey
// need 36 wide instead of 40 as now
var insideDoor = new fabric.Rect({
  left: 22,
  top: 0,
  fill: 'white',
  stroke: 'black',
  width: 555,
  height: localHeight,
  angle: 0
});
// the doors will not be selectable or movable
insideDoor.hasControls = insideDoor.hasBorders = false;
insideDoor.lockMovementX = insideDoor.lockMovementY = true;
var outsideDoor = new fabric.Rect({
  left: 642,
  top: 0,
  fill: 'white',
  stroke: 'black',
  width: 555,
  height: localHeight,
  angle: 0
});
outsideDoor.hasControls = outsideDoor.hasBorders = false;
outsideDoor.lockMovementX = outsideDoor.lockMovementY = true;



/************************************************** Common set of codes for everyone start -JS ***************************************************************/

//Functions for playing sound

function playDoorbell() {
    console.log("Play Doorbell");
    audio1.play(); // audio will load and then play
}

function playBeep(){

    audio2.play(); 
}

function playCameraClick()
{
   audioCameraClick.play();
}

function playScan()
{
   scan.play();
}

/*** START $$Kruti added the code for profiles***/


/******************$$Ridhi- variables********************************************/

var activeuser = '';
var multipleActiveUser = [];

var rID_ChooseText = new fabric.Text('Please identify yourself!',{
  left: 450,
  top: 300,
  fontSize: 40,
  fontWeight: 'bold',
  fontFamily: 'Helvetica'
});

/************************************************/
function kUserProfiles(kUserName,kImageIcon,kFingerIcon,kVoiceCommand,kPhoneSynced,kMessages,kToDoList,kCalendar,kHasUsedMenu)
{
	this.kUserName 		= kUserName;
	this.kImageIcon 	= kImageIcon;
	this.kFingerIcon 	= kFingerIcon;
	this.kVoiceCommand 	= kVoiceCommand;
	this.kPhoneSynced 	= kPhoneSynced;
	this.kMessages 		= kMessages;
	this.kToDoList 		= kToDoList;
	this.kCalendar 		= kCalendar;
	this.kHasUsedMenu 	= kHasUsedMenu;
};

var k_KrutiProfile = new kUserProfiles('Kruti','','','','','','','',false);
var k_SahibProfile = new kUserProfiles('Sahib','','','','','','','',false);
var k_AnkurProfile = new kUserProfiles('Ankur','','','','','','','',false);
var k_RidhiProfile = new kUserProfiles('Ridhi','','','','','','','',false);

var k_GuestProfile1 = new kUserProfiles('Guest1','','','','','','','',false);
var k_GuestProfile2 = new kUserProfiles('Guest2','','','','','','','',false);


function kCommonFunction(name, value)
{
	this.kName = name;
	this.kValue = value;
	this.kIsUsed = false;
};

var kUserMessages = [];

var kUserLogs = [];

kUserMessages.push((new kCommonFunction("all","Icons/Kruti/WelcomeMessage.png")));

kUserMessages.push((new kCommonFunction("kruti","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("kruti","Icons/Kruti/KrutiMessage.png")));

kUserMessages.push((new kCommonFunction("ridhi","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("ridhi","Icons/Kruti/RidhiMessage.png")));

kUserMessages.push((new kCommonFunction("sahib","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("sahib","Icons/Kruti/SahibMessage.png")));

kUserMessages.push((new kCommonFunction("ankur","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("ankur","Icons/Kruti/AnkurMessage.png")));


var rTasks= [];
var rCalendarEvents = [];

/********************************************************************************************************************/

/***END $$Kruti added the code for profiles***/

/************************************START $$ Kruti $$ added code for mirror behind the inside door *****************************/

var kMirrorFullIconInfo = new kInsertImageInfo("kMirrorFullIcon",document.getElementById('kMirrorFullIcon'));  
var kID_MirrorFullIcon = new fabric.Image(kMirrorFullIconInfo.kImageElement, 
{
	left: 23,
	top: 0,
	//top: kID_HeaderPanelTop,
	width: 554,
	height: localHeight
});
canvas.add(kID_MirrorFullIcon);

/************************************END $$ Kruti $$ added code for mirror behind the inside door *****************************/

/************************************START $$ Kruti $$ added code for themes behind the inside door *****************************/

var kThemeBabyAnnouncementInfo = new kInsertImageInfo("kThemeBabyAnnouncement",document.getElementById('kThemeBabyAnnouncement'));  
var kID_ThemeBabyAnnouncement = new fabric.Image(kThemeBabyAnnouncementInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeBabyAnnouncement);

var kThemeBirthdayInfo = new kInsertImageInfo("kThemeBirthday",document.getElementById('kThemeBirthday'));  
var kID_ThemeBirthday = new fabric.Image(kThemeBirthdayInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeBirthday);

var kThemeChristmasTreeInfo = new kInsertImageInfo("kThemeChristmasTree",document.getElementById('kThemeChristmasTree'));  
var kID_ThemeChristmasTree = new fabric.Image(kThemeChristmasTreeInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeChristmasTree);

var kThemeDoorDesignInfo = new kInsertImageInfo("kThemeDoorDesign",document.getElementById('kThemeDoorDesign'));  
var kID_ThemeDoorDesign = new fabric.Image(kThemeDoorDesignInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeDoorDesign);

var kThemeHalloweenInfo = new kInsertImageInfo("kThemeHalloween",document.getElementById('kThemeHalloween'));  
var kID_ThemeHalloween = new fabric.Image(kThemeHalloweenInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeHalloween);

/************************************END $$ Kruti $$ added code for themes behind the inside door *****************************/

/************************************START $$ Kruti $$ added code for themes behind the outside door *****************************/

var kOD_ThemeBabyAnnouncement = new fabric.Image(kThemeBabyAnnouncementInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeBabyAnnouncement);


var kOD_ThemeBirthday = new fabric.Image(kThemeBirthdayInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeBirthday);


var kOD_ThemeChristmasTree = new fabric.Image(kThemeChristmasTreeInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeChristmasTree);

var kOD_ThemeDoorDesign = new fabric.Image(kThemeDoorDesignInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeDoorDesign);


var kOD_ThemeHalloween = new fabric.Image(kThemeHalloweenInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeHalloween);

function kRemoveThemeWallpapers()
{
	canvas.remove(kID_ThemeBabyAnnouncement);
	canvas.remove(kID_ThemeBirthday);
	canvas.remove(kID_ThemeChristmasTree);
	canvas.remove(kID_ThemeDoorDesign);
	canvas.remove(kID_ThemeHalloween);
	
	canvas.remove(kOD_ThemeBabyAnnouncement);
	canvas.remove(kOD_ThemeBirthday);
	canvas.remove(kOD_ThemeChristmasTree);
	canvas.remove(kOD_ThemeDoorDesign);
	canvas.remove(kOD_ThemeHalloween);
};


/************************************END $$ Kruti $$ added code for themes behind the outside door *****************************/

/********************************START $$ KRUTI panel for no response to the outside user *********************************************/

var kOD_ResponsePanelLeft = 800;
var kOD_ResponsePanelTop = 380;

var kOD_NoResponsePanel = new fabric.Rect({
  left: kOD_ResponsePanelLeft,
  top: kOD_ResponsePanelTop,
  fill: 'white',
  strokeWidth: 3,
  stroke: 'rgba(0,0,0,20)',
  width: 252,
  height: 50
});


var kOD_NoResponseText = new fabric.Textbox('No Response. Please contact the house owner or leave a message',{
  left: kOD_ResponsePanelLeft +15,
  top: kOD_ResponsePanelTop +5,
  fontSize: 15,
  fontFamily: kID_Font,
  width: 240,
  height: 50
});

canvas.add(kOD_NoResponseText);
canvas.add(kOD_NoResponsePanel);

function kOD_AddResponsePanel()
{
	canvas.add(kOD_NoResponsePanel);
	canvas.add(kOD_NoResponseText);
};

function kOD_RemoveResponsePanel()
{
	canvas.remove(kOD_NoResponseText);
	canvas.remove(kOD_NoResponsePanel);
};

/**********************************END $$ KRUTI panel for no response to the outside user********************************/


/************************************************** Common set of codes for everyone end - JS *****************************************************************/

// add all of the elements to the canvas
canvas.add(insideDoor);
canvas.add(outsideDoor);



/*************************************** Code Added by Kruti ***************************************************************************************/

//common function used for images - whenever we use any image use this function to maintain the icons added on canvas
function kInsertImageInfo(kId,kElement)
{
	this.kImageId = kId;
	this.kImageElement = kElement;
	this.kIsUsed = false;
};

//generalized width, height, font and fontsize used in code by kruti  
var kID_IconW = 60;
var kID_IconH = 70;
var kID_Font = 'Tahoma';
var kID_FontSize = 25;

// intially the door is in locked state.
var kID_IsDoorLocked = true;

// initially the menu is closed.
var kID_IsMenuOpen = false;

//intially the bell is not muted
var kID_IsBellMuted = false;

//is inside theme selected
var kID_ThemeApplied = false;

var kID_SelThemeIcon = '';

//is outside theme selected
var kOD_ThemeApplied = false;

//for checking read and unread messages
var kID_AnyUnReadMsg = false;

var kID_AnyPackageDelivered = false;

var kID_AnyAlert = true;

var kID_IsMenuItemOpen = false;

var kOD_SelThemeIcon = '';

var kID_UserResponseOnBell = -1;

var kID_IsGuestUserPresent = -1;

var kOD_BellRingCounter = 0; //check how many times a user has rung the bell

var kStrokeColor = 'black';
var kStrokeWidth10 = 5;
var kStrokeWidth0 = 0;


/********************** code for date + time + weather start ***************************************************************************************/
var kID_HeaderPanelLeft = 23;
var kID_HeaderPanelTop = 2;

//added rectangle panel for reference
var kID_HeaderPanel = new fabric.Rect({
  left: kID_HeaderPanelLeft,
  top: kID_HeaderPanelTop,
  fill: 'white',
  width: 554,
  height: 90
});

canvas.add(kID_HeaderPanel);

//variables for date, time
var kID_CurrentDateTime ;
var kID_DD;
var kID_MM;
var kID_YYYY;
   
// add the date to canvas - initially blank, update from function
var kID_DateText = new fabric.Text('',{
	left: kID_HeaderPanelLeft +8,
	top: kID_HeaderPanelTop + 5,
	fontWeight: 'bold',
	fontSize: kID_FontSize,
	fontFamily: kID_Font
});
canvas.add(kID_DateText);

var kID_Hrs;
var kID_Mins;

// **$$$ ankurs new variables **************/
var kID_AMPM;
var kID_TimeFormat = 24;
var kID_TempFormat = "F";
var kID_DateFormat = 1;
var kID_CurrentDate;

/***********************************/

// add the time to canvas - initially blank, update from function
var kID_TimeText = new fabric.Text('',{
	left: kID_HeaderPanelLeft +8,
	top: kID_HeaderPanelTop + 35,
	fontWeight: 'bold',
	fontSize: kID_FontSize,
	fontFamily: kID_Font
});
canvas.add(kID_TimeText);

/* $$ ankurs new function for date ******/
function kID_Date()
{

	kID_CurrentDate = new Date();
	kID_DD = kID_CurrentDate.getDate();

	kID_MM = kID_CurrentDate.getMonth()+1; //January is 0!

	kID_YYYY = kID_CurrentDate.getFullYear();
	   
	if(kID_DD<10){
	kID_DD='0'+kID_DD;
	} 

	if(kID_MM<10){
	kID_MM='0'+kID_MM;
	}

	if(kID_DateFormat==1)
	{

		kID_DateText.set({
			text: kID_MM+"/"+kID_DD+"/"+kID_YYYY
			});
	}

	if(kID_DateFormat==2)
	{
		kID_DateText.set({
		text: kID_DD+"/"+kID_MM+"/"+kID_YYYY
		});
	}

	if(kID_DateFormat==3)
	{
		if(kID_MM=='01')kID_MM='JAN';if(kID_MM=='02')kID_MM='FEB';if(kID_MM=='03')kID_MM='MAR';if(kID_MM=='04')kID_MM='APR';
		if(kID_MM=='05')kID_MM='MAY';if(kID_MM=='06')kID_MM='JUN';if(kID_MM=='07')kID_MM='JUL';if(kID_MM=='08')kID_MM='AUG';
		if(kID_MM=='09')kID_MM='SEP';if(kID_MM=='10')kID_MM='OCT';if(kID_MM=='11')kID_MM='NOV';if(kID_MM=='12')kID_MM='DEC';
		kID_DateText.set({
		text: kID_DD+" "+kID_MM+" "+kID_YYYY
		});
	}

	if(kID_DateFormat==4)
	{
		if(kID_MM=='01')kID_MM='JAN';if(kID_MM=='02')kID_MM='FEB';if(kID_MM=='03')kID_MM='MAR';if(kID_MM=='04')kID_MM='APR';
		if(kID_MM=='05')kID_MM='MAY';if(kID_MM=='06')kID_MM='JUN';if(kID_MM=='07')kID_MM='JUL';if(kID_MM=='08')kID_MM='AUG';
		if(kID_MM=='09')kID_MM='SEP';if(kID_MM=='10')kID_MM='OCT';if(kID_MM=='11')kID_MM='NOV';if(kID_MM=='12')kID_MM='DEC';
		kID_DateText.set({
		text: kID_MM+" "+kID_DD+" "+kID_YYYY
		});
	}
	//update the date on canvas
	canvas.remove(kID_DateText);
	canvas.add(kID_DateText);
};

kID_Date();


/***************************************/

// $$$$$ Ankurs new code for time refresh ****************************/
function kID_Refresh_DateTime_24()
{
	kID_CurrentDateTime = new Date();

	kID_Hrs = kID_CurrentDateTime.getHours();
	kID_Mins = kID_CurrentDateTime.getMinutes();

	if(kID_Hrs < 10){
	kID_Hrs = '0'+kID_Hrs;
	}

	if(kID_Mins < 10){
	kID_Mins = '0'+kID_Mins;
	}

	kID_TimeText.set({
	text:kID_Hrs+":"+kID_Mins
	});

	//update the time on canvas
	canvas.remove(kID_TimeText);
	canvas.add(kID_TimeText);
};
function kID_Refresh_DateTime_12()
{
	kID_CurrentDateTime = new Date();

	kID_Hrs = kID_CurrentDateTime.getHours();
	kID_Mins = kID_CurrentDateTime.getMinutes();

	if(kID_Hrs<12){
	kID_AMPM = 'AM';
	}
	if(kID_Hrs>12){
	kID_Hrs = kID_Hrs -  12;
	kID_AMPM = 'PM';
	}

	if(kID_Hrs < 10){
	kID_Hrs = '0'+kID_Hrs;
	}

	if(kID_Mins < 10){
	kID_Mins = '0'+kID_Mins;
	}

	kID_TimeText.set({
	text:kID_Hrs+":"+kID_Mins+kID_AMPM
});

//update the time on canvas
canvas.remove(kID_TimeText);
canvas.add(kID_TimeText);
};


//call the function to update the blank date and time initially.
kID_Refresh_DateTime_24();

var ref_12 = "";
var ref_24;


// *************** end ***********************************************/


//call the function to update the blank date and time initially.
//kID_Refresh_DateTime();

//refresh the date and time automatically in every 10 seconds.
//setInterval(kID_Refresh_DateTime, 30000);

// add the weather - temperature - initially blank - added through service. Default value shown in Faranheit
var kID_WeatherTemp = new fabric.Text('', {
	left: kID_HeaderPanelLeft +450,
	top: kID_HeaderPanelTop + 35,
	fontWeight: 'bold',
	fontSize: kID_FontSize,
	fontFamily: kID_Font
});
canvas.add(kID_WeatherTemp);

// weather - cloud icon - initially the img tag is blank - updated as fetche from the weather service.
var kCurrentCloudIconInfo = new kInsertImageInfo("kCurrentCloudIcon",document.getElementById('kCurrentCloudIcon'));  
var kID_CurrentCloudIcon = new fabric.Image(kCurrentCloudIconInfo.kImageElement, 
{
	left: kID_HeaderPanelLeft +380,
	top: kID_HeaderPanelTop + 5,
	//top: kID_HeaderPanelTop,
	width: kID_IconW,
	height: kID_IconH
});
canvas.add(kID_CurrentCloudIcon);


// function to call the weather service - get temperature and cloud icon.
function kWeatherUpdate()
{
	/* Edit these variables */
	var api = "a175edc1bcfb5ef4";
	var state = "IL";
	var city = "Chicago";

	$.ajax
	({
		url: "http://api.wunderground.com/api/" + api + "/forecast/conditions/q/" + state + "/" + city + ".json",
		dataType: "jsonp",
		success: function (parsed_json) 
		{
			//var celcius, far;
			//get the cloud icon image url
			var icon_url_json = "http://icons.wxug.com/i/c/f/" + parsed_json['current_observation']['icon'] + ".gif";
			
			var icon_json = '<img src ="' + icon_url_json + '" />';
			
			//temperature in Faranheit
			var temp_json = parsed_json['current_observation']['temp_f'];
			
			//convert temperature into Celsius
			var temp_json_C = parsed_json['current_observation']['temp_c'];
			
			temp_json += "°F";
			temp_json_C += "°C";

			// more text on weather can be filled in later
			var condition_json = parsed_json['current_observation']['weather'];
			var real_feel_json = "Feels Like " + parsed_json['current_observation']['feelslike_f'] + "°F";

			var wind_json = 'Winds are ' + parsed_json['current_observation']['wind_string'];
			var location_json = city + ', ' + state;
			
			//get the image element added in html for cloud - initially the src is blank
			document.getElementById("kCurrentCloudIcon").src= icon_url_json;
			
			// set the fabric icon with updated image icon.
			/*kID_WeatherTemp.set({
				text:temp_json
			});*/
			
			// $$ ankurs code for showing f or c as per the settings panel
			// set the fabric icon with updated image icon.
			if(kID_TempFormat=="F")
			{
				kID_WeatherTemp.set({
				text:temp_json
				});
			}
			else if(kID_TempFormat=="C")
			{
				kID_WeatherTemp.set({
				text:temp_json_C
				});
			}
			
			// rebind the temperature reading
			canvas.remove(kID_WeatherTemp);
			canvas.add(kID_WeatherTemp);
			
			// rebind the cloud icon
			canvas.remove(kID_CurrentCloudIcon);
			canvas.add(kID_CurrentCloudIcon);

		}
	});
};

// initially everything is blank for temperature and cloud icon - call the service to update the canvas elements.
kWeatherUpdate();
// update in every half an hour
setInterval(kWeatherUpdate, 1800000);


/********************** code for date + time + weather end ***************************************************************************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/********************** code for notification panel start ***************************************************************************************/

var kID_NIconW = 60;
var kID_NIconH = 70;

var kID_NotificationPanelLeft = 23;
var kID_NotificationPanelTop = 90;

// notification panel rectangle - used for reference
var kID_NotificationPanel = new fabric.Rect({
  left: kID_NotificationPanelLeft,
  top: kID_NotificationPanelTop-5,
  fill: 'white',
  width: 554,
  height: 63
});

var kMuteIconInfo = new kInsertImageInfo("kMuteIcon",document.getElementById('kMuteIcon'));  
var kID_MuteIcon = new fabric.Image(kMuteIconInfo.kImageElement, {
	left: kID_NotificationPanelLeft+75, 
	top: kID_NotificationPanelTop-5, 
	width: kID_NIconW+10,
	height: kID_NIconH-10
});

var kUnMuteIconInfo = new kInsertImageInfo("kUnMuteIcon",document.getElementById('kUnMuteIcon'));  
var kID_NP_UnMuteIcon = new fabric.Image(kUnMuteIconInfo.kImageElement, {
	left: kID_NotificationPanelLeft+75, 
	top: kID_NotificationPanelTop-5, 
	width: kID_NIconW+10,
	height: kID_NIconH-10
});

kID_MuteIcon.on('selected',function()
{
	canvas.remove(kID_MuteIcon);
	canvas.add(kID_NP_UnMuteIcon);
	
	kID_IsBellMuted = false;
	
	setTimeout(kID_Remove_NP_UnMute, 5000);
	
	canvas.deactivateAll(); // deselect everything
	
});

function kID_Remove_NP_UnMute()
{
	canvas.remove(kID_NP_UnMuteIcon);
}


var kDeliveryIconInfo = new kInsertImageInfo("sDeliverPackageIcon",document.getElementById('sDeliverPackageIcon'));  
var kID_DeliveryIcon = new fabric.Image(kDeliveryIconInfo.kImageElement, {
	width: 60,
	height: 52,
	left: kID_NotificationPanelLeft+245, 
	top: kID_NotificationPanelTop-3
});


/*var kAlertIconInfo = new kInsertImageInfo("kAlertIcon",document.getElementById('kAlertIcon'));  
var kID_AlertIcon = new fabric.Image(kAlertIconInfo.kImageElement, {
	left: kID_NotificationPanelLeft+430, 
	top: kID_NotificationPanelTop, 
	width: kID_NIconW,
	height: kID_NIconH-20
});*/

var kGlobalNewsIconInfo = new kInsertImageInfo("kGlobalNewsIcon",document.getElementById('kGlobalNewsIcon'));  
var kID_GlobalNewsIcon = new fabric.Image(kGlobalNewsIconInfo.kImageElement, {
	left: kID_NotificationPanelLeft+435, 
	top: kID_NotificationPanelTop, 
	width: kID_NIconW,
	height: kID_NIconW-20
});

function kAddNotificationPanel_WithHidingPanel()
{
	canvas.add(kID_NP_UnMuteIcon);
	canvas.add(kID_MuteIcon);
	canvas.add(kID_DeliveryIcon);
	canvas.add(kID_GlobalNewsIcon);
	
	canvas.add(kID_NotificationPanel);
};

kAddNotificationPanel_WithHidingPanel();

function kRemoveNotificationPanel()
{
	canvas.remove(kID_NP_UnMuteIcon);
	canvas.remove(kID_NotificationPanel);
	canvas.remove(kID_MuteIcon);
	canvas.remove(kID_DeliveryIcon);
	canvas.remove(kID_GlobalNewsIcon);
};

function kAddNotificationPanel()
{
	
	if(kID_IsBellMuted ||kID_AnyUnReadMsg || kID_AnyPackageDelivered || kID_AnyAlert)
	{
		canvas.remove(kID_NotificationPanel);
		canvas.add(kID_NotificationPanel);
	}
	
	if(kID_IsBellMuted)
	{
		canvas.remove(kID_MuteIcon);
		canvas.add(kID_MuteIcon);
	}
	
	if(kID_AnyPackageDelivered)
	{
		canvas.remove(kID_DeliveryIcon);
		canvas.add(kID_DeliveryIcon);
	}
	
	//if(kID_AnyAlert)
		//canvas.add(kID_AlertIcon);
	canvas.remove(kID_GlobalNewsIcon);
	canvas.add(kID_GlobalNewsIcon);
	
};


kID_GlobalNewsIcon.on('selected', function() 
{
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	
	kRemoveNotificationPanel();
	
	initialize();
	canvas.deactivateAll(); // deselect everything
});

kID_DeliveryIcon.on('selected',function()
{
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	
	kRemoveNotificationPanel();
	
	kID_AnyPackageDelivered = false;
	
	kRemovePackageLog();
	kBindPackageLogs();
	canvas.deactivateAll(); // deselect everything
	
});

/********************** code for notification panel end ***************************************************************************************/

/********************************************** Multiple user approach ***********************************************/

var kID_Multiple = new fabric.Text('Multiple users',{
  left: 213, 
  top: 380, 
  fontSize: 25,
  fontWeight: 'bold',
  fontFamily: kID_Font
});


kID_Multiple.on('selected',function()
{
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	
	
	//kID_RemoveAllIcons();
	kRemoveMultiUserPanel();
	
	multipleActiveUser.push('ridhi');
	multipleActiveUser.push('kruti');
	
	kID_MultiUser1.set({
		text: 'Ridhi'
	});
	
	kID_MultiUser2.set({
		text: 'Kruti'
	});
	
	kID_MultiUser3.set({
		text: 'Sahib'
	});
	
	kAddMultiUserPanel();
	
	canvas.deactivateAll(); // deselect everything
});

var kID_MultiPanelLeft = 23;
var kID_MultiPanelTop = 180;

var kID_MultipleUserPanel = new fabric.Rect({
left: kID_MultiPanelLeft,
  top: kID_MultiPanelTop,
  fill: 'white',
  width: 552,
  height: 60
});

var kID_MultiUser1 = new fabric.Text('',{
  left: kID_MultiPanelLeft+65, 
  top: kID_MultiPanelTop+13, 
  fontSize: 25,
  fontWeight: 'bold',
  fontFamily: kID_Font
});

var kID_MultiUser2 = new fabric.Text('',{
  left: kID_MultiPanelLeft+420, 
  top: kID_MultiPanelTop+13, 
  fontSize: 25,
  fontWeight: 'bold',
  fontFamily: kID_Font
});

var kID_MultiUser3 = new fabric.Text('',{
  left: kID_MultiPanelLeft+245, 
  top: kID_MultiPanelTop+13, 
  fontSize: 25,
  fontWeight: 'bold',
  fontFamily: kID_Font
});

function kAddMultiUserPanel()
{
	kID_MultipleUserPanel.set({
		fill: 'grey',
		strokeWidth: 5,
		stroke: 'rgba(0,0,0,20)'
	})
	canvas.add(kID_MultipleUserPanel);
	canvas.add(kID_MultiUser1);
	canvas.add(kID_MultiUser2);
	canvas.add(kID_MultiUser3);
};

function kRemoveMultiUserPanel()
{
	canvas.remove(kID_MultipleUserPanel);
	canvas.remove(kID_MultiUser1);
	canvas.remove(kID_MultiUser2);
	canvas.remove(kID_MultiUser3);
};

function kAddMultiUserPanel_WithHiding()
{
	canvas.add(kID_MultiUser1);
	canvas.add(kID_MultiUser2);
	canvas.add(kID_MultiUser3);
	canvas.add(kID_MultipleUserPanel);
}

kAddMultiUserPanel_WithHiding();

kID_MultiUser1.on('selected',function()
{
	kRemoveMultiUserPanel();
	kRemoveUserSpecificPanel();
	activeuser = kID_MultiUser1.getText();
	
	kAddUserSpecificPanel();
	
});

/*********************************************************************************************************************/

/**************************** user specific panel *************************************************************************************/

var kID_UserSpecificPanelLeft = 23;
var kID_UserSpecificPanelTop = 230;
var kID_US_IconW = 60;
var kID_US_IconH = 70;

var kID_UserSpecificPanel = new fabric.Rect({
left: kID_UserSpecificPanelLeft,
  top: kID_UserSpecificPanelTop,
  fill: 'white',
  width: 552,
  height: 120
});

var kLeftArrowIconInfo = new kInsertImageInfo("kLeftArrowIcon",document.getElementById('kLeftArrowIcon'));  
var kID_US_LeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_UserSpecificPanelLeft+15, 
	top: kID_UserSpecificPanelTop + 10 , 
	width: 30,
	height: 30
});

kID_US_LeftArrowIcon.on('selected',function()
{
	kRemoveUserSpecificPanel();	
	canvas.deactivateAll(); // deselect everything
});

var kNoUnreadMessageIconInfo = new kInsertImageInfo("kNoUnreadMessageIcon",document.getElementById('kNoUnreadMessageIcon')); 
var kID_US_NoUnreadMessage = new fabric.Image(kNoUnreadMessageIconInfo.kImageElement, {
	left: kID_UserSpecificPanelLeft+65, 
	top: kID_UserSpecificPanelTop, 
	width: kID_US_IconW+10,
	height: kID_US_IconH-5
});

kID_US_NoUnreadMessage.on('selected',function()
{
	kRemoveUserSpecificPanel();
	kRemoveNotificationPanel();
	kCallNoUnReadFunc();
	canvas.deactivateAll(); // deselect everything
});

var kOneUnreadMessageIconInfo = new kInsertImageInfo("kOneUnreadMessageIcon",document.getElementById('kOneUnreadMessageIcon')); 
var kID_US_OneUnreadMessageIcon = new fabric.Image(kOneUnreadMessageIconInfo.kImageElement, {
	left: kID_UserSpecificPanelLeft+65, 
	top: kID_UserSpecificPanelTop, 
	width: kID_US_IconW+10,
	height: kID_US_IconH-5
});

kID_US_OneUnreadMessageIcon.on('selected',function()
{
	kRemoveUserSpecificPanel();
	kRemoveNotificationPanel();
	kCallUnReadFunc();
	canvas.deactivateAll(); // deselect everything
});

var kCalendarIconInfo = new kInsertImageInfo("kCalendarIcon",document.getElementById('kCalendarIcon'));  
var kID_US_CalendarIcon = new fabric.Image(kCalendarIconInfo.kImageElement, {
	left: kID_UserSpecificPanelLeft+245, 
	top: kID_UserSpecificPanelTop, 
	width: kID_US_IconW+10,
	height: kID_US_IconH-5
});

kID_US_CalendarIcon.on('selected',function()
{
	kRemoveUserSpecificPanel();
	kRemoveNotificationPanel();
	
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	//kRemoveMenuIcons();
	rCalendarEvents = [];
	 rEvent0.set({
	 text: activeuser + "'s Calendar!"
	});

	canvas.add(kID_CalendarLeftArrowIcon);
	handleAuthClick();
	canvas.add(rEvent0);
	
	canvas.deactivateAll(); // deselect everything
});

var kToDoListIconInfo = new kInsertImageInfo("kToDoListIcon",document.getElementById('kToDoListIcon')); 
var kID_US_ToDoListIcon = new fabric.Image(kToDoListIconInfo.kImageElement, {
	left: kID_UserSpecificPanelLeft+425, 
	top: kID_UserSpecificPanelTop, 
	width: kID_US_IconW+10,
	height: kID_US_IconH-5
});

kID_US_ToDoListIcon.on('selected',function()
{
	kRemoveUserSpecificPanel();
	kRemoveNotificationPanel();
	
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	
	rTasks = [];
	rID_HideTodoList();
	canvas.add(kID_TaskLeftArrowIcon);
	rTask1.set({
	 text: activeuser + "'s tasks!"
	});
	canvas.add(rTask1);


	TaskHandleAuthClick();
	//getUserTasks(activeuser);
	canvas.deactivateAll();
});

function kAddUserSpecificPanel_WithHidingPanel()
{
	canvas.add(kID_US_LeftArrowIcon);
	canvas.add(kID_US_NoUnreadMessage);
	canvas.add(kID_US_OneUnreadMessageIcon);
	canvas.add(kID_US_CalendarIcon);
	canvas.add(kID_US_ToDoListIcon);
	canvas.add(kID_UserSpecificPanel);
};

function kRemoveUserSpecificPanel()
{
	canvas.remove(kID_US_LeftArrowIcon);
	canvas.remove(kID_UserSpecificPanel);
	canvas.remove(kID_US_NoUnreadMessage);
	canvas.remove(kID_US_OneUnreadMessageIcon);
	canvas.remove(kID_US_CalendarIcon);
	canvas.remove(kID_US_ToDoListIcon);
};

function kAddUserSpecificPanel()
{
	canvas.add(kID_UserSpecificPanel);
	canvas.add(kID_US_LeftArrowIcon);
	
	for(kCounter = 0 ; kCounter < kUserMessages.length; kCounter++)
	{
		console.log(activeuser);
		
		if( ( activeuser != '' && (kUserMessages[kCounter].kName.toLowerCase() == 'all' || kUserMessages[kCounter].kName.toLowerCase() == activeuser.toLowerCase())) && kUserMessages[kCounter].kIsUsed == false)
		{
			kID_AnyUnReadMsg = true;
			break;
		}
		
	}
	
	if(kID_AnyUnReadMsg)
		canvas.add(kID_US_OneUnreadMessageIcon);
	else
		canvas.add(kID_US_NoUnreadMessage);
	
	canvas.add(kID_US_CalendarIcon);
	canvas.add(kID_US_ToDoListIcon);
}

kAddUserSpecificPanel_WithHidingPanel();


/***************************************************************************************************************************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/**************************** code for menu icons start *************************************/

var kID_MenuIconW = 60;
var kID_MenuIconH = 70;

var kID_MenuPanelLeft = 23;
var kID_MenuPanelTop = 230;

// menu rectangle - added for reference
var kID_MenuPanel = new fabric.Rect({
  left: kID_MenuPanelLeft,
  top: kID_MenuPanelTop-40,
  fill: 'white',
  width: 554,
  height: 230
});

//canvas.add(kID_MenuPanel);

var kCameraIconInfo = new kInsertImageInfo("kCameraIcon",document.getElementById('kCameraIcon'));  
var kID_CameraIcon = new fabric.Image(kCameraIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+65, 
	top: kID_MenuPanelTop -32 , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH-5
});

/**************************************************************************************************************************************************/
/************* code for camera panel icons ************************************************/

var kID_CamIconW = 60;
var kID_CamIconH = 70;

var kID_IsAvatarShown = false;
var kID_IsMicrophoneMute = false;

var kID_CameraPanelLeft = 23;
var kID_CameraPanelTop = 170;

// camera panel rectangle - added for reference
var kID_CameraPanel = new fabric.Rect({
  left: kID_CameraPanelLeft,
  top: kID_CameraPanelTop,
  fill: 'white',
  width: 554,
  height: 300
});
//canvas.add(kID_CameraPanel);

var kID_CameraLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+5,
	top: kID_CameraPanelTop+110 , 
	width: kID_CamIconW-20,
	height: kID_CamIconH-30
});

// add the guest user images and default blank screen as rectangle when no user is present outside
var kOutsideGuestImageIcon1Info = new kInsertImageInfo("kOutsideGuestImageIcon1",document.getElementById('kOutsideGuestImageIcon1'));  
var kID_OutsideGuestImageIcon1 = new fabric.Image(kOutsideGuestImageIcon1Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kOutsideGuestImageIcon2Info = new kInsertImageInfo("kOutsideGuestImageIcon2",document.getElementById('kOutsideGuestImageIcon2'));  
var kID_OutsideGuestImageIcon2 = new fabric.Image(kOutsideGuestImageIcon2Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kFOutsideGuestImageIcon1Info = new kInsertImageInfo("kFOutsideGuestImageIcon1",document.getElementById('kFOutsideGuestImageIcon1'));  
var kID_FOutsideGuestImageIcon1 = new fabric.Image(kFOutsideGuestImageIcon1Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kFOutsideGuestImageIcon2Info = new kInsertImageInfo("kFOutsideGuestImageIcon2",document.getElementById('kFOutsideGuestImageIcon2'));  
var kID_FOutsideGuestImageIcon2 = new fabric.Image(kFOutsideGuestImageIcon2Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kCorridorViewIconInfo = new kInsertImageInfo("kCorridorViewIcon",document.getElementById('kCorridorViewIcon'));  
var kID_CorridorViewIcon = new fabric.Image(kCorridorViewIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+150
});

var kCheckBoxUnCheckedIconInfo = new kInsertImageInfo("kCheckBoxUnCheckedIcon",document.getElementById('kCheckBoxUnCheckedIcon'));  
var kID_CheckBoxUnCheckedIcon = new fabric.Image(kCheckBoxUnCheckedIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop+220, 
	width: kID_CamIconW+10,
	height: kID_CamIconH-5
});


var kCheckBoxCheckedIconInfo = new kInsertImageInfo("kCheckBoxCheckedIcon",document.getElementById('kCheckBoxCheckedIcon'));  
var kID_CheckBoxCheckedIcon = new fabric.Image(kCheckBoxCheckedIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop+220, 
	width: kID_CamIconW+10,
	height: kID_CamIconH-5
});

var kID_ShowAvatar = new fabric.Text('Show Avatar',{
	left: kID_CameraPanelLeft+145, 
	top: kID_CameraPanelTop+235, 
	fontSize: kID_FontSize + 20,
	//fontWeight:'bold',
	fontFamily: kID_Font
});


var kEscapeFullScreenCameraIconInfo = new kInsertImageInfo("kEscapeFullScreenCameraIcon",document.getElementById('kEscapeFullScreenCameraIcon'));  
var kID_EscapeFullScreenCameraIcon = new fabric.Image(kEscapeFullScreenCameraIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+420, 
	top: kID_CameraPanelTop-5, 
	width: kID_CamIconW+15,
	height: kID_CamIconH +10
});

var kFullScreenCameraIconInfo = new kInsertImageInfo("kFullScreenCameraIcon",document.getElementById('kFullScreenCameraIcon'));  
var kID_FullScreenCameraIcon = new fabric.Image(kFullScreenCameraIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+420, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+12,
	height: kID_CamIconH-5
});

var kInsideCameraOffIconInfo = new kInsertImageInfo("kInsideCameraOffIcon",document.getElementById('kInsideCameraOffIcon'));  
var kID_InsideCameraOffIcon = new fabric.Image(kInsideCameraOffIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+422, 
	top: kID_CameraPanelTop+100, 
	width: kID_CamIconW+10,
	height: kID_CamIconH + 10
});

var kInsideCameraOnIconInfo = new kInsertImageInfo("kInsideCameraOnIcon",document.getElementById('kInsideCameraOnIcon'));  
var kID_InsideCameraOnIcon = new fabric.Image(kInsideCameraOnIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+420, 
	top: kID_CameraPanelTop+90, 
	width: kID_CamIconW+15,
	height: kID_CamIconH + 40
});

var kMicrophoneOnIconInfo = new kInsertImageInfo("kMicrophoneOnIcon",document.getElementById('kMicrophoneOnIcon'));  
var kID_MicrophoneOnIcon = new fabric.Image(kMicrophoneOnIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+415, 
	top: kID_CameraPanelTop+210, 
	width: kID_CamIconW+15,
	height: kID_CamIconH 
});

var kMicrophoneOffIconInfo = new kInsertImageInfo("kMicrophoneOffIcon",document.getElementById('kMicrophoneOffIcon'));  
var kID_MicrophoneOffIcon = new fabric.Image(kMicrophoneOffIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+415, 
	top: kID_CameraPanelTop+210, 
	width: kID_CamIconW+15,
	height: kID_CamIconH 
});

/**************** add all icons for camera panel **************************************/

function kAddCameraPanel_WithHidingPanel()
{
	canvas.add(kID_CameraLeftArrowIcon);
	canvas.add(kID_OutsideGuestImageIcon1);
	canvas.add(kID_FOutsideGuestImageIcon1);
	canvas.add(kID_OutsideGuestImageIcon2);
	canvas.add(kID_FOutsideGuestImageIcon2);
	canvas.add(kID_CorridorViewIcon);
	canvas.add(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_CheckBoxCheckedIcon);
	canvas.add(kID_ShowAvatar);
	canvas.add(kID_EscapeFullScreenCameraIcon);
	canvas.add(kID_FullScreenCameraIcon);
	canvas.add(kID_InsideCameraOffIcon);
	canvas.add(kID_InsideCameraOnIcon);
	canvas.add(kID_MicrophoneOnIcon);
	canvas.add(kID_MicrophoneOffIcon);

	// hide the entire camera panel for the start.
	canvas.add(kID_CameraPanel);
};


function kAddCameraPanel_WithoutHidingPanel()
{
	canvas.add(kID_CameraPanel);
	canvas.add(kID_CameraLeftArrowIcon);
	canvas.add(kID_OutsideGuestImageIcon1);
	canvas.add(kID_FOutsideGuestImageIcon1);
	canvas.add(kID_OutsideGuestImageIcon2);
	canvas.add(kID_FOutsideGuestImageIcon2);
	canvas.add(kID_CorridorViewIcon);
	canvas.add(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_CheckBoxCheckedIcon);
	canvas.add(kID_ShowAvatar);
	canvas.add(kID_EscapeFullScreenCameraIcon);
	canvas.add(kID_FullScreenCameraIcon);
	canvas.add(kID_InsideCameraOffIcon);
	canvas.add(kID_InsideCameraOnIcon);
	canvas.add(kID_MicrophoneOnIcon);
	canvas.add(kID_MicrophoneOffIcon);
};
kAddCameraPanel_WithHidingPanel();

function kLeftArrowCameraRemove()
{
	canvas.remove(kID_OutsideGuestImageIcon1);
	canvas.remove(kID_FOutsideGuestImageIcon1);
	canvas.remove(kID_OutsideGuestImageIcon2);
	canvas.remove(kID_FOutsideGuestImageIcon2);
	canvas.remove(kID_CorridorViewIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_EscapeFullScreenCameraIcon);
	canvas.remove(kID_FullScreenCameraIcon);
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.remove(kID_MicrophoneOnIcon);
	canvas.remove(kID_MicrophoneOffIcon);
	canvas.remove(kID_CameraLeftArrowIcon);
	canvas.remove(kID_CameraPanel);
};

/************************************ events for camera panel ***************************************************************************/
kID_CameraLeftArrowIcon.on('selected', function() 
{
	kID_UserResponseOnBell = 1;
	kID_IsAvatarShown = false;
	kID_IsMicrophoneMute = false;
	kID_IsMenuOpen = true;
	kRemoveCameraPanel_WithHidingPanel_OD();
	kLeftArrowCameraRemove();
	//canvas.add(kID_LockIcon);	
	kAddMenuPanel1();
	canvas.deactivateAll(); // deselect everything
});

kID_CheckBoxUnCheckedIcon.on('selected', function() 
{
	kID_UserResponseOnBell = 1;
	kRemoveCameraPanel_WithHidingPanel_OD();
	canvas.remove(kID_CheckBoxCheckedIcon);
	
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_CheckBoxCheckedIcon);
	
	kID_IsAvatarShown = true;
	
	canvas.add(kOD_AvatarIcon);
	
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.add(kID_InsideCameraOffIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_CheckBoxCheckedIcon.on('selected', function() 
{
	kRemoveCameraPanel_WithHidingPanel_OD();
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.add(kID_CheckBoxUnCheckedIcon);
	
	kID_IsAvatarShown = false;
	
	canvas.deactivateAll(); // deselect everything
});

/** start -used for both - escape and full screen mode ****/
function kRemoveCameraImageIcons()
{
	canvas.remove(kID_OutsideGuestImageIcon1);
	canvas.remove(kID_OutsideGuestImageIcon2);
	canvas.remove(kID_CorridorViewIcon);
	canvas.remove(kID_FOutsideGuestImageIcon1);
	canvas.remove(kID_FOutsideGuestImageIcon2);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.remove(kID_ShowAvatar);
}
/** end -used for both - escape and full screen mode ****/

kID_EscapeFullScreenCameraIcon.on('selected', function() 
{
	canvas.remove(kID_EscapeFullScreenCameraIcon);
	
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.add(kID_FullScreenCameraIcon);
	
	/*** remove all images *****************/
	kRemoveCameraImageIcons();
	/**************************************/
	
	kID_CheckBoxCheckedIcon.set({
		top: kID_CameraPanelTop+720
	});
	
	kID_CheckBoxUnCheckedIcon.set({
		top: kID_CameraPanelTop+720
	});
	kID_ShowAvatar.set({
		top: kID_CameraPanelTop+735
	});
	
	if(kID_IsAvatarShown)
	{
		canvas.add(kID_CheckBoxCheckedIcon);
	}
	else
	{
		canvas.add(kID_CheckBoxUnCheckedIcon);
	}
	
	canvas.add(kID_ShowAvatar);
	
	kID_OutsideGuestImageIcon1.set({
		left: kID_CameraPanelLeft+200, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+260,
		height: kID_CamIconH+140
	});
	
	kID_OutsideGuestImageIcon2.set({
		left: kID_CameraPanelLeft+200, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+260,
		height: kID_CamIconH+140
	});
	
	kID_CorridorViewIcon.set({
		left: kID_CameraPanelLeft+200, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+260,
		height: kID_CamIconH+140
	});
	//canvas.add(kID_OutsideGuestImageIcon1);
	canvas.add(kID_OutsideGuestImageIcon2);
	//canvas.add(kID_CorridorViewIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_FullScreenCameraIcon.on('selected', function() 
{
	kID_UserResponseOnBell = 1;
	canvas.remove(kID_FullScreenCameraIcon);
	
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.add(kID_EscapeFullScreenCameraIcon);
	
	/*** remove all images *****************/
	kRemoveCameraImageIcons();
	/**************************************/
	
	kID_CheckBoxCheckedIcon.set({
		top: kID_CameraPanelTop+120, 
	});
	
	kID_CheckBoxUnCheckedIcon.set({
		top: kID_CameraPanelTop+120, 
	});
	kID_ShowAvatar.set({
		top: kID_CameraPanelTop+130
	});
	
	if(kID_IsAvatarShown)
	{
		canvas.add(kID_CheckBoxCheckedIcon);
	}
	else
	{
		canvas.add(kID_CheckBoxUnCheckedIcon);
	}
	
	canvas.add(kID_ShowAvatar);
	
	kID_FOutsideGuestImageIcon1.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+200,
		height: kID_CamIconH+720
	});
	
	kID_FOutsideGuestImageIcon2.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+200,
		height: kID_CamIconH+720
	});
	
	kID_CorridorViewIcon.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+200,
		height: kID_CamIconH+720
	});
	
	if(kID_IsGuestUserPresent == 1)
		canvas.add(kID_FOutsideGuestImageIcon2);
	else 
		canvas.add(kID_CorridorViewIcon);
	
	canvas.deactivateAll(); // deselect everything
});


kID_InsideCameraOffIcon.on('selected', function() 
{
	kID_UserResponseOnBell = 1;
	kRemoveCameraPanel_WithHidingPanel_OD();
	
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.add(kID_InsideCameraOnIcon);
	
	canvas.add(kID_CheckBoxUnCheckedIcon);
	
	kID_IsAvatarShown = false;
	
	/*** add the image icons for outside panel - make the inside user visible *****/
	
	/*** IMP - need to fetch the image as per the user profile inside standing near the door ****/
	if(activeuser.toLowerCase() == 'ridhi')
	{
		canvas.add(kOD_RidhiImageIcon);
	}
	else if(activeuser.toLowerCase() == 'kruti')
	{
		canvas.add(kOD_KrutiImageIcon);
	}
	else if(activeuser.toLowerCase() == 'sahib')
	{
		canvas.add(kOD_SahibImageIcon);
	}
	else if(activeuser.toLowerCase() == 'sahib')
	{
		canvas.add(kOD_AnkurImageIcon);
	}
	/*** add the image icons for outside panel - make the inside user visible *****/

	canvas.deactivateAll(); // deselect everything
});

kID_InsideCameraOnIcon.on('selected', function() 
{
	/*** remove the otuside camera panel first *****/
	kRemoveCameraPanel_WithHidingPanel_OD();
	/*** remove the otuside camera panel first *****/
	
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.add(kID_InsideCameraOffIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_MicrophoneOnIcon.on('selected', function() 
{
	canvas.remove(kID_MicrophoneOnIcon);
	canvas.add(kID_MicrophoneOffIcon);
	kID_IsMicrophoneMute = true;
	
	canvas.deactivateAll(); // deselect everything
});

kID_MicrophoneOffIcon.on('selected', function() 
{
	kID_UserResponseOnBell = 1;
	canvas.remove(kID_MicrophoneOffIcon);
	canvas.add(kID_MicrophoneOnIcon);
	kID_IsMicrophoneMute = false;
	
	canvas.deactivateAll(); // deselect everything
});

/*********************************************************************************************************************************/


/************* code end for camera panel icons ************************************************/
/**********************************************************************************************************************************/

 
var kID_NoUnreadIcon = new fabric.Image(kNoUnreadMessageIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW + 185, 
	top: kID_MenuPanelTop-50  , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+30
});


//add the un read message icon along with read message icons in menu - use same id as used for notification panel.

var kID_OneUnreadMessageIcon_Menu = new fabric.Image(kOneUnreadMessageIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW + 185, 
	top: kID_MenuPanelTop-30  ,
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+10
});

/**********************************START Message Panel ****************************************************************/
var kID_MsgIconW = 60;
var kID_MsgIconH = 70;

var kID_MsgPanelLeft = 23;
var kID_MsgPanelTop = 100;

var kID_RightArrowCounter = 0;
var kID_LeftArrowCounter = 0;

var kID_IsReadMode = false;
var kID_IsWriteMode = false;
var kID_MsgAllSel = false;
var kID_MsgKrutiSel = false;
var kID_MsgRidhiSel = false;
var kID_MsgSahibSel = false;
var kID_MsgAnkurSel = false;
var kID_IsPostInSel = false;
var kID_IsPostOutSel = false;

var kID_CurMsgUser = 'all';


// message panel rectangle - added for reference
var kID_MsgPanel = new fabric.Rect({
  left: kID_MsgPanelLeft,
  top: kID_MsgPanelTop,
  fill: 'white',
  width: 554,
  height: 350
});


var kID_MsgTopLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+5,
	top: kID_MsgPanelTop+14, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});

var kID_MsgRead = new fabric.Rect({
  left: kID_MsgPanelLeft+65,
  top: kID_MsgPanelTop+10,
  fill: 'grey',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgReadTxt = new fabric.Text('Read',{
	left: kID_MsgPanelLeft+120, //1635,
	top: kID_MsgPanelTop +15, //100,
	fontSize: kID_FontSize + 10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});


var kID_MsgWrite = new fabric.Rect({
  left: kID_MsgPanelLeft+280,
  top: kID_MsgPanelTop+10,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgWriteTxt = new fabric.Text('Write',{
	left: kID_MsgPanelLeft+330, //1635,
	top: kID_MsgPanelTop +15, //100,
	fontSize: kID_FontSize + 10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgAll = new fabric.Rect({
  left: kID_MsgPanelLeft+65,
  top: kID_MsgPanelTop+60,
  fill: 'grey',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgAllTxt = new fabric.Text('All',{
	left: kID_MsgPanelLeft+90, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize+5,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgKruti = new fabric.Rect({
  left: kID_MsgPanelLeft+151,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgKrutiTxt = new fabric.Text('Kruti',{
	left: kID_MsgPanelLeft+160, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgRidhi = new fabric.Rect({
  left: kID_MsgPanelLeft+237,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgRidhiTxt = new fabric.Text('Ridhi',{
	left: kID_MsgPanelLeft+245, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgSahib = new fabric.Rect({
  left: kID_MsgPanelLeft+323,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgSahibTxt = new fabric.Text('Sahib',{
	left: kID_MsgPanelLeft+333, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgAnkur = new fabric.Rect({
  left: kID_MsgPanelLeft+409,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgAnkurTxt = new fabric.Text('Ankur',{
	left: kID_MsgPanelLeft+415, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kMsgMidGreyLeftArrowIconInfo = new kInsertImageInfo("kArrowGrey_LeftIcon",document.getElementById('kArrowGrey_LeftIcon'));  
var kID_MsgMidGreyLeftArrowIcon = new fabric.Image(kMsgMidGreyLeftArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+5,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});

var kMsgMidGreyRightArrowIconInfo = new kInsertImageInfo("kArrowGrey_RightIcon",document.getElementById('kArrowGrey_RightIcon'));  
var kID_MsgMidGreyRightArrowIcon = new fabric.Image(kMsgMidGreyRightArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+505,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});


var kMsgMidLeftArrowIconInfo = new kInsertImageInfo("kLeftArrowIcon",document.getElementById('kLeftArrowIcon'));  
var kID_MsgMidLeftArrowIcon = new fabric.Image(kMsgMidLeftArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+5,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});

var kMsgMidRightArrowIconInfo = new kInsertImageInfo("kRightArrowIcon",document.getElementById('kRightArrowIcon'));  
var kID_MsgMidRightArrowIcon = new fabric.Image(kMsgMidRightArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+505,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});


var kMsgBindInfo = new kInsertImageInfo("kIDMsgBinding",document.getElementById('kIDMsgBinding'));  
var kID_MsgBind1 = new fabric.Image(kMsgBindInfo.kImageElement, 
{
	left: kID_MsgPanelLeft +65,
	top: kID_MsgPanelTop+120,
	strokeWidth:2,
	width: 420,
	height: 180
});


var kID_MsgPostIN = new fabric.Rect({
  left: kID_MsgPanelLeft+65,
  top: kID_MsgPanelTop+290,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgPostINTxt = new fabric.Text('Post In',{
	left: kID_MsgPanelLeft+110, //1635,
	top: kID_MsgPanelTop +300, //100,
	fontSize: kID_FontSize+10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgPostOUT = new fabric.Rect({
  left: kID_MsgPanelLeft+280,
  top: kID_MsgPanelTop+290,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgPostOUTTxt = new fabric.Text('Post Out',{
	left: kID_MsgPanelLeft+320, //1635,
	top: kID_MsgPanelTop +300, //100,
	fontSize: kID_FontSize+10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

function kAddMessagePanel_WithHidingPanel()
{
	canvas.add(kID_MsgTopLeftArrowIcon);
	
	canvas.add(kID_MsgRead);
	canvas.add(kID_MsgWrite);
	
	canvas.add(kID_MsgAll);
	canvas.add(kID_MsgKruti);
	canvas.add(kID_MsgRidhi);
	canvas.add(kID_MsgSahib);
	canvas.add(kID_MsgAnkur);
	
	canvas.add(kID_MsgPostIN);
	canvas.add(kID_MsgPostOUT);
	
	canvas.add(kID_MsgReadTxt);
	canvas.add(kID_MsgWriteTxt);
	canvas.add(kID_MsgAllTxt);
	canvas.add(kID_MsgKrutiTxt);
	canvas.add(kID_MsgRidhiTxt);
	canvas.add(kID_MsgSahibTxt);
	canvas.add(kID_MsgAnkurTxt);
	
	canvas.add(kID_MsgMidGreyLeftArrowIcon);
	canvas.add(kID_MsgMidGreyRightArrowIcon);
	canvas.add(kID_MsgMidLeftArrowIcon);
	canvas.add(kID_MsgMidRightArrowIcon);
	
	canvas.add(kID_MsgBind1);
	
	
	canvas.add(kID_MsgPostINTxt);
	canvas.add(kID_MsgPostOUTTxt);
	
	//hide with the panel
	canvas.add(kID_MsgPanel);
};

kAddMessagePanel_WithHidingPanel();

function kAddMessagePanel_WithoutHidingPanel()
{
	canvas.add(kID_MsgPanel);
	canvas.add(kID_MsgTopLeftArrowIcon);
	
	canvas.add(kID_MsgRead);
	kID_MsgRead.set({
		fill:'grey'
	});
	canvas.add(kID_MsgWrite);
	
	canvas.add(kID_MsgAll);
	canvas.add(kID_MsgKruti);
	canvas.add(kID_MsgRidhi);
	canvas.add(kID_MsgSahib);
	canvas.add(kID_MsgAnkur);
	
	if(activeuser.toLowerCase() == '' || activeuser.toLowerCase() == 'all')
	{
		kID_MsgAll.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'ridhi')
	{
		kID_MsgRidhi.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'kruti')
	{
		kID_MsgKruti.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'sahib')
	{
		kID_MsgSahib.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'ankur')
	{
		kID_MsgAnkur.set({
			fill:'grey'
		});
	}
	
	canvas.add(kID_MsgReadTxt);
	canvas.add(kID_MsgWriteTxt);
	canvas.add(kID_MsgAllTxt);
	canvas.add(kID_MsgKrutiTxt);
	canvas.add(kID_MsgRidhiTxt);
	canvas.add(kID_MsgSahibTxt);
	canvas.add(kID_MsgAnkurTxt);
	
	canvas.add(kID_MsgBind1);
	
	
	getMessagesAsPerUser(activeuser,0);
};


function kRemoveMessagePanel()
{
	canvas.remove(kID_MsgPanel);
	canvas.remove(kID_MsgTopLeftArrowIcon);
	
	canvas.remove(kID_MsgRead);
	canvas.remove(kID_MsgWrite);
	
	canvas.remove(kID_MsgAll);
	canvas.remove(kID_MsgKruti);
	canvas.remove(kID_MsgRidhi);
	canvas.remove(kID_MsgSahib);
	canvas.remove(kID_MsgAnkur);
	
	canvas.remove(kID_MsgPostIN);
	canvas.remove(kID_MsgPostOUT);
	
	canvas.remove(kID_MsgReadTxt);
	canvas.remove(kID_MsgWriteTxt);
	canvas.remove(kID_MsgAllTxt);
	canvas.remove(kID_MsgKrutiTxt);
	canvas.remove(kID_MsgRidhiTxt);
	canvas.remove(kID_MsgSahibTxt);
	canvas.remove(kID_MsgAnkurTxt);
	
	canvas.remove(kID_MsgMidGreyLeftArrowIcon);
	canvas.remove(kID_MsgMidGreyRightArrowIcon);
	canvas.remove(kID_MsgMidLeftArrowIcon);
	canvas.remove(kID_MsgMidRightArrowIcon);
	
	canvas.remove(kID_MsgBind1);
	
	canvas.remove(kID_MsgPostINTxt);
	canvas.remove(kID_MsgPostOUTTxt);
};

function kID_ResetRWMsgIcons(leaveThis)
{
	if(leaveThis != 'read')
	{
		kID_MsgRead.set({
			fill:'white'
		});
	}
	
	if(leaveThis != 'write')
	{
		kID_MsgWrite.set({
			fill:'white'
		});
	}
	
};

function kID_ResetNamesMsgIcons(leaveThis)
{	
	if(leaveThis == '' || leaveThis.toLowerCase() != 'all')
	{
		kID_MsgAllSel = false;
		
		kID_MsgAll.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'kruti')
	{
		kID_MsgKrutiSel = false;
		
		kID_MsgKruti.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'ridhi')
	{
		kID_MsgRidhiSel = false;
		
		kID_MsgRidhi.set({
			fill:'white'
		});
	
	}
	
	if(leaveThis.toLowerCase() != 'sahib')
	{
		kID_MsgSahibSel = false;
		
		kID_MsgSahib.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'ankur')
	{
		kID_MsgAnkurSel = false;
		
		kID_MsgAnkur.set({
			fill:'white'
		});
	}
};

function kID_ResetPostMsgIcons(leaveThis)
{
	if(leaveThis.toLowerCase() != 'postIn')
	{
		kID_IsPostInSel = false;
		
		kID_MsgPostIN.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'postOut')
	{
		kID_IsPostOutSel = false;
		
		kID_MsgPostOUT.set({
			fill:'white'
		});
	}
};

function kID_ResetAllMsgIcons()
{
	
	kID_MsgRead.set({
		fill:'white'
	});
	
	kID_IsWriteMode = false;
		
	kID_MsgWrite.set({
		fill:'white'
	});
	
	kID_MsgAllSel = false;
		
	kID_MsgAll.set({
		fill:'white'
	});
	
	kID_MsgKrutiSel = false;
		
	kID_MsgKruti.set({
		fill:'white'
	});
		
	kID_MsgRidhiSel = false;
		
	kID_MsgRidhi.set({
		fill:'white'
	});
	
	kID_MsgSahibSel = false;
		
	kID_MsgSahib.set({
		fill:'white'
	});

	kID_MsgAnkurSel = false;
		
	kID_MsgAnkur.set({
		fill:'white'
	});
		
	kID_IsPostInSel = false;
		
	kID_MsgPostIN.set({
		fill:'white'
	});
		
	kID_IsPostOutSel = false;
		
	kID_MsgPostOUT.set({
		fill:'white'
	});
	kID_IsPostInSel = false;
		
	kID_MsgPostIN.set({
		fill:'white'
	});
	
	kID_IsPostOutSel = false;
		
	kID_MsgPostOUT.set({
		fill:'white'
	});
}

/**********************************END Message Panel ****************************************************************/

/**************START bind on selected for message icons ***************************************************************/
function kCallNoUnReadFunc()
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	//kID_IsDoorLocked = true;
	kID_IsMenuItemOpen = true;
	
	kID_CurMsgUser = activeuser;
	kID_IsReadMode = true;
	kID_RightArrowCounter = 0;
	
	kID_ResetAllMsgIcons();
	
	kRemoveMessagePanel();
	kRemoveMenuIcons();
	
	kAddMessagePanel_WithoutHidingPanel();
	canvas.deactivateAll(); // deselect everything
};

kID_NoUnreadIcon.on('selected', function() 
{
	kCallNoUnReadFunc();
	canvas.deactivateAll(); // deselect everything
});

function kCallUnReadFunc()
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	//kID_IsDoorLocked = true;
	kID_IsMenuItemOpen = true;
	
	kID_CurMsgUser = activeuser;
	kID_IsReadMode = true;
	kID_RightArrowCounter = 0;
	
	kID_ResetAllMsgIcons();
	
	kRemoveMessagePanel();
	kRemoveMenuIcons();
	
	kAddMessagePanel_WithoutHidingPanel();
};

kID_OneUnreadMessageIcon_Menu.on('selected', function() 
{
	kCallUnReadFunc();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgTopLeftArrowIcon.on('selected', function() 
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = true;
	
	kRemoveMessagePanel();
	
	kAddMenuPanel1();
	
	canvas.deactivateAll(); // deselect everything
});

function kID_ReadMessage()
{
	kID_ResetRWMsgIcons('read');
	
	kID_MsgKruti.set({
		fill:'grey'
	});
		
	
	kID_MsgRidhi.set({
		fill:'grey'
	});
	
	kID_MsgSahib.set({
		fill:'grey'
	});

		
	kID_MsgAnkur.set({
		fill:'grey'
	});
	
	
	kID_ResetNamesMsgIcons(activeuser);
	
	if(kID_IsReadMode == false)
	{
		kID_CurMsgUser = activeuser;
		kID_IsReadMode = true;
		kID_IsWriteMode = false;
		
		kID_MsgRead.set({
			fill:'grey'
		});
		
		canvas.remove(kID_MsgPostIN);
		canvas.remove(kID_MsgPostOUT);
		
		canvas.remove(kID_MsgPostINTxt);
		canvas.remove(kID_MsgPostOUTTxt);
		
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.remove(kID_MsgMidRightArrowIcon);
		
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.remove(kID_MsgMidGreyRightArrowIcon);
		
		kID_RightArrowCounter = 0;
		
		getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	
	canvas.deactivateAll(); // deselect everything
};


kID_MsgRead.on('selected', function() 
{	
	kID_ReadMessage();
	
	canvas.deactivateAll(); // deselect everything
});

kID_MsgReadTxt.on('selected', function() 
{	
	kID_ReadMessage();
	
	canvas.deactivateAll(); // deselect everything
});

function kID_WriteMessage()
{
	kID_ResetRWMsgIcons('write');
	kID_ResetNamesMsgIcons('none');
	kID_ResetPostMsgIcons('none');
	
	if(kID_IsWriteMode == false)
	{
		kID_IsReadMode = false;
		kID_IsWriteMode = true;
		
		kID_MsgWrite.set({
			fill:'grey'
		});
		
		kID_MsgAll.set({
			fill:'grey'
		});
		
		//canvas.isDrawingMode = true;
		
		canvas.remove(kID_MsgBind1);
		kID_CurMsgUser = 'all';
		
		
		canvas.add(kID_MsgPostIN);
		canvas.add(kID_MsgPostOUT);
		
		canvas.add(kID_MsgPostINTxt);
		canvas.add(kID_MsgPostOUTTxt);
		
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.remove(kID_MsgMidRightArrowIcon);
		
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.remove(kID_MsgMidGreyRightArrowIcon);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgWrite.on('selected', function() 
{	
	kID_WriteMessage();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgWriteTxt.on('selected', function() 
{	
	kID_WriteMessage();
	canvas.deactivateAll(); // deselect everything
});

function getMessagesAsPerUser(current,position)
{
	var tempArray = [];
	kCounter = -1;
	
	for(kCounter = kUserMessages.length-1 ; kCounter >= 0; kCounter--)
	{
		if(kUserMessages[kCounter].kName.toLowerCase() == current.toLowerCase())
		{
			tempArray.push(kUserMessages[kCounter].kValue);
		}
	}
	
	if(tempArray.length >= 1)
	{
		document.getElementById("kIDMsgBinding").src= tempArray[position];
	}
	
	for(kCounter = 0 ; kCounter < kUserMessages.length; kCounter++)
	{
		if( kUserMessages[kCounter].kName.toLowerCase() == current.toLowerCase() && kUserMessages[kCounter].kValue == tempArray[position])
		{
			kUserMessages[kCounter].kIsUsed = true;
		}
	}
	
	canvas.remove(kID_MsgBind1);
	
	canvas.add(kID_MsgBind1);
	
	/********* to added only if user has more than two messages ************************/
	if(position >= 0 && tempArray.length-1 > position)
	{
		canvas.remove(kID_MsgMidGreyRightArrowIcon);
		canvas.remove(kID_MsgMidRightArrowIcon);
		canvas.add(kID_MsgMidRightArrowIcon);
	}
	else
	{
		canvas.remove(kID_MsgMidRightArrowIcon);
		canvas.add(kID_MsgMidGreyRightArrowIcon);
	}
	
	if(position == 0)
	{
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.add(kID_MsgMidGreyLeftArrowIcon);
	}
	else
	{
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.add(kID_MsgMidLeftArrowIcon);
	}
	
	canvas.deactivateAll(); // deselect everything
	/***********************************************************************************/
};

function kOnSelectMsgAll()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('all');
	if(kID_MsgAllSel == false)
	{
		kID_CurMsgUser = 'all';
		kID_MsgAllSel = true;
		
		kID_MsgAll.set({
			fill:'grey'
		});
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgAll.on('selected', function() 
{	
	kOnSelectMsgAll();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgAllTxt.on('selected',function(){
	kOnSelectMsgAll();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgKruti()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('kruti');
	if(kID_MsgKrutiSel == false)
	{
		kID_CurMsgUser = 'kruti';
		kID_MsgKrutiSel = true;
		
		kID_MsgKruti.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll();
};

kID_MsgKruti.on('selected', function() 
{	
	kOnSelectMsgKruti();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgKrutiTxt.on('selected', function() 
{	
	kOnSelectMsgKruti();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgRidhi()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('ridhi');
	if(kID_MsgRidhiSel == false)
	{
		kID_CurMsgUser = 'ridhi';
		kID_MsgRidhiSel = true;
		
		kID_MsgRidhi.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgRidhi.on('selected', function() 
{	
	kOnSelectMsgRidhi();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgRidhiTxt.on('selected', function() 
{	
	kOnSelectMsgRidhi();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgSahib()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('sahib');
	if(kID_MsgSahibSel == false)
	{
		kID_CurMsgUser = 'sahib';
		kID_MsgSahibSel = true;
		
		kID_MsgSahib.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgSahib.on('selected', function() 
{	
	kOnSelectMsgSahib();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgSahibTxt.on('selected', function() 
{	
	kOnSelectMsgSahib();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgAnkur()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('ankur');
	if(kID_MsgAnkurSel == false)
	{
		kID_CurMsgUser = 'ankur';
		kID_MsgAnkurSel = true;
		
		kID_MsgAnkur.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgAnkur.on('selected', function() 
{	
	kOnSelectMsgAnkur();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgAnkurTxt.on('selected', function() 
{	
	kOnSelectMsgAnkur();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgMidRightArrowIcon.on('selected', function() 
{	
	kID_RightArrowCounter = kID_RightArrowCounter + 1;
	getMessagesAsPerUser(kID_CurMsgUser,kID_RightArrowCounter);
	canvas.deactivateAll(); // deselect everything
});

kID_MsgMidLeftArrowIcon.on('selected', function() 
{	
	kID_RightArrowCounter = kID_RightArrowCounter - 1;
	getMessagesAsPerUser(kID_CurMsgUser,kID_RightArrowCounter);
	canvas.deactivateAll(); // deselect everything
});

function kID_PostINMessage()
{
	kID_ResetPostMsgIcons('postIn');
	if(kID_IsPostInSel == false)
	{
		kID_IsPostInSel = true;
		
		kID_MsgPostIN.set({
			fill:'grey'
		});
		
		kUserMessages.push((new kCommonFunction(kID_CurMsgUser,"Icons/Kruti/NewMsgPostedIn.png")));
		
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgPostIN.on('selected', function() 
{	
	kID_PostINMessage();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgPostINTxt.on('selected', function() 
{	
	kID_PostINMessage();
	canvas.deactivateAll(); // deselect everything
});

function kID_PostOutMessage()
{
	kID_ResetPostMsgIcons('postOut');
	if(kID_IsPostOutSel == false)
	{
		kID_IsPostOutSel = true;
		
		kID_MsgPostOUT.set({
			fill:'grey'
		});
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgPostOUT.on('selected', function() 
{	
	kID_PostOutMessage();	
	canvas.deactivateAll(); // deselect everything
});

kID_MsgPostOUTTxt.on('selected', function() 
{	
	kID_PostOutMessage();	
	canvas.deactivateAll(); // deselect everything
});

/***************END of bind on selected for message icons*************************************************************/


var kID_CalendarIcon = new fabric.Image(kCalendarIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW*2 + 300, 
	top: kID_MenuPanelTop-38 , 
	width: kID_MenuIconW,
	height: kID_MenuIconH
});

var kID_UnMuteIcon = new fabric.Image(kUnMuteIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 60, 
	top: kID_MenuPanelTop + 90 , 
	width: kID_MenuIconW+20,
	height: kID_MenuIconH+25
});

kID_UnMuteIcon.on('selected', function() 
{
	//canvas.remove(kID_MuteIcon_Menu);
	canvas.remove(kID_UnMuteIcon);
	kID_IsBellMuted = true;
	
	canvas.add(kID_MuteIcon_Menu);
	
	canvas.deactivateAll(); // deselect everything
});

//add the mute icon along with unmute - use the same id as used in notification panel
var kID_MuteIcon_Menu = new fabric.Image(kMuteIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 60, 
	top: kID_MenuPanelTop + 90 , 
	width: kID_MenuIconW+20,
	height: kID_MenuIconH+25
});

kID_MuteIcon_Menu.on('selected', function() 
{
	canvas.remove(kID_MuteIcon_Menu);
	//canvas.remove(kID_UnMuteIcon);
	kID_IsBellMuted = false;
	
	canvas.add(kID_UnMuteIcon);
	
	canvas.deactivateAll(); // deselect everything
});

var kSettingsIconInfo = new kInsertImageInfo("kSettingsIcon",document.getElementById('kSettingsIcon'));  
var kID_SettingsIcon = new fabric.Image(kSettingsIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW + 185,
	top: kID_MenuPanelTop + 95, 
	width: kID_MenuIconW+15,
	height: kID_MenuIconH+10
});

var kMirrorIconInfo = new kInsertImageInfo("kMirrorIcon",document.getElementById('kMirrorIcon'));  
var kID_MirrorIcon = new fabric.Image(kMirrorIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW*2 + 300,
	top: kID_MenuPanelTop + 90 , 
	width: kID_MenuIconW,
	height: kID_MenuIconH+10
});

/****************START event binding for mirror icon ***************************/
kID_MirrorIcon.on('selected', function() 
{
	kID_IsMenuItemOpen = true;
	kID_IsMenuOpen = false;
	//kID_IsDoorLocked = true;
	
	canvas.remove(kID_DoorKnob);
	canvas.remove(kID_MirrorFullIcon);
	
	canvas.add(kID_MirrorFullIcon);
	canvas.add(kID_DoorKnob);
	
	canvas.deactivateAll(); // deselect everything
});

kID_MirrorFullIcon.on('selected', function() 
{
	canvas.remove(kID_MirrorFullIcon);
	canvas.remove(kID_DoorKnob);
	
	canvas.add(kID_DoorKnob);
	
	canvas.deactivateAll(); // deselect everything
});

/****************END event binding for mirror icon ***************************/

var kRightArrowIconInfo = new kInsertImageInfo("kRightArrowIcon",document.getElementById('kRightArrowIcon'));  
var kID_RightArrowIcon = new fabric.Image(kRightArrowIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW*2 + 370,
	top: kID_MenuPanelTop + 50 , 
	width: kID_MenuIconW-20,
	height: kID_MenuIconH-30
});

kID_RightArrowIcon.on('selected', function() 
{
	kRemoveMenuIcons();
	
	kAddMenuPanel2();
	
	canvas.deactivateAll(); // deselect everything
});

/**** add all the menu icons ******/

/******************************************/

function kAddMenuPanel_WithHidingPanel()
{
	canvas.add(kID_CameraIcon);
	canvas.add(kID_NoUnreadIcon);
	canvas.add(kID_OneUnreadMessageIcon_Menu);
	canvas.add(kID_CalendarIcon);
	canvas.add(kID_UnMuteIcon);
	canvas.add(kID_MuteIcon_Menu);
	canvas.add(kID_SettingsIcon);
	canvas.add(kID_MirrorIcon);
	canvas.add(kID_RightArrowIcon);
	canvas.add(kID_MenuPanel);
};

kAddMenuPanel_WithHidingPanel();


/*********************START second set of menu *********************************************************************************************/

// menu rectangle - added for reference
var kID_MenuPanel2 = new fabric.Rect({
  left: kID_MenuPanelLeft,
  top: kID_MenuPanelTop-40,
  fill: 'white',
  width: 554,
  height: 240
});

var kID_Menu2LeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+20, 
	top: kID_MenuPanelTop +60, 
	width: kID_MenuIconW-20,
	height: kID_MenuIconH-30
});

kID_Menu2LeftArrowIcon.on('selected', function() 
{
	kRemoveMenuPanel2();
	
	kAddMenuPanel1();
	
	canvas.deactivateAll(); // deselect everything
});

var kThemeIconInfo = new kInsertImageInfo("kThemeIcon",document.getElementById('kThemeIcon'));  
var kID_ThemeIcon = new fabric.Image(kThemeIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+65, 
	top: kID_MenuPanelTop -32 , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+20
});

kID_ThemeIcon.on('selected',function()
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	//kID_IsDoorLocked = true;
	
	kRemoveMenuPanel2();
	
	//kRemoveThemeWallpapers();
	
	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_OUTIcon);
	
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	canvas.add(kID_ThemeLeftArrowIcon);

	canvas.deactivateAll(); // deselect everything
});

/******************************* start icons for theme panel ******************************************/

var kID_ThemePanelLeft = 30;
var kID_ThemePanelTop = 110;

var kID_ThemePanelIconW = 60;
var kID_ThemePanelIconH = 70;

var kID_ThemePanel = new fabric.Rect({
  left: kID_ThemePanelLeft,
  top: kID_ThemePanelTop-5,
  fill: 'white',
  width: 545,
  height: 335
});

var kThemeWhiteIconInfo = new kInsertImageInfo("kThemeWhiteIcon",document.getElementById('kThemeWhiteIcon'));  
var kID_ThemeWhiteIcon = new fabric.Image(kThemeWhiteIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+65, 
	top: kID_ThemePanelTop + 100 , 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});
var kOThemeWhiteIconInfo = new kInsertImageInfo("kThemeWhiteIcon",document.getElementById('kThemeWhiteIcon'));
var kOD_ThemeWhiteIcon = new fabric.Image(kThemeWhiteIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+65, 
	top: kID_ThemePanelTop + 100 , 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeBabyAnnouncementIconInfo = new kInsertImageInfo("kThemeBabyAnnouncementIcon",document.getElementById('kThemeBabyAnnouncementIcon'));  
var kID_ThemeBabyAnnouncementIcon = new fabric.Image(kThemeBabyAnnouncementIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 100, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeBabyAnnouncementIconInfo = new kInsertImageInfo("kThemeBabyAnnouncementIcon",document.getElementById('kThemeBabyAnnouncementIcon'));  
var kOD_ThemeBabyAnnouncementIcon = new fabric.Image(kThemeBabyAnnouncementIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 100, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeBirthdayIconInfo = new kInsertImageInfo("kThemeBirthdayIcon",document.getElementById('kThemeBirthdayIcon'));  
var kID_ThemeBirthdayIcon = new fabric.Image(kThemeBirthdayIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 100, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeBirthdayIconInfo = new kInsertImageInfo("kThemeBirthdayIcon",document.getElementById('kThemeBirthdayIcon'));
var kOD_ThemeBirthdayIcon = new fabric.Image(kThemeBirthdayIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 100,
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeChristmasTreeIconInfo = new kInsertImageInfo("kThemeChristmasTreeIcon",document.getElementById('kThemeChristmasTreeIcon'));  
var kID_ThemeChristmasTreeIcon = new fabric.Image(kThemeChristmasTreeIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeChristmasTreeIconInfo = new kInsertImageInfo("kThemeChristmasTreeIcon",document.getElementById('kThemeChristmasTreeIcon'));  
var kOD_ThemeChristmasTreeIcon = new fabric.Image(kThemeChristmasTreeIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeDoorDesignIconInfo = new kInsertImageInfo("kThemeDoorDesignIcon",document.getElementById('kThemeDoorDesignIcon'));  
var kID_ThemeDoorDesignIcon = new fabric.Image(kThemeDoorDesignIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeDoorDesignIconInfo = new kInsertImageInfo("kThemeDoorDesignIcon",document.getElementById('kThemeDoorDesignIcon')); 
var kOD_ThemeDoorDesignIcon = new fabric.Image(kThemeDoorDesignIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});


var kThemeHalloweenIconInfo = new kInsertImageInfo("kThemeHalloweenIcon",document.getElementById('kThemeHalloweenIcon'));  
var kID_ThemeHalloweenIcon = new fabric.Image(kThemeHalloweenIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeHalloweenIconInfo = new kInsertImageInfo("kThemeHalloweenIcon",document.getElementById('kThemeHalloweenIcon')); 
var kOD_ThemeHalloweenIcon = new fabric.Image(kThemeHalloweenIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 220,
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kID_ThemeLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+5, 
	top: kID_ThemePanelTop +175, 
	width: kID_MenuIconW-20,
	height: kID_MenuIconH-30
});

var kID_TaskLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: 100, 
	top: 500, 
	width: 60,
	height: 50
});

var kID_CalendarLeftArrowIcon= new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: 100, 
	top: 500, 
	width: 60,
	height: 50
});

var kINIconInfo = new kInsertImageInfo("kINIcon",document.getElementById('kINIcon'));  
var kID_INIcon = new fabric.Image(kINIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop, 
	width: kID_ThemePanelIconW+155,
	height: kID_ThemePanelIconH-20
});


var kOUTIconInfo = new kInsertImageInfo("kOUTIcon",document.getElementById('kOUTIcon'));  
var kID_OUTIcon = new fabric.Image(kOUTIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 275, 
	top: kID_ThemePanelTop, 
	width: kID_ThemePanelIconW+153,
	height: kID_ThemePanelIconH-20
});

var kSelectedINIconInfo = new kInsertImageInfo("kSelectedINIcon",document.getElementById('kSelectedINIcon'));  
var kID_SelectedINIcon = new fabric.Image(kSelectedINIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop , 
	width: kID_ThemePanelIconW+155,
	height: kID_ThemePanelIconH-20
});


var kSelectedOUTIconInfo = new kInsertImageInfo("kSelectedOUTIcon",document.getElementById('kSelectedOUTIcon'));  
var kID_SelectedOUTIcon = new fabric.Image(kSelectedOUTIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 275, 
	top: kID_ThemePanelTop, 
	width: kID_ThemePanelIconW+153,
	height: kID_ThemePanelIconH-20
});


kID_ThemeLeftArrowIcon.on('selected', function() 
{
	kID_IsMenuOpen = true;
	
	kRemoveThemePanel();
	
	kAddMenuPanel2();
	
	canvas.deactivateAll(); // deselect everything
});

/******************* selected event for all theme icons for inside door************************************/

kID_ThemeWhiteIcon.on('selected', function() 
{
	kThemeWhiteIconInfo.kIsUsed = true;
	
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeBabyAnnouncementIcon.on('selected', function() 
{
	kThemeBabyAnnouncementIconInfo.kIsUsed = true;
	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeBirthdayIcon.on('selected', function() 
{
	kThemeBirthdayIconInfo.kIsUsed = true;
	
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeChristmasTreeIcon.on('selected', function() 
{
	kThemeChristmasTreeIconInfo.kIsUsed = true;
	
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeDoorDesignIcon.on('selected', function() 
{
	kThemeDoorDesignIconInfo.kIsUsed = true;
	
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeHalloweenIcon.on('selected', function() 
{
	kThemeHalloweenIconInfo.kIsUsed = true;
	
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeDoorDesignIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

/*********************************************************************************************************************************************/

/*******************************************theme icons for outside door*********************************************************/

kOD_ThemeWhiteIcon.on('selected', function() 
{
	kOThemeWhiteIconInfo.kIsUsed = true;
	
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeBabyAnnouncementIcon.on('selected', function() 
{
	kOThemeBabyAnnouncementIconInfo.kIsUsed = true;
	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeBirthdayIcon.on('selected', function() 
{
	kOThemeBirthdayIconInfo.kIsUsed = true;
	
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeChristmasTreeIcon.on('selected', function() 
{
	kOThemeChristmasTreeIconInfo.kIsUsed = true;
	
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeDoorDesignIcon.on('selected', function() 
{
	kOThemeDoorDesignIconInfo.kIsUsed = true;
	
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeHalloweenIcon.on('selected', function() 
{
	kOThemeHalloweenIconInfo.kIsUsed = true;
	
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	
	canvas.deactivateAll(); // deselect everything
});

/**********************************************************************************************************************************/

/**********************************************************************************************************************************/

function kID_ApplyTheme()
{
	/*************** remove all exising icons ******************/
	
	canvas.remove(kID_ThemePanel);
	
	canvas.remove(kID_ThemeBabyAnnouncementIcon);
	canvas.remove(kID_ThemeBirthdayIcon);
	canvas.remove(kID_ThemeChristmasTreeIcon);
	canvas.remove(kID_ThemeDoorDesignIcon);
	canvas.remove(kID_ThemeHalloweenIcon);
	canvas.remove(kID_ThemeWhiteIcon);
	
	canvas.remove(kID_ThemeBabyAnnouncement);
	canvas.remove(kID_ThemeBirthday);
	canvas.remove(kID_ThemeChristmasTree);
	canvas.remove(kID_ThemeDoorDesign);
	canvas.remove(kID_ThemeHalloween);
	canvas.remove(kID_ThemeHalloween);
	
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	canvas.remove(kID_INIcon);
	canvas.remove(kID_OUTIcon);
	
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_SelectedOUTIcon);
	
	canvas.remove(kID_HeaderPanel);
	
	//main menu strip 
	canvas.remove(kID_MainPanel);

	//sos => 
	canvas.remove(kID_SOSIcon);

	//menu icon => 
	canvas.remove(kID_MenuIcon);

	//door knob => 
	canvas.remove(kID_DoorKnob);

	//date => 
	canvas.remove(kID_DateText);

	//time => 
	canvas.remove(kID_TimeText);

	//temperature => 
	canvas.remove(kID_WeatherTemp);

	//cloud => 
	canvas.remove(kID_CurrentCloudIcon);
	



	/***********************************************************/
	if(kThemeHalloweenIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeHalloween);
		
		kID_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kID_ThemeApplied = true;
	}
	else if(kThemeChristmasTreeIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeChristmasTree);
		
		kID_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else if (kThemeBirthdayIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeBirthday);
		
		kID_SelThemeIcon = kThemeBirthdayIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else if(kThemeBabyAnnouncementIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeBabyAnnouncement);
		
		kID_SelThemeIcon = kThemeBabyAnnouncementIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else if(kThemeDoorDesignIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeDoorDesign);
		
		kID_SelThemeIcon = kThemeDoorDesignIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else
	{
		kID_SelThemeIcon = '';
		kID_ThemeApplied = false;
	}
	
	/********************* add back all the items on the door *******************/
	/*************** remove all exising icons ******************/
	kID_AddIcons_AfterTheme();
	
	kAddThemePanelIcons_WithoutHidingPanel();

	/***********************************************************/
	/****************************************************************************/
};

function kOD_ApplyTheme()
{
	/*************** remove all exising icons ******************/
	canvas.remove(kID_INIcon);
	canvas.remove(kID_OUTIcon);
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_SelectedOUTIcon);
	
	canvas.remove(kOD_TimeText);
	canvas.remove(kOD_DateText);
	canvas.remove(sNumberPlateText);
	canvas.remove(sNamePlate);
	canvas.remove(sDeliverPackageText2);
	canvas.remove(sDeliverPackageText1);
	canvas.remove(simgInstance4);
	canvas.remove(sWriteMessageText2);
	canvas.remove(sWriteMessageText1);
	canvas.remove(simgInstance3);
	canvas.remove(simgInstance2);
	canvas.remove(sFingerPrintInner);
	canvas.remove(sFingerPrintOuter);
	canvas.remove(simgInstance1);
	canvas.remove(sOD_DoorKnob);
	canvas.remove(sID_MainPanel);
	
	canvas.remove(kID_ThemePanel);
	
	canvas.remove(kOD_ThemeBabyAnnouncement);
	canvas.remove(kOD_ThemeBirthday);
	canvas.remove(kOD_ThemeChristmasTree);
	canvas.remove(kOD_ThemeDoorDesign);
	canvas.remove(kOD_ThemeHalloween);
	canvas.remove(kOD_ThemeWhiteIcon);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	
	canvas.remove(kOD_ThemeBabyAnnouncementIcon);
	canvas.remove(kOD_ThemeBirthdayIcon);
	canvas.remove(kOD_ThemeChristmasTreeIcon);
	canvas.remove(kOD_ThemeDoorDesignIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);

	/***********************************************************/
	if(kOThemeHalloweenIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeHalloween);
		
		kOD_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kOD_ThemeApplied = true;
	}
	else if(kOThemeChristmasTreeIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeChristmasTree);
		
		kOD_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kOD_ThemeApplied = true;
	}
	else if (kOThemeBirthdayIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeBirthday);
		
		kOD_SelThemeIcon = kThemeBirthdayIconInfo.kImageElement;
		kOD_ThemeApplied = true;
		
	}
	else if(kOThemeBabyAnnouncementIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeBabyAnnouncement);
		
		kOD_SelThemeIcon = kThemeBabyAnnouncementIconInfo.kImageElement;
		kOD_ThemeApplied = true;
		
	}
	else if(kOThemeDoorDesignIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeDoorDesign);
		
		kOD_SelThemeIcon = kThemeDoorDesignIconInfo.kImageElement;
		kOD_ThemeApplied = true;
		
	}
	else
	{
		kOD_SelThemeIcon = '';
		kOD_ThemeApplied = false;
	}
	
	/********************* add back all the items on the door *******************/
	/*************** remove all exising icons ******************/
	kOD_AddIcons_AfterTheme();
	
	kOAddThemePanelIcons_WithoutHidingPanel();

	/***********************************************************/
	/****************************************************************************/
};

kID_INIcon.on('selected', function() 
{
	/************* remove all icons for inside door ********************************/
	canvas.remove(kID_SelectedOUTIcon);
	canvas.remove(kID_INIcon);
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_OUTIcon);
	
	canvas.remove(kID_ThemePanel);
	canvas.remove(kOD_ThemeWhiteIcon);
	canvas.remove(kOD_ThemeBabyAnnouncementIcon);
	canvas.remove(kOD_ThemeBirthdayIcon);
	canvas.remove(kOD_ThemeChristmasTreeIcon);
	canvas.remove(kOD_ThemeDoorDesignIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	
	/*******************************************************************************/

	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_OUTIcon);
	
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_SelectedINIcon.on('selected', function() 
{
	
	canvas.deactivateAll(); // deselect everything
});

kID_OUTIcon.on('selected', function() 
{
	/************* remove all icons for inside door ********************************/
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_OUTIcon);
	canvas.remove(kID_SelectedOUTIcon);
	canvas.remove(kID_INIcon);
	
	canvas.remove(kID_ThemePanel);
	canvas.remove(kID_ThemeWhiteIcon);
	canvas.remove(kID_ThemeBabyAnnouncementIcon);
	canvas.remove(kID_ThemeBirthdayIcon);
	canvas.remove(kID_ThemeChristmasTreeIcon);
	canvas.remove(kID_ThemeDoorDesignIcon);
	canvas.remove(kID_ThemeHalloweenIcon);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	/*******************************************************************************/
	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_SelectedOUTIcon);
	canvas.add(kID_INIcon);
	
	
	canvas.add(kOD_ThemeWhiteIcon);
	canvas.add(kOD_ThemeBabyAnnouncementIcon);
	canvas.add(kOD_ThemeBirthdayIcon);
	canvas.add(kOD_ThemeChristmasTreeIcon);
	canvas.add(kOD_ThemeDoorDesignIcon);
	canvas.add(kOD_ThemeHalloweenIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_SelectedOUTIcon.on('selected', function() 
{
	
	canvas.deactivateAll(); // deselect everything
});

/*******************************************************************************************/
function kOD_AddIcons_AfterTheme()
{
	canvas.add(kOD_TimeText);
	canvas.add(kOD_DateText);
	canvas.add(sNamePlate);
	canvas.add(sNumberPlateText);
	canvas.add(sID_MainPanel);
	canvas.add(sDeliverPackageText2);
	canvas.add(sDeliverPackageText1);
	
	canvas.add(simgInstance1);
	canvas.add(simgInstance2);
	canvas.add(simgInstance3);
	canvas.add(simgInstance4);
	
	canvas.add(sWriteMessageText1);
	canvas.add(sWriteMessageText2);
	
	canvas.add(sFingerPrintOuter);
	canvas.add(sFingerPrintInner);
	
	canvas.add(sOD_DoorKnob);
};

function kID_AddIcons_AfterTheme()
{
	canvas.add(kID_HeaderPanel);
	
	//main menu strip 
	canvas.add(kID_MainPanel);

	//sos => 
	canvas.add(kID_SOSIcon);

	//menu icon => 
	canvas.add(kID_MenuIcon);

	//door knob => 
	canvas.add(kID_DoorKnob);
	
	if(kID_TimeFormat == 24)
		kID_Refresh_DateTime_24();
	else
		kID_Refresh_DateTime_12();
	
	kID_Date();

	//temperature => 
	canvas.add(kID_WeatherTemp);

	//cloud => 
	canvas.add(kID_CurrentCloudIcon);
};

function kAddThemePanelIcons_WithHidingPanel()
{
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	
	canvas.add(kOD_ThemeWhiteIcon);
	canvas.add(kOD_ThemeBabyAnnouncementIcon);
	canvas.add(kOD_ThemeBirthdayIcon);
	canvas.add(kOD_ThemeChristmasTreeIcon);
	canvas.add(kOD_ThemeDoorDesignIcon);
	canvas.add(kOD_ThemeHalloweenIcon);
	
	
	canvas.add(kID_INIcon);
	canvas.add(kID_OUTIcon);
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_SelectedOUTIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	canvas.add(kID_ThemePanel);
	
	/*****************************************************************************************************************/
};

kAddThemePanelIcons_WithHidingPanel();

function kRemoveThemePanel()
{
	canvas.remove(kID_ThemePanel);
	
	canvas.remove(kID_ThemeBabyAnnouncementIcon);
	canvas.remove(kID_ThemeBirthdayIcon);
	canvas.remove(kID_ThemeChristmasTreeIcon);
	canvas.remove(kID_ThemeDoorDesignIcon);
	canvas.remove(kID_ThemeHalloweenIcon);
	canvas.remove(kID_ThemeWhiteIcon);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	canvas.remove(kID_INIcon);
	canvas.remove(kID_OUTIcon);
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_SelectedOUTIcon);
	
	canvas.remove(kOD_ThemeBabyAnnouncementIcon);
	canvas.remove(kOD_ThemeBirthdayIcon);
	canvas.remove(kOD_ThemeChristmasTreeIcon);
	canvas.remove(kOD_ThemeDoorDesignIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);
	canvas.remove(kOD_ThemeWhiteIcon);
	
};

function kAddThemePanelIcons_WithoutHidingPanel()
{
	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_OUTIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	kID_ThemeHalloweenIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeBabyAnnouncementIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeBirthdayIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeChristmasTreeIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeDoorDesignIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeWhiteIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	/*** remove all the hightlights and then set the hightlight as per the selected theme ****************************/
	if(kThemeHalloweenIconInfo.kIsUsed)
	{
		kID_ThemeHalloweenIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if(kThemeChristmasTreeIconInfo.kIsUsed)
	{
		kID_ThemeChristmasTreeIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if (kThemeBirthdayIconInfo.kIsUsed)
	{
		kID_ThemeBirthdayIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if(kThemeBabyAnnouncementIconInfo.kIsUsed)
	{	
		kID_ThemeBabyAnnouncementIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if(kThemeDoorDesignIconInfo.kIsUsed)
	{
		kID_ThemeDoorDesignIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});	
	}
	else
	{
		kID_ThemeWhiteIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	
};

function kOAddThemePanelIcons_WithoutHidingPanel()
{	
	canvas.add(kID_ThemePanel);
	
	canvas.add(kOD_ThemeWhiteIcon);
	canvas.add(kOD_ThemeBabyAnnouncementIcon);
	canvas.add(kOD_ThemeBirthdayIcon);
	canvas.add(kOD_ThemeChristmasTreeIcon);
	canvas.add(kOD_ThemeDoorDesignIcon);
	canvas.add(kOD_ThemeHalloweenIcon);
	
	canvas.add(kID_SelectedOUTIcon);
	canvas.add(kID_INIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	
	kOD_ThemeHalloweenIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeBabyAnnouncementIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeBirthdayIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeChristmasTreeIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeDoorDesignIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeWhiteIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	/*** remove all the hightlights and then set the hightlight as per the selected theme ****************************/
	if(kOThemeHalloweenIconInfo.kIsUsed)
	{
		kOD_ThemeHalloweenIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if(kOThemeChristmasTreeIconInfo.kIsUsed)
	{
		kOD_ThemeChristmasTreeIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if (kOThemeBirthdayIconInfo.kIsUsed)
	{
	
		kOD_ThemeBirthdayIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if(kOThemeBabyAnnouncementIconInfo.kIsUsed)
	{	
		kOD_ThemeBabyAnnouncementIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if(kOThemeDoorDesignIconInfo.kIsUsed)
	{
		kOD_ThemeDoorDesignIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});	
	}
	else
	{
		kOD_ThemeWhiteIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	
};


/******************************* end icons for theme panel ******************************************/


/*******************************texts for tasks************************************************/

var rTask0 = new fabric.Textbox('No tasks for today!', {
   left: kID_HeaderPanelLeft + 500,
  top: kID_HeaderPanelTop + 450,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		 width : 800,
  height: 50,
		fontFamily: kID_Font
	});
	
	var rTask1 = new fabric.Textbox('', {
   left: 450,
  top: 320,
   width : 800,
  height: 50,
  fontSize: kID_FontSize + 20,
		fontWeight: 'bold',
		fill:'black',
		fontFamily: kID_Font
	});
	
	var rEvent0 = new fabric.Textbox('', {
   left: 450,
  top: 300,
   width : 800,
  height: 50,
  fontSize: kID_FontSize + 20,
		fontWeight: 'bold',
		fill:'black',
		fontFamily: kID_Font
	});
	
	
   var rEventNull = new fabric.Textbox('You have no upcoming events.', {
   left: kID_HeaderPanelLeft + 465,
  top: kID_HeaderPanelTop + 380,
  width : 800,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});	
	
	
var rTaskr1 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 300,
  top: kID_HeaderPanelTop + 450,
  width : 800,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});	
	
	var rTaskr2 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 300,
  top: kID_HeaderPanelTop + 550,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		 width : 500,
  height: 50,
		fill:'black',
		fontFamily: kID_Font
	});	
	
	var rTaskr3 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 300,
  top: kID_HeaderPanelTop + 650,
   width : 500,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});	
	
	var rTaskr4 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 300,
  top: kID_HeaderPanelTop + 750,
   width : 500,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});	
		var rTaskr5 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 300,
  top: kID_HeaderPanelTop + 850,
   width : 500,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});
	
	var rID_ToDoBox1 = new fabric.Rect({
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 450,
  fill: 'white',
  stroke: 'black',
  strokeWidth : 5,
  width: 15,
  height: 15,
  angle: 0

	});
	
	var rID_ToDoBox1 = new fabric.Rect({
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 450,
  fill: 'white',
  stroke: 'black',
  strokeWidth : 5,
  width: 15,
  height: 15,
  angle: 0

	});
	
	var rID_ToDoBox2 = new fabric.Rect({
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 550,
  fill: 'white',
  stroke: 'black',
  strokeWidth : 5,
  width: 15,
  height: 15,
  angle: 0

	});
	
	var rID_ToDoBox3 = new fabric.Rect({
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 650,
  fill: 'white',
  stroke: 'black',
  strokeWidth : 5,
  width: 15,
  height: 15,
  angle: 0

	});
	
	var rID_ToDoBox4 = new fabric.Rect({
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 750,
  fill: 'white',
  stroke: 'black',
  strokeWidth : 5,
  width: 15,
  height: 15,
  angle: 0

	});
	
	var rID_ToDoBox5 = new fabric.Rect({
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 850,
  fill: 'white',
  stroke: 'black',
  strokeWidth : 5,
  width: 15,
  height: 15,
  angle: 0

	});
	
	var rEvent1 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 700,
  top: kID_HeaderPanelTop + 450,
  width : 800,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});	
	
	var rEvent2 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 700,
  top: kID_HeaderPanelTop + 550,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		 width : 500,
  height: 50,
		fill:'black',
		fontFamily: kID_Font
	});	
	
	var rEvent3 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 700,
  top: kID_HeaderPanelTop + 650,
   width : 500,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});	
	
	var rEvent4 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 700,
  top: kID_HeaderPanelTop + 750,
   width : 500,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});	
		var rEvent5 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 700,
  top: kID_HeaderPanelTop + 850,
   width : 500,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});
	
			var rEvent6 = new fabric.Textbox('', {
   left: kID_HeaderPanelLeft + 700,
  top: kID_HeaderPanelTop + 850,
   width : 500,
  height: 50,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font
	});
	
		var rHour1 = new fabric.Textbox('', {
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 450,
  fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font,
 
  width: 90,
  height: 50,


	});
	
	var rHour2 = new fabric.Textbox('', {
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 550,
  fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font,
  width: 90,
  height: 50,
  angle: 0

	});
	
	var rHour3 = new fabric.Textbox('', {
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 650,
  fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font,
  width: 90,
  height: 50,
  angle: 0

	});
	
	var rHour4 = new fabric.Textbox('', {
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 750,
  fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font,

   width: 90,
  height: 50,
  angle: 0

	});
	
	var rHour5 = new fabric.Textbox('', {
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 850,
  fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font,

  width: 90,
  height: 50,
  angle: 0

	});
	
		var rHour6 = new fabric.Textbox('', {
	
	
    left: kID_HeaderPanelLeft + 240,
  top: kID_HeaderPanelTop + 950,
  fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'black',
		fontFamily: kID_Font,

  width: 90,
  height: 50,
  angle: 0

	});
	

/***************************end of tasks**************************************************/


 
var kID_ToDoListIcon = new fabric.Image(kToDoListIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 245, 
	top: kID_MenuPanelTop-20  , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH
});


var kHouseAlarmIconInfo = new kInsertImageInfo("kHouseAlarmIcon",document.getElementById('kHouseAlarmIcon'));  
var kID_HouseAlarmIcon = new fabric.Image(kHouseAlarmIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 420, 
	top: kID_MenuPanelTop-30, 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+20
});



var kHelpIconInfo = new kInsertImageInfo("kHelpIcon",document.getElementById('kHelpIcon'));  
var kID_HelpIcon = new fabric.Image(kHelpIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 65, 
	top: kID_MenuPanelTop + 105 , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+10
});

/****************** code added by $$$$ridhi ********************************************************/

kID_CalendarIcon.on('selected', function()
{
 kID_IsMenuOpen = false;
 kID_IsDoorLocked = true;
kRemoveMenuIcons();
 rCalendarEvents = [];
 rEvent0.set({
 text: activeuser + "'s Calendar!"
});

canvas.add(kID_CalendarLeftArrowIcon);
handleAuthClick();
canvas.add(rEvent0);
//getUserTasks(activeuser);
canvas.deactivateAll();
 });

kID_ToDoListIcon.on('selected', function()
{
kID_IsMenuOpen = false;
kID_IsDoorLocked = true;
kRemoveMenuPanel2();
rTasks = [];
rID_HideTodoList();
canvas.add(kID_TaskLeftArrowIcon);
rTask1.set({
 text: activeuser + "'s tasks!"
});
canvas.add(rTask1);


TaskHandleAuthClick();
//getUserTasks(activeuser);
canvas.deactivateAll();

});

kID_TaskLeftArrowIcon.on('selected', function()
{

rID_HideTodoList();
kAddMenuPanel2();
canvas.deactivateAll();
});

kID_CalendarLeftArrowIcon.on('selected', function()
{
rID_HideCalendar();
kAddMenuPanel1();
canvas.deactivateAll();
});

/**********************************************************************************************/

function kAddMenuPanel2_WithHidingPanel()
{
	canvas.add(kID_Menu2LeftArrowIcon);
	canvas.add(kID_ThemeIcon);
	canvas.add(kID_ToDoListIcon);
	canvas.add(kID_HouseAlarmIcon);
	canvas.add(kID_HelpIcon);
	canvas.add(kID_MenuPanel2);
};

function kAddMenuPanel2()
{
	canvas.add(kID_MenuPanel2);
	canvas.add(kID_Menu2LeftArrowIcon);
	canvas.add(kID_ThemeIcon);
	canvas.add(kID_ToDoListIcon);
	canvas.add(kID_HouseAlarmIcon);
	canvas.add(kID_HelpIcon);
};

function kAddMenuPanel1()
{
	canvas.add(kID_MenuPanel);
	canvas.add(kID_CameraIcon);
		
	/***** condition check will be required - if there are unread messages then other icon needs to be added ****/
	kID_AnyUnReadMsg = false;
	for(kCounter = 0 ; kCounter < kUserMessages.length; kCounter++)
	{
		if( (kUserMessages[kCounter].kName.toLowerCase() == 'all' || kUserMessages[kCounter].kName.toLowerCase() == activeuser.toLowerCase()) && kUserMessages[kCounter].kIsUsed == false)
		{
			kID_AnyUnReadMsg = true;
			break;
		}
		
	}
		
	if(kID_AnyUnReadMsg == false)
		canvas.add(kID_NoUnreadIcon);
	else if(kID_AnyUnReadMsg == true)
		canvas.add(kID_OneUnreadMessageIcon_Menu);
		
	canvas.add(kID_CalendarIcon);
		
	/***** condition check will be required - if there are bell is already in mute state ****/
	if(kID_IsBellMuted)
	{
		canvas.add(kID_MuteIcon_Menu);
	}
	else
	{
		canvas.add(kID_UnMuteIcon);
	}
		
	canvas.add(kID_SettingsIcon);
	canvas.add(kID_MirrorIcon);
	canvas.add(kID_RightArrowIcon);
};

function kRemoveMenuPanel2()
{
	canvas.remove(kID_Menu2LeftArrowIcon);
	canvas.remove(kID_ThemeIcon);
	canvas.remove(kID_ToDoListIcon);
	canvas.remove(kID_HouseAlarmIcon);
	canvas.remove(kID_HelpIcon);
	canvas.remove(kID_MenuPanel2);
};


kAddMenuPanel2_WithHidingPanel()

/********************* END second set of menu *********************************************************************************************/

/**************************** code for menu icons end *************************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/***************************** code for lock unlock icons start ***********************************/

var kID_LUIconW = 60;
var kID_LUIconH = 70;

var kID_LockUnlcokPanelLeft = 23;
var kID_LockUnlcokPanelTop = 250;


// lock panel rectangle - added only for reference
var kID_LockUnlcokPanel = new fabric.Rect({
  left: kID_LockUnlcokPanelLeft,
  top: kID_LockUnlcokPanelTop,
  fill: 'white',
  width: 554,
  height: 100
});
//canvas.add(kID_LockUnlcokPanel);

var kUnLockIconInfo = new kInsertImageInfo("kUnLockIcon",document.getElementById('kUnLockIcon'));  
var kID_UnLockIcon = new fabric.Image(kUnLockIconInfo.kImageElement, {
	left: kID_LockUnlcokPanelLeft+245, 
	top: kID_LockUnlcokPanelTop, 
	width: kID_LUIconW+10,
	height: kID_LUIconH+20
});

var kLockIconInfo = new kInsertImageInfo("kLockIcon",document.getElementById('kLockIcon'));  
var kID_LockIcon = new fabric.Image(kLockIconInfo.kImageElement, {
	left: kID_LockUnlcokPanelLeft+245, 
	top: kID_LockUnlcokPanelTop, 
	width: kID_LUIconW+10,
	height: kID_LUIconH+20
});


/**** add all the lock unlock panel icons ******/
canvas.add(kID_UnLockIcon);

//hide the unlock panel with the rectangle panel
canvas.add(kID_LockUnlcokPanel);

//canvas.add(kID_LockIcon) => this icon must come on the start of the application if tutorial and registering users is finished. Added a the end of code


/*********************************************/

// select event for unlock icon - the door is in unlocked state - when user clicks on unlock - it locks the door - show lock icon
kID_UnLockIcon.on('selected', function() 
{
	kID_IsDoorLocked = true;
	
	canvas.remove(kID_UnLockIcon);
	
	canvas.add(kID_LockIcon);
	
	//Sahib
	if(simgInstance11.visible == true)
	{
		simgInstance11.visible = false;
	}
	
	canvas.deactivateAll(); // deselect everything
});

// select event for lock icon - the door is in locked state - when user clicks on lock - it unlocks the door - show unlock icon
kID_LockIcon.on('selected', function() 
{
	//avoid double adding of unlock icon - it is already added once - onloading the page - so remove it and then add it.
	canvas.remove(kID_UnLockIcon);
	canvas.remove(kID_LockUnlcokPanel);
	kID_IsDoorLocked = false;
	
	canvas.add(kID_UnLockIcon);
	
	canvas.remove(kID_LockIcon);
	
	//Sahib
	if(simgInstance12.visible == true)
	{
		canvas.remove(simgInstance12);
	}
	
	canvas.deactivateAll(); // deselect everything
});


/***************************** code for lock unlock icons end ***********************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/****************** code for main menu strip for inside door start *******************************/
var kID_MainIconW = 60;
var kID_MainIconH = 70;

var kID_MainPanelLeft = 22;
var kID_MainPanelTop = 475;
  
var kID_MainPanel = new fabric.Rect({
	left: kID_MainPanelLeft,
	top: kID_MainPanelTop,
	fill: 'grey',
	strokeWidth: 5,
	stroke: 'rgba(0,0,0,20)',
	width: 552,
	height: 100
});

canvas.add(kID_MainPanel);

var kSOSIconInfo = new kInsertImageInfo("kSOSIcon",document.getElementById('kSOSIcon'));  
var kID_SOSIcon = new fabric.Image(kSOSIconInfo.kImageElement, {
	left: kID_MainPanelLeft+60, 
	top: kID_MainPanelTop +8 , 
	top: kID_MainPanelTop +18 , //100,
	width: kID_MainIconW+18,
	height: kID_MainIconH
});

canvas.add(kID_SOSIcon);

/*** START - icons related to SOS Screens ****/

var kID_SOSIconW = 60;
var kID_SOSIconH = 70;

var kID_SOSPanelLeft = 23;
var kID_SOSPanelTop = 250;

var kID_SOSPanel = new fabric.Rect({
	left: kID_SOSPanelLeft,
	top: kID_SOSPanelTop,
	fill: 'white',
	width: 554,
	height: 200
});
//canvas.add(kID_SOSPanel);

//calling 911 text
var kID_Calling911 = new fabric.Text('Calling 911....',{
	left: kID_SOSPanelLeft+175, //1635,
	top: kID_SOSPanelTop +20, //100,
	fontSize: kID_FontSize + 15,
	fontWeight:'bold',
	fontFamily: kID_Font
});


var kID_Disconnecting911 = new fabric.Text('Disconnecting 911...',{
	left: kID_SOSPanelLeft+120, //1635,
	top: kID_SOSPanelTop +20, //100,
	fontSize: kID_FontSize + 15,
	fontWeight:'bold',
	fontFamily: kID_Font
});


// use unmute icon id as is
var kID_SOS_UnMuteIcon	= new fabric.Image(kUnMuteIconInfo.kImageElement, {
	left: kID_SOSPanelLeft+150, //1635,
	top: kID_SOSPanelTop + 100, //100,
	width: kID_SOSIconW+20,
	height: kID_SOSIconH-5
});


//add the unmute icon - for future when user clicks on unmute icon in SOS panel
var kID_SOS_MuteIcon = new fabric.Image(kMuteIconInfo.kImageElement, {
	left: kID_SOSPanelLeft+150, 
	top: kID_SOSPanelTop+100, 
	width: kID_SOSIconW+20,
	height: kID_SOSIconH-5
});


var kCallDisconnectIconInfo = new kInsertImageInfo("kCallDisconnectIcon",document.getElementById('kCallDisconnectIcon')); 
var kID_SOS_CallDisconnectIcon = new fabric.Image(kCallDisconnectIconInfo.kImageElement, {
	left: kID_SOSPanelLeft+320, //1635,
	top: kID_SOSPanelTop +100, //100,
	width: kID_SOSIconW+20,
	height: kID_SOSIconH-12
});

/*********** add all the icons of SOS panel ***************/
function kAddSOSPanel_WithHidingPanel()
{
	canvas.add(kID_Calling911);
	canvas.add(kID_Disconnecting911);
	canvas.add(kID_SOS_UnMuteIcon);
	canvas.add(kID_SOS_MuteIcon);
	canvas.add(kID_SOS_CallDisconnectIcon);
	
	//hide all the icons for sos
	canvas.add(kID_SOSPanel);
};

kAddSOSPanel_WithHidingPanel();
/**********************************************************/

/*** END - icons related to SOS Screens ****/
  
var kMenuIconInfo = new kInsertImageInfo("kMenuIcon",document.getElementById('kMenuIcon'));  
var kID_MenuIcon = new fabric.Image(kMenuIconInfo.kImageElement, {
	left: kID_MainPanelLeft+245, 
	top: kID_MainPanelTop +5  , 
	width: kID_MainIconW+10,
	height: kID_MainIconH+25
});

canvas.add(kID_MenuIcon);


var kID_DoorKnob = new fabric.Circle({
	left: kID_MainPanelLeft+420,
	top: kID_MainPanelTop+16,
	fill: 'white',
    strokeWidth: 5,
    stroke: 'rgba(0,0,0,20)',
	radius: kID_MainIconW-26
});

canvas.add(kID_DoorKnob);

// bind select event for SOS - panel should appear - calling 911.
kID_SOSIcon.on('selected', function() 
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	//kID_IsDoorLocked = true;
	
/*************************************** Remove all icons - menu + lock + sos ****************************/

	/********** notification panel ***************/
	kRemoveNotificationPanel();
	kRemovePackageLog();
	kRemoveNewsFeed();
	/********** notification panel ***************/
		
	/********* lock panel removal ***********/
	kRemoveLockUnlockIconPanel();
	/********* lock panel removal ***********/
	
	/******** menu icons removal *************/
	kRemoveMenuIcons();
	kRemoveMenuPanel2();
	
	/******** menu icons removal *************/
	
	/********* remove all the sos related icons ***********/
	kRemoveSOSPanel();
	/********* remove all the sos related icons ***********/
	
	/****************camera panel icons removal *****************************************************************/
	kRemoveCameraPanel();
	/************************************************************************************************************/
	
	/************ message panel **********************/
	kRemoveMessagePanel();
	/*************************************************/
	
	/***************** CALENDAR PANEL BY RIDHIPENDIGN *********************/
		
	/**********************************************************************/
	
	/*********************** settigns panel *******************************/
	aHideAnkurCodeSettings();
		
	/**********************************************************************/
	
	//Sahib
	RemoveHouseAlarmWindow();
	RemoveHelpWindow();
	
	/********** remove theme panel icons **************/
	kRemoveThemePanel();
	/************************************************/
	
	/***************** TO DO LISTS **********************************/
	rID_HideTodoList();
		
	/******************************************************************/
	
	/*** outside camera images removal ******/
	kRemoveCameraPanel_WithHidingPanel_OD();
	
	/***************************************/
	
	
	
	/***************** remove settings screen ***********/
	aHideAnkurCodeSettings();
	/****************************************************/
	
/*************************************** Remove all icons - menu + lock + sos ****************************/
	//now add all the icons again
	canvas.add(kID_SOSPanel);
	canvas.add(kID_Calling911);
	canvas.add(kID_SOS_UnMuteIcon);
	canvas.add(kID_SOS_CallDisconnectIcon);

	canvas.deactivateAll(); // deselect everything
});

//select event for SOS - UnMuteIcon
kID_SOS_UnMuteIcon.on('selected', function()
{
	canvas.add(kID_SOS_MuteIcon);
	canvas.remove(kID_SOS_UnMuteIcon);

	canvas.deactivateAll(); // deselect everything
});

//select event for SOS - UnMuteIcon
kID_SOS_MuteIcon.on('selected', function()
{
	canvas.add(kID_SOS_UnMuteIcon);
	canvas.remove(kID_SOS_MuteIcon);

	canvas.deactivateAll(); // deselect everything
});

function kID_Remove_Disconnecting911()
{
	if(kCallDisconnectIconInfo.kIsUsed)
	{
		kCallDisconnectIconInfo.kIsUsed = false;
		canvas.remove(kID_SOSPanel);
		if(kID_IsDoorLocked)
		{
			canvas.add(kID_LockIcon);
		}
		else
		{
			canvas.add(kID_UnLockIcon);
		}
		canvas.remove(kID_Disconnecting911);
		
		kAddNotificationPanel();
	}
};

kID_SOS_CallDisconnectIcon.on('selected', function()
{
	canvas.add(kID_Disconnecting911);
	kCallDisconnectIconInfo.kIsUsed = true;
	
	canvas.remove(kID_Calling911);
	canvas.remove(kID_SOS_UnMuteIcon);
	canvas.remove(kID_SOS_CallDisconnectIcon);
	canvas.remove(kID_SOS_MuteIcon);
	
	setTimeout(kID_Remove_Disconnecting911, 5000);
	
	canvas.deactivateAll(); // deselect everything
});




function kRemoveLockUnlockIconPanel()
{
	canvas.remove(kID_LockUnlcokPanel);
	canvas.remove(kID_LockIcon);
	canvas.remove(kID_UnLockIcon);
};

function kRemoveSOSPanel()
{
	canvas.remove(kID_SOSPanel);
	canvas.remove(kID_Calling911);
	canvas.remove(kID_Disconnecting911);
	canvas.remove(kID_SOS_UnMuteIcon);
	canvas.remove(kID_SOS_MuteIcon);
	canvas.remove(kID_SOS_CallDisconnectIcon);
};

function kRemoveMenuIcons()
{
	canvas.remove(kID_MenuPanel);
	canvas.remove(kID_CameraIcon);
	canvas.remove(kID_NoUnreadIcon);
	canvas.remove(kID_OneUnreadMessageIcon_Menu);
	canvas.remove(kID_CalendarIcon);
	canvas.remove(kID_UnMuteIcon);
	canvas.remove(kID_MuteIcon_Menu);
	canvas.remove(kID_SettingsIcon);
	canvas.remove(kID_MirrorIcon);
	canvas.remove(kID_RightArrowIcon);
};

function kRemoveCameraPanel()
{
	canvas.remove(kID_CameraLeftArrowIcon);
	canvas.remove(kID_OutsideGuestImageIcon1);
	canvas.remove(kID_FOutsideGuestImageIcon1);
	canvas.remove(kID_OutsideGuestImageIcon2);
	canvas.remove(kID_FOutsideGuestImageIcon2);
	canvas.remove(kID_CorridorViewIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_EscapeFullScreenCameraIcon);
	canvas.remove(kID_FullScreenCameraIcon);
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.remove(kID_MicrophoneOnIcon);
	canvas.remove(kID_MicrophoneOffIcon);
	canvas.remove(kID_CameraPanel);
}

// select event for the main menu icon
kID_MenuIcon.on('selected', function()
{
	
	//kID_IsDoorLocked = true;
	kID_IsAvatarShown = false;
	kID_IsMicrophoneMute = false;
	//check if the menu is already displayed and user is trying to collapse.
	if(kID_IsMenuOpen)
	{
		kID_IsMenuOpen = false;
		kID_IsMenuItemOpen = false;
		
		/******** menu icons removal *************/
		kRemoveMenuIcons();
		kRemoveMenuPanel2();
		/******** menu icons removal *************/
		
		/**** conditions to check whether there were any notifications - then add the notification panel icons***************/
		kAddNotificationPanel();
		
		/**** conditions to check whether there were any notifications - then add the notification panel icons***************/
		
		/**** add the lock icon on the door ************************/
		
		canvas.remove(kID_LockIcon);
		canvas.add(kID_LockIcon);
		
		/**** add the lock icon on the door ************************/
		
		
	}
	else
	{
		activeuser = 'Ridhi';
		kID_IsMenuOpen = true;
		kID_IsMenuItemOpen = true;
	
	/*************************************** Remove all icons - menu + lock + sos ****************************/
	
		/********** notification panel ***************/
		kRemoveNotificationPanel();
		kRemovePackageLog();
		kRemoveNewsFeed();
		/********** notification panel ***************/
		  /**************$$ Ridhi tutorial page ***************************/
		rID_HideRidhiTutorial();
		/**********************************************/
		
		/********* lock panel removal ***********/
		kRemoveLockUnlockIconPanel();
		/********* lock panel removal ***********/
		
		/******** menu icons removal *************/
		kRemoveMenuIcons();
		kRemoveMenuPanel2();
		
		/******** menu icons removal *************/
		
		/********* remove all the sos related icons ***********/
		kRemoveSOSPanel();
		/********* remove all the sos related icons ***********/
		
		/****************camera panel icons removal *****************************************************************/
		kRemoveCameraPanel();
		/************************************************************************************************************/
		
		/************ message panel **********************/
		kRemoveMessagePanel();
		/*************************************************/
		
		/***************** CALENDAR PANEL BY RIDHIPENDIGN *********************/
		
		/**********************************************************************/
		
		/*********************** settigns panel *******************************/
		aHideAnkurCodeSettings();
		
		/**********************************************************************/
		
		//Sahib
		RemoveHouseAlarmWindow();
		RemoveHelpWindow();
		
		/******* theme panel icons removal *********************/
		kRemoveThemePanel();
		/*******************************************************/
		
		/***************** TO DO LISTS **********************************/
		rID_HideTodoList();
		
		/******************************************************************/
		
		/*** outside camera images removal ******/
		kRemoveCameraPanel_WithHidingPanel_OD();
		/***************************************/
		
		/*********************************** user specific/multiple user panel ******************************/
		kRemoveUserSpecificPanel();
		kRemoveMultiUserPanel();
		
		/*********************************** user specific/multiple user panel ******************************/
		
	
	/*************************************** Remove all icons - menu + lock + sos ****************************/
	
		kAddMenuPanel1();
	}
	canvas.deactivateAll(); // deselect everything

});

function kID_AddAllCameraPanelIcons()
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	//kID_IsDoorLocked = true;
	
	kID_IsAvatarShown = false;
	kID_IsMicrophoneMute = false;
	
	/*** remove all the menu icons ****/
	kRemoveMenuIcons();
	/*** remove all the menu icons ****/
	
	/*** remove outside user camera icons  ****/
	kRemoveCameraPanel_WithHidingPanel_OD();
	/******************************************/
	
	kID_ShowAvatar.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+725
	});
	
	kID_CheckBoxCheckedIcon.set({
		top: kID_CameraPanelTop+700
	});
	
	kID_CheckBoxUnCheckedIcon.set({
		top: kID_CameraPanelTop+700
	});
	
	/*** add the icons for camera panel ***********/
	canvas.add(kID_CameraPanel);
	canvas.add(kID_CameraLeftArrowIcon);
	/***************** condition check needs to be added - and then add the images accordingly ******/
	//canvas.add(kID_OutsideGuestImageIcon1);
	if(kID_IsGuestUserPresent == 1)
		canvas.add(kID_OutsideGuestImageIcon2);
	else 
		canvas.add(kID_CorridorViewIcon);
	/***********************************************************************************************/
	canvas.add(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_ShowAvatar);
	canvas.add(kID_FullScreenCameraIcon);
	canvas.add(kID_InsideCameraOffIcon);
	canvas.add(kID_MicrophoneOnIcon);
	
	/*** add the icons for camera panel ***********/

	canvas.deactivateAll(); // deselect everything
};

/*********************** select event for camera - show a panel with outside user image + full screen + inner cam + audio + avatar ****/
kID_CameraIcon.on('selected', function()
{
	kID_IsMenuItemOpen = true;
	kID_AddAllCameraPanelIcons();
	canvas.deactivateAll(); // deselect everything
});

/*********************** select event for camera - show a panel with outside user image + full screen + inner cam + audio + avatar ****/


/****************** code for main menu strip for inside door end *******************************/

// remove function code : remove all icons used on the menu screen do not call this function - use the icons from this function and remove in your function

function kID_RemoveAllIcons()
{
	/********** notification panel ***************/
		kRemoveNotificationPanel();
		kRemovePackageLog();
		kRemoveNewsFeed();
		/********** notification panel ***************/
		
		/********* lock panel removal ***********/
		kRemoveLockUnlockIconPanel();
		/********* lock panel removal ***********/
		
		/******** menu icons removal *************/
		kRemoveMenuIcons();
		kRemoveMenuPanel2();
		
		/******** menu icons removal *************/
		
		/********* remove all the sos related icons ***********/
		kRemoveSOSPanel();
		/********* remove all the sos related icons ***********/
		
		/****************camera panel icons removal *****************************************************************/
		kRemoveCameraPanel();
		/************************************************************************************************************/
		
		/************ message panel **********************/
		kRemoveMessagePanel();
		/*************************************************/
		
		/***************** CALENDAR PANEL BY RIDHIPENDIGN *********************/
		
		/**********************************************************************/
		
		/*********************** settigns panel *******************************/
		aHideAnkurCodeSettings();
		
		/**********************************************************************/
		
		/******* theme panel icons removal *********************/
		kRemoveThemePanel();
		/*******************************************************/
		
		/***************** TO DO LISTS **********************************/
		rID_HideTodoList();
		
		/******************************************************************/
		
		/*** outside camera images removal ******/
		kRemoveCameraPanel_WithHidingPanel_OD();
		/***************************************/
		
		/*********************************** user specific/multiple user panel ******************************/
		kRemoveUserSpecificPanel();
		kRemoveMultiUserPanel();
		
		/*********************************** user specific/multiple user panel ******************************/
};



// function to automatically lock the door - can set the time as we want
function kID_LockDoor_Auto()
{
/***************************************** NEED TO THINK ABOUT THE LOGIC MORE - WHAT IF USER WANTS TO KEEP THE DOOR OPEN AND DO SOME WORK ********/
	if(kID_IsDoorLocked == false && kID_IsMenuItemOpen == false)
	{
			kID_IsDoorLocked = true;
		
			canvas.add(kID_LockIcon);
		
			canvas.remove(kID_UnLockIcon);
			//Sahib
			if(simgInstance12.visible == true)
			{
				canvas.remove(simgInstance12);
			}
		
	}
};

setInterval(kID_LockDoor_Auto, 10000);

/*********************** START code binding images for showing inside user outside ************************************************/

var kOD_CamIconW = 250;
var kOD_CamIconH = 250;

var kOD_CameraPanelLeft = 643;
var kOD_CameraPanelTop = 200;

var kOD_CameraPanel = new fabric.Rect({
	left: kOD_CameraPanelLeft,
	top: kOD_CameraPanelTop,
	fill: 'white',
	width: 554,
	height: 260
});

//canvas.add(kOD_CameraPanel);

var kKrutiImageIconInfo = new kInsertImageInfo("kKrutiImageIcon",document.getElementById('kKrutiImageIcon'));  
var kOD_KrutiImageIcon = new fabric.Image(kKrutiImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+140, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+22,
	height: kOD_CamIconH
});


var kRidhiImageIconInfo = new kInsertImageInfo("kRidhiImageIcon",document.getElementById('kRidhiImageIcon'));  
var kOD_RidhiImageIcon = new fabric.Image(kRidhiImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+140, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+22,
	height: kOD_CamIconH
});



var kSahibImageIconInfo = new kInsertImageInfo("kSahibImageIcon",document.getElementById('kSahibImageIcon'));  
var kOD_SahibImageIcon = new fabric.Image(kSahibImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+135, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+26,
	height: kOD_CamIconH
});



var kAnkurImageIconInfo = new kInsertImageInfo("kAnkurImageIcon",document.getElementById('kAnkurImageIcon'));  
var kOD_AnkurImageIcon = new fabric.Image(kAnkurImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+142, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+21,
	height: kOD_CamIconH
});

var kAvatarIconInfo = new kInsertImageInfo("kAvatarIcon",document.getElementById('kAvatarIcon'));  
var kOD_AvatarIcon = new fabric.Image(kAvatarIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+142, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+21,
	height: kOD_CamIconH
});



function kAddCameraPanel_WithHidingPanel_OD()
{
	canvas.add(kOD_KrutiImageIcon);
	canvas.add(kOD_RidhiImageIcon);
	canvas.add(kOD_SahibImageIcon);
	canvas.add(kOD_AnkurImageIcon);
	canvas.add(kOD_AvatarIcon);
	
	//hide all the icons
	canvas.add(kOD_CameraPanel);
};


function kRemoveCameraPanel_WithHidingPanel_OD()
{
	canvas.remove(kOD_KrutiImageIcon);
	canvas.remove(kOD_RidhiImageIcon);
	canvas.remove(kOD_SahibImageIcon);
	canvas.remove(kOD_AnkurImageIcon);
	canvas.remove(kOD_AvatarIcon);
	
	canvas.remove(kOD_CameraPanel);
};


kAddCameraPanel_WithHidingPanel_OD();


/*********************** END code binding images for showing inside user outside ************************************************/

/************************************* code for simulating the door panel *******************************************************/

function kOD_NumberPlateSimulation()
{
	
	var kOD_CurrentDateTime = new Date();

	var kOD_Hrs = kOD_CurrentDateTime.getHours();
	var kOD_Mins = kOD_CurrentDateTime.getMinutes();
	
	if(kOD_Hrs >= 18 || kOD_Hrs <= 5)
	{
		canvas.remove(sNumberPlateText);
		canvas.remove(sNamePlate);
	
		sNamePlate.set({
			fill:'black'
		});
		
		sNumberPlateText.set({
			fill:'white'
		});
		
		canvas.add(sNamePlate);
		canvas.add(sNumberPlateText);
	}
};

function kOD_RemoveAllDoorIcons()
{
	canvas.remove(outsideDoor);
	canvas.remove(kOD_TimeText);
	canvas.remove(kOD_DateText);
	canvas.remove(sNumberPlateText);
	canvas.remove(sNamePlate);
	canvas.remove(sDeliverPackageText2);
	canvas.remove(sDeliverPackageText1);
	canvas.remove(simgInstance4);
	canvas.remove(sWriteMessageText2);
	canvas.remove(sWriteMessageText1);
	canvas.remove(simgInstance3);
	canvas.remove(simgInstance2);
	canvas.remove(sFingerPrintInner);
	canvas.remove(sFingerPrintOuter);
	canvas.remove(simgInstance1);
	canvas.remove(sOD_DoorKnob);
	canvas.remove(sID_MainPanel);
	
};

function kOD_AddAllDoorIcons()
{
	canvas.add(outsideDoor);
	canvas.add(kOD_TimeText);
	canvas.add(kOD_DateText);
	canvas.add(sNamePlate);
	canvas.add(sNumberPlateText);
	canvas.add(sDeliverPackageText2);
	canvas.add(sDeliverPackageText1);
	canvas.add(sID_MainPanel);
	canvas.add(simgInstance4);
	canvas.add(sWriteMessageText2);
	canvas.add(sWriteMessageText1);
	canvas.add(simgInstance3);
	canvas.add(simgInstance2);
	canvas.add(sFingerPrintOuter);
	canvas.add(sFingerPrintInner);
	canvas.add(simgInstance1);
	canvas.add(sOD_DoorKnob);
}

function kOD_DoorLitSimulation()
{
	var kOD_CurrentDateTime = new Date();

	var kOD_Hrs = kOD_CurrentDateTime.getHours();
	var kOD_Mins = kOD_CurrentDateTime.getMinutes();
	
	if(kOD_Hrs >= 18 || kOD_Hrs <= 5)
	{
		kOD_RemoveAllDoorIcons();
		
		outsideDoor.set({
			fill:'#666666'
		})
	
		kOD_AddAllDoorIcons();
	}
};

outsideDoor.on('selected',function(){
	
	kOD_RemoveAllDoorIcons();
		
	outsideDoor.set({
		fill:'#ffffff'
	});
	
	kOD_AddAllDoorIcons();
		
});


/*********************************************************************************************************************************/

/************************************************************** google api news feed ************************************************/

var kID_NewsTop = 150;
var kID_NewsLeft = 24;
var kID_NewsWidth = 430;
var kID_NewsHeight = 100;


var kID_NewsFeedBox = new fabric.Rect({
  left: kID_NewsLeft,
  top: kID_NewsTop,
  fill: 'white',
  width: 552,
  height: 270
});


var kID_NewsFeedTitle = new fabric.Text('News Feed',{
	left: kID_NewsLeft+215,
	top: kID_NewsTop, 
	fontSize: 25,
	fontWeight: 'bold',
	fontFamily: kID_Font
});
canvas.add(kID_NewsFeedTitle);

var kID_NewsFeed1 = new fabric.Textbox('',{
	left: kID_NewsLeft+65,
	top: kID_NewsTop+40, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_NewsWidth,
    height: kID_NewsHeight
});
canvas.add(kID_NewsFeed1);

var kID_NewsFeed2 = new fabric.Textbox('',{
	left: kID_NewsLeft+65,
	top: kID_NewsTop+100, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_NewsWidth,
    height: kID_NewsHeight
});
canvas.add(kID_NewsFeed2);

var kID_NewsFeed3 = new fabric.Textbox('',{
	left: kID_NewsLeft+65,
	top: kID_NewsTop+160, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_NewsWidth,
    height: kID_NewsHeight
});
canvas.add(kID_NewsFeed3);

var kID_NewsFeed4 = new fabric.Textbox('',{
	left: kID_NewsLeft+65,
	top: kID_NewsTop+220, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_NewsWidth,
    height: kID_NewsHeight
});
canvas.add(kID_NewsFeed4);

var kID_GlobalNewsLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_NewsLeft+5,
	top: kID_NewsTop+110 , 
	width: 40,
	height: 40
});

canvas.add(kID_GlobalNewsLeftArrowIcon);

kID_GlobalNewsLeftArrowIcon.on('selected',function(){
	
	kRemoveNewsFeed();
	kAddNotificationPanel();
	
	canvas.remove(kID_LockIcon);
	canvas.remove(kID_UnLockIcon);
	
	if(kID_IsDoorLocked)
		canvas.add(kID_LockIcon);
	else
		canvas.add(kID_UnLockIcon);
		
	
});

canvas.add(kID_NewsFeedBox);


function kAddNewsFeed()
{
	canvas.add(kID_NewsFeedBox);
	canvas.add(kID_NewsFeedTitle);
	canvas.add(kID_NewsFeed1);
	canvas.add(kID_NewsFeed2);
	canvas.add(kID_NewsFeed3);
	canvas.add(kID_NewsFeed4);
	canvas.add(kID_GlobalNewsLeftArrowIcon);
}

function kRemoveNewsFeed()
{
	canvas.remove(kID_NewsFeedBox);
	canvas.remove(kID_NewsFeedTitle);
	canvas.remove(kID_NewsFeed1);
	canvas.remove(kID_NewsFeed2);
	canvas.remove(kID_NewsFeed3);
	canvas.remove(kID_NewsFeed4);
	canvas.remove(kID_GlobalNewsLeftArrowIcon);
};


var kNewsFeed = [];

google.load("feeds", "1");

    function initialize() 
	{
		var feed1 = new google.feeds.Feed("http://abc7chicago.com/feed/");
		
		//var feed = new google.feeds.Feed("http://rss.cnn.com/rss/cnn_latest.rss");
		var feed = new google.feeds.Feed("http://www.thecrimereport.org/feed/");
	  
		feed.setNumEntries(5);

		feed.load(function(result) 
		{
			if (!result.error) 
			{
				kRemoveNewsFeed();
			  
			  for (var i = 0; i < result.feed.entries.length; i++) 
			  {
				var entry = result.feed.entries[i];
				var headLine = result.feed.entries[i].title;
				var content = result.feed.entries[i].content;
				
				kNewsFeed.push((new kCommonFunction(headLine,content)));
				switch(i)
				{
					case 0:
					kID_NewsFeed1.set({
						text : headLine
					});					
					break;
					
					case 1:
					kID_NewsFeed2.set({
						text : headLine
					});
					break;
					
					case 2:
					kID_NewsFeed3.set({
						text : headLine
					});
					break;
					
					case 3:
					kID_NewsFeed4.set({
						text : headLine
					});
					break;
				}
				
			  }
			  kAddNewsFeed();
			}
		});
    }
//google.setOnLoadCallback(initialize);



/************************************************************** end google api news feed ******************************************/


/********************************** Show logs for delivered packages ***************************************************************/
var kID_PackageTop = 150;
var kID_PackageLeft = 24;
var kID_PackageWidth = 430;
var kID_PackageHeight = 100;


var kID_PackageBox = new fabric.Rect({
  left: kID_PackageLeft,
  top: kID_PackageTop,
  fill: 'white',
  width: 552,
  height: 270
});


var kID_PackageTitle = new fabric.Text('Packages Logs',{
	left: kID_PackageLeft+215,
	top: kID_PackageTop, 
	fontSize: 25,
	fontWeight: 'bold',
	fontFamily: kID_Font
});
canvas.add(kID_PackageTitle);

var kID_PackageFeed1 = new fabric.Textbox('',{
	left: kID_PackageLeft+65,
	top: kID_PackageTop+40, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_PackageWidth,
    height: kID_PackageHeight
});
canvas.add(kID_PackageFeed1);

var kID_PackageFeed2 = new fabric.Textbox('',{
	left: kID_PackageLeft+65,
	top: kID_PackageTop+100, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_PackageWidth,
    height: kID_PackageHeight
});
canvas.add(kID_PackageFeed2);

var kID_PackageFeed3 = new fabric.Textbox('',{
	left: kID_PackageLeft+65,
	top: kID_PackageTop+160, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_PackageWidth,
    height: kID_PackageHeight
});
canvas.add(kID_PackageFeed3);

var kID_PackageFeed4 = new fabric.Textbox('',{
	left: kID_PackageLeft+65,
	top: kID_PackageTop+220, 
	fontSize: 15,
	fontWeight: 'bold',
	fontFamily: kID_Font,
	width: kID_PackageWidth,
    height: kID_PackageHeight
});
canvas.add(kID_PackageFeed4);

var kID_PackageLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_NewsLeft+5,
	top: kID_NewsTop+110 , 
	width: 40,
	height: 40
});

canvas.add(kID_PackageLeftArrowIcon);

kID_PackageLeftArrowIcon.on('selected',function(){
	
	kRemovePackageLog();
	kAddNotificationPanel();
	
	canvas.remove(kID_LockIcon);
	canvas.remove(kID_UnLockIcon);
	
	if(kID_IsDoorLocked)
		canvas.add(kID_LockIcon);
	else
		canvas.add(kID_UnLockIcon);
});

canvas.add(kID_PackageBox);


function kShowPackageDelivered()
{
	canvas.add(kID_PackageBox);
	canvas.add(kID_PackageTitle);
	canvas.add(kID_PackageFeed1);
	canvas.add(kID_PackageFeed2);
	canvas.add(kID_PackageFeed3);
	canvas.add(kID_PackageFeed4);
	canvas.add(kID_PackageLeftArrowIcon);
}

function kRemovePackageLog()
{
	canvas.remove(kID_PackageBox);
	canvas.remove(kID_PackageTitle);
	canvas.remove(kID_PackageFeed1);
	canvas.remove(kID_PackageFeed2);
	canvas.remove(kID_PackageFeed3);
	canvas.remove(kID_PackageFeed4);
	canvas.remove(kID_PackageLeftArrowIcon);
};

function kBindPackageLogs(position)
{
	var kTempLogArray = [];
	for (kLog = kUserLogs.length-1; kLog >= 0 ; kLog--) 
	{
		var isPackageLog = kUserLogs[kLog].kName.split(': ');
		
		if(isPackageLog[0].toLowerCase() == 'package')
		{
			kTempLogArray.push(kUserLogs[kLog].kValue);
		}
				
	}
	
	if(kTempLogArray != [] && kTempLogArray.length > 0)
	{
		for(kLog = 0; kLog < kTempLogArray.length ; kLog++)
		{
			switch(kLog)
			{
			case 0:
				kID_PackageFeed1.set({
					text : kTempLogArray[kLog]
				});					
				break;
					
			case 1:
				kID_PackageFeed2.set({
					text : kTempLogArray[kLog]
				});
				break;
					
			case 2:
				kID_PackageFeed3.set({
					text : kTempLogArray[kLog]
				});
				break;
					
			case 3:
				kID_PackageFeed4.set({
					text : kTempLogArray[kLog]
				});
				break;
			}
		}
	}
	
	kShowPackageDelivered();
	
}

/************************************************************************************************************************************/







//add the lock icon at the end - needed on the start
canvas.add(kID_LockIcon);

canvas.add(kID_Multiple);
/************************************************************************************************************************************/

//add the lock icon at the end - needed on the start
canvas.add(kID_LockIcon);




/********************************** Code End by Kruti ***********************************************************************************************/

//Code Added by Sahib 



//Functions for playing sound

function playDoorbell() {
    console.log("Play Doorbell");
    audio1.play(); // audio will load and then play
}

function playBeep(){

    audio2.play(); 
}

function playHeyAutumn(){

    audio3.play();
	
}

function playOpenTheDoor(){

	audio4.play();

}

function playCloseTheDoor(){

	audio5.play();
	
}

function alreadyUnlocked(){

	audio6.play();
	
}

function PlayHouseAlarm(){

	audio7.load();
	audio7.play();
	
}

audio7.addEventListener('ended', function() {
    this.currentTime = 0;
    this.play();
}, false);


//code for main menu strip for Outside door start

var sID_HeaderPanelLeft = 23;
var sID_HeaderPanelTop = 2;

var sID_Font = 'Tahoma';
var sID_FontSize = 25;

var sID_IconW = 60;

var sID_MainPanelLeft = 642;
var sID_MainPanelTop = 475;

var sID_MainPanel = new fabric.Rect({
  left: sID_MainPanelLeft,
  top: sID_MainPanelTop,
  fill: 'grey',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 552,
  height: 100
});
canvas.add(sID_MainPanel);


var sOD_DoorKnob = new fabric.Circle({
    left: sID_MainPanelLeft+60,
    top: sID_MainPanelTop+16,
    fill: 'white',
    strokeWidth: 5,
    stroke: 'rgba(0,0,0,20)',
    radius: sID_IconW-26
});
canvas.add(sOD_DoorKnob);



//Keyhole
var simgElement1 = document.getElementById('sKeyHoleIcon');
var simgInstance1 = new fabric.Image(simgElement1, {
  
  width: 60,
  height: 60,
  top: sID_MainPanelTop+22,
  left: sID_MainPanelLeft+66  
});

simgInstance1.hasControls = simgInstance1.hasBorders = false;

simgInstance1.lockMovementX = simgInstance1.lockMovementY = true;

canvas.add(simgInstance1);


var sFingerPrintOuter = new fabric.Circle({
    left: sID_MainPanelLeft+240,
    top: sID_MainPanelTop+10,
    fill: 'white',
    strokeWidth: 5, 
    stroke: 'rgba(0,0,0,20)',
    radius: sID_IconW-20
});
canvas.add(sFingerPrintOuter);

var sFingerPrintInner = new fabric.Circle({
    left: sID_MainPanelLeft+252,
    top: sID_MainPanelTop+22,
    fill: 'black',
    stroke: 'rgba(0,0,256,20)',
    radius: sID_IconW-30
});
canvas.add(sFingerPrintInner);


//Door bell
var simgElement2 = document.getElementById('sDoorBellIcon');
var simgInstance2 = new fabric.Image(simgElement2, {
  
  width: 60,
  height: 60,
  top: sID_MainPanelTop+22,
  left: sID_MainPanelLeft+436  
});

simgInstance2.hasControls = simgInstance2.hasBorders = false;

simgInstance2.lockMovementX = simgInstance2.lockMovementY = true;

canvas.add(simgInstance2);

//Door bell ringing



simgInstance2.on('selected', function() {

/************ START $$KRUTI *******************************************************/
	
	var kTempCurrentDate = new Date();
	var kTempDD = kTempCurrentDate.getDate();
	var kTempMM = kTempCurrentDate.getMonth()+1; //January is 0!
	var kTempYYYY = kTempCurrentDate.getFullYear();
	
	kID_IsGuestUserPresent = 1;
	kOD_RemoveResponsePanel();
	
	kUserLogs.push((new kCommonFunction("Guest: ","Ringed the bell at: "+kTempMM+"/"+kTempDD+"/"+kTempYYYY)));
	
	if(kOD_BellRingCounter == 0)
		kID_UserResponseOnBell = -1; // setting this to check the user response when the door bell rings.	
	
	//first time when the user clicks on the bell, then camera panel must become activated on the door.
	if(kID_UserResponseOnBell == -1 && kOD_BellRingCounter == 0)
	{
		kRemoveCameraPanel();
		kID_AddAllCameraPanelIcons();
		kOD_BellRingCounter = kOD_BellRingCounter + 1;
	}
	// the bell has already rung once, so now the camera panel is active inside.
	else if(kID_UserResponseOnBell == -1 && kOD_BellRingCounter > 0)
	{
		kOD_BellRingCounter = kOD_BellRingCounter + 1;
	}
	// the user has responded from inside
	else if(kID_UserResponseOnBell == 1)
	{
		kOD_BellRingCounter = 0;
	}
/************ END $$KRUTI *******************************************************/

playDoorbell();

canvas.remove(simgInstance2);
canvas.add(simgInstance5);
setTimeout(function(){
  console.log('Doorbell was clicked!');

  canvas.remove(simgInstance5);
  canvas.add(simgInstance2);

  },2000);
  
  /************ START $$KRUTI *******************************************************/
  if(kOD_BellRingCounter == 4)
  {
	  document.getElementById("kRequestToUnLock").style.display = "block";
	  
	  //kUserLogs.push((new kCommonFunction("Guest arrived at: ",kTempMM+"/"+kTempDD+"/"+kTempYYYY)));
	  
	  kRemoveCameraPanel();
	  kOD_AddResponsePanel();
	  
	  setTimeout(function()
	  {
		  kOD_BellRingCounter = 0;
		  kOD_RemoveResponsePanel();
	  },20000);
   }
   
   /************ END $$KRUTI *******************************************************/

  });


//Write Message Icon
var simgElement3 = document.getElementById('sWriteMessageIcon');
var simgInstance3 = new fabric.Image(simgElement3, {
  
  width: 60,
  height: 60,
  left: sID_MainPanelLeft +170,
  top: sID_MainPanelTop - 250, 
});

simgInstance3.hasControls = simgInstance3.hasBorders = false;

simgInstance3.lockMovementX = simgInstance3.lockMovementY = true;

canvas.add(simgInstance3);









simgInstance3.on('selected', function() {

playBeep();

hideOutsideDoorIcons();

//canvas.add(simgInstance6);
canvas.add(simgInstance7);

canvas.add(sNewPlate);
canvas.add(sNewPlateText);

canvas.add(sPostPlate);
canvas.add(sPostPlateText);

if(simgInstance12.visible == true)
	{
	   canvas.remove(simgInstance12);
	   //simgInstance12.visible = false;
	}	

/*var el = document.getElementById('canvas');
var ctx = canvas.getContext('2d');
var isDrawing;

canvas.on('mouse:down', function(e) {

  console.log('Mouse Down');

  isDrawing = true;
  ctx.lineWidth = 10;
  ctx.lineJoin = ctx.lineCap = 'round';
  ctx.moveTo(e.clientX, e.clientY);
});
canvas.on('mouse:move', function(e) {

  console.log('Mouse Moved');

  if (isDrawing) {
    ctx.lineTo(e.clientX, e.clientY);
    ctx.stroke();
  }
});
canvas.on('mouse:up', function(e) {

  console.log('Mouse Up');

  isDrawing = false;
});*/

//var destinationcanvas = document.getElementById('c');
//var ctx = canvas.getContext('2d');	

/*var canvas1 = new fabric.Canvas('sheet');
//ctx.drawImage(canvas1,0,0,100,100);

canvas1.isDrawingMode = true;
canvas1.freeDrawingBrush.width = 10;
canvas1.freeDrawingBrush.color = "#000000";
*/

	canvas.deactivateAll(); // deselect everything


  });
  
  
  
  







 

//Text
var sWriteMessageText1 = new fabric.Text('Write',{
  left: sID_MainPanelLeft +170,
  top: sID_MainPanelTop - 175, 
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sWriteMessageText1);

var sWriteMessageText2 = new fabric.Text('Message',{
  left: sID_MainPanelLeft +170,
  top: sID_MainPanelTop - 145, 
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sWriteMessageText2);

//Package Delivery Icon
//Write Message Icon
var simgElement4 = document.getElementById('sDeliverPackageIcon');
var simgInstance4 = new fabric.Image(simgElement4, {
  
  width: 60,
  height: 60,
  left: sID_MainPanelLeft +330,
  top: sID_MainPanelTop - 250, 
});

simgInstance4.hasControls = simgInstance4.hasBorders = false;

simgInstance4.lockMovementX = simgInstance4.lockMovementY = true;

canvas.add(simgInstance4);

simgInstance4.on('selected', function() {

playBeep();

//hideOutsideDoorIcons();

/****************START $$KRUTI ***********************************************/
var kTempCurrentDate = new Date();
var kTempDD = kTempCurrentDate.getDate();
var kTempMM = kTempCurrentDate.getMonth()+1; //January is 0!
var kTempYYYY = kTempCurrentDate.getFullYear();


var kTempHrs = kTempCurrentDate.getHours();
var kTempMins = kID_CurrentDateTime.getMinutes();

if(kTempHrs < 10)
{
	kTempHrs = '0'+kTempHrs;
}

if(kTempMins < 10)
{
	kTempMins = '0'+kTempMins;
}
	
kUserLogs.push((new kCommonFunction("Package: ","Package Delivered on: "+kTempMM+"/"+kTempDD+"/"+kTempYYYY+ " at: " +kTempHrs+":"+kTempMins)));
kID_AnyPackageDelivered = true;

kAddNotificationPanel();


/**************** END $$KRUTI ************************************************/


if(simgInstance4.opacity == 0.5)
  {
  simgInstance4.opacity = 1;
  sDeliverPackageText1.fontSize = 20;
  sDeliverPackageText1.left = 2150;
  sDeliverPackageText1.top = 667;
  
  sDeliverPackageText2.fontSize = 20;
  sDeliverPackageText2.left = 2150;
  sDeliverPackageText2.top = 730;
  }

  else
  {
    simgInstance4.opacity = 0.5;
	sDeliverPackageText1.fontSize = 25;
	sDeliverPackageText1.left = 2150;
	sDeliverPackageText1.top = 665;
	
	sDeliverPackageText2.fontSize = 25;
	sDeliverPackageText2.left = 2150;
	sDeliverPackageText2.top = 730;
	
  }
canvas.deactivateAll(); // deselect everything

  });

//Door bell ringing

var simgElement5 = document.getElementById('sDoorBellRingingIcon');
var simgInstance5 = new fabric.Image(simgElement5, {
  
  width: 150,
  height: 150,
  top: sID_MainPanelTop+625,
  left: sID_MainPanelLeft+1736   
});

simgInstance5.hasControls = simgInstance5.hasBorders = false;

simgInstance5.lockMovementX = simgInstance5.lockMovementY = true;

//Writing pad outside

var simgElement6 = document.getElementById('sWritingPad');
var simgInstance6 = new fabric.Image(simgElement6, {
  
  width: 650,
  height: 500,
  left: 1725,
  top: 370,    
});

simgInstance6.hasControls = simgInstance6.hasBorders = false;

simgInstance6.lockMovementX = simgInstance6.lockMovementY = true;


//Left  Arrow
var simgElement7 = document.getElementById('sLeftArrow');
var simgInstance7 = new fabric.Image(simgElement7, {
  
  width: 95,
  height: 95,
  left: 1490,
  top: 620,    
});

simgInstance7.hasControls = simgInstance7.hasBorders = false;

simgInstance7.lockMovementX = simgInstance7.lockMovementY = true;


simgInstance7.on('selected', function() {

playBeep();

RemoveWriteMessageWindow();

showOutsideDoorIcons();

canvas.deactivateAll(); // deselect everything

  });
  

var simgElement8 = document.getElementById('smicrophone');
var simgInstance8 = new fabric.Image(simgElement8, {
  
  width: 650,
  height: 500,
  left: 1725,
  top: 370,    
});

simgInstance8.hasControls = simgInstance8.hasBorders = false;

simgInstance8.lockMovementX = simgInstance8.lockMovementY = true;


var simgElement9 = document.getElementById('shandpointer');
var simgInstance9 = new fabric.Image(simgElement9, {
  
  width: 200,
  height: 200,
  left: 1950,
  top: 1800,    
});

simgInstance9.hasControls = simgInstance9.hasBorders = false;

simgInstance9.lockMovementX = simgInstance9.lockMovementY = true;

//canvas.add(simgInstance9);

//var sIsLocked = "true";

var animateBtn = document.getElementById('b8');

  animateBtn.onclick = function() {
  
  playBeep();
  
  count = 0;
  
  
  if(kID_IsDoorLocked == true){
  
	RemoveWriteMessageWindow();
	showOutsideDoorIcons();
  
    animateBtn.disabled = true;	
	canvas.add(simgInstance9);
	canvas.add(simgInstance10);
    simgInstance9.animate('top', simgInstance9.getTop() === 1800 ? 1180 : 1180, {
      duration: 1000,
      onChange: canvas.renderAll.bind(canvas),
      
	  onComplete: function() {
        animateBtn.disabled = false;
		canvas.remove(simgInstance10);
		canvas.add(simgInstance11);
		canvas.remove(simgInstance9);
		simgInstance9.set({
			top: 1800,
			left: 1950,
		});
		//sIsLocked = "false";
		
		kID_IsDoorLocked = false;
		
		//Inside door change locked icon to unlocked icon
		
		if(kID_IsMenuOpen == false)
		{
		canvas.remove(kID_UnLockIcon);
		canvas.remove(kID_LockUnlcokPanel);
		
		canvas.add(kID_UnLockIcon);
		canvas.remove(kID_LockIcon);
	
		}
	if(simgInstance12.visible == true)
	{
	
	canvas.remove(simgInstance12);
	canvas.remove(simgInstance13);
	canvas.remove(simgInstance14);
	     
	}	
				
      }
    });
	}
	else{
		alreadyUnlocked();
	}
  
  
	
	canvas.deactivateAll(); // deselect everything
  
  
  };

setInterval(RemoveUnlockOutside, 5000);

function RemoveUnlockOutside(){

	if(simgInstance11.visible == true)
  {
	   simgInstance11.visible = false;
  }


}
  
var simgElement10 = document.getElementById('slocked');
var simgInstance10 = new fabric.Image(simgElement10, {
  
  width: 100,
  height: 100,
  left: 1590,
  top: 900,    
});

simgInstance10.hasControls = simgInstance10.hasBorders = false;

simgInstance10.lockMovementX = simgInstance10.lockMovementY = true;  
  
var simgElement11 = document.getElementById('sunlock');
var simgInstance11 = new fabric.Image(simgElement11, {
  
  width: 100,
  height: 100,
  left: 1590,
  top: 900,    
});

simgInstance11.hasControls = simgInstance11.hasBorders = false;

simgInstance11.lockMovementX = simgInstance11.lockMovementY = true; 


var simgElement12 = document.getElementById('sincorrectprint');
var simgInstance12 = new fabric.Image(simgElement12, {
  
  width: 200,
  height: 200,
  left: 1950,
  top: 830,    
});

simgInstance12.hasControls = simgInstance12.hasBorders = false;

simgInstance12.lockMovementX = simgInstance12.lockMovementY = true;



//Outside door upper half
var simgElement13 = document.getElementById('sblack');
var simgInstance13 = new fabric.Image(simgElement13, {
  
  width: 1231,
  height: 820,
  left: 1428,
  top: 0,
  opacity: 0.8,
});

simgInstance13.hasControls = simgInstance13.hasBorders = false;

simgInstance13.lockMovementX = simgInstance13.lockMovementY = true;


simgInstance13.on('selected', function() {

playBeep();

canvas.remove(simgInstance12);
canvas.remove(simgInstance13);
canvas.remove(simgInstance14);

canvas.deactivateAll(); // deselect everything

  });

//Outside door lower half
var simgElement14 = document.getElementById('sblack');
var simgInstance14 = new fabric.Image(simgElement14, {
  
  width: 1231,
  height: 1150,
  left: 1428,
  top: 1280,
  opacity: 0.8,
});

simgInstance14.hasControls = simgInstance14.hasBorders = false;

simgInstance14.lockMovementX = simgInstance14.lockMovementY = true;

simgInstance14.on('selected', function() {

playBeep();

canvas.remove(simgInstance12);
canvas.remove(simgInstance13);
canvas.remove(simgInstance14);

canvas.deactivateAll(); // deselect everything

  });
  
//Inside door upper half
var simgElement15 = document.getElementById('sblack');
var simgInstance15 = new fabric.Image(simgElement15, {
  
  width: 1235,
  height: 2350,
  left: 50,
  top: 0,
  opacity: 0.8,
});

simgInstance15.hasControls = simgInstance15.hasBorders = false;

simgInstance15.lockMovementX = simgInstance15.lockMovementY = true;


simgInstance15.on('selected', function() {

playBeep();

RemoveInsideOutsideBlackScreen();

canvas.deactivateAll(); // deselect everything

  });
  

//Inside door men 1
var simgElement16 = document.getElementById('smen');
var simgInstance16 = new fabric.Image(simgElement16, {
  
  width: 450,
  height: 450,
  left: 70,
  top: 330,
  opacity: 1,
});

simgInstance16.hasControls = simgInstance16.hasBorders = false;

simgInstance16.lockMovementX = simgInstance16.lockMovementY = true;

simgInstance16.on('selected', function() {

playBeep();

RemoveInsideOutsideBlackScreen();

canvas.deactivateAll(); // deselect everything

  });
  

//Inside door men 2
var simgElement17 = document.getElementById('ssalesman');
var simgInstance17 = new fabric.Image(simgElement17, {
  
  width: 450,
  height: 450,
  left: 790,
  top: 340,
  opacity: 1,
});

simgInstance17.hasControls = simgInstance17.hasBorders = false;

simgInstance17.lockMovementX = simgInstance17.lockMovementY = true;

simgInstance17.on('selected', function() {

playBeep();

RemoveInsideOutsideBlackScreen();

canvas.deactivateAll(); // deselect everything

  });
  
var incorrectprint = document.getElementById('b9');
var count = 0;

  incorrectprint.onclick = function() {
  
  playBeep();
  
  
		
	if(simgInstance12.visible == true)
	{
	   canvas.remove(simgInstance12);
	   //simgInstance12.visible = false;
	}	
		
	if(kID_IsDoorLocked == true){
	
	RemoveWriteMessageWindow();
	showOutsideDoorIcons();
  
    incorrectprint.disabled = true;	
	canvas.add(simgInstance9);
	canvas.add(simgInstance10);
    simgInstance9.animate('top', simgInstance9.getTop() === 1800 ? 1180 : 1180, {
      duration: 1000,
      onChange: canvas.renderAll.bind(canvas),
      
	  onComplete: function() {
        incorrectprint.disabled = false;
		canvas.remove(simgInstance10);
		//canvas.add(simgInstance11);
		canvas.add(simgInstance12);
		canvas.remove(simgInstance9);
		
		simgInstance9.set({
			top: 1800,
			left: 1950,
		});
		//sIsLocked = "false";
		
		count= count + 1;
		
		if(count == "6"){
	
	canvas.add(simgInstance17);
	simgInstance13.set({
			opacity: 1,
		});
	simgInstance14.set({
			opacity: 1,
		});
	simgInstance15.set({
			opacity: 1,
		});
		
	}
	
	if(count == "3"){
	console.log("Button pressed 3 times.");
	
	if(simgInstance15.visibile == true){
	
	canvas.remove(simgInstance15);
	canvas.remove(simgInstance16);
	canvas.remove(sIncorrectAttemptText);
	}
	
	canvas.add(simgInstance13);
	canvas.add(simgInstance14);
	
	canvas.add(simgInstance15);
	canvas.add(simgInstance16);
	canvas.add(sIncorrectAttemptText);
	
	simgInstance15.visibile = true;
	
	//Disabling all the buttons external to the door system.
	document.getElementById('b9').disabled = true;
	console.log(document.getElementById('b9').disabled);
	animateBtn.disabled = true;	

	}
	
      }
    });
	
	}
	
	else{
		alreadyUnlocked();
	}
	
  //setTimeout(RemoveIncorrectPrint, 3000);
  };
  


function RemoveIncorrectPrint(){

	if(simgInstance12.visible == true)
  {
	   simgInstance12.visible = false;
  }


}


function RemoveInsideOutsideBlackScreen(){

canvas.remove(simgInstance12);
canvas.remove(simgInstance13);
canvas.remove(simgInstance14);

canvas.remove(simgInstance15);
canvas.remove(simgInstance16);
canvas.remove(simgInstance17);
canvas.remove(sIncorrectAttemptText);

count = 0;

simgInstance13.set({
			opacity: 0.8,
		});
simgInstance14.set({
		opacity: 0.8,
	});
simgInstance15.set({
		opacity: 0.8,
	});

}
  

//Text
var sIncorrectAttemptText = new fabric.Text('3 Unsuccessful Unlocking Attempts made.',{
  left: 115,
  top: 900, 
  fontSize: 44,
  fill : 'White',
  fontWeight: 'bold',
  fontFamily: sID_Font
});

sIncorrectAttemptText.on('selected', function() {

  playBeep();

canvas.remove(simgInstance12);
canvas.remove(simgInstance13);
canvas.remove(simgInstance14);

canvas.remove(simgInstance15);
canvas.remove(simgInstance16);
canvas.remove(simgInstance17);
canvas.remove(sIncorrectAttemptText);

count = 0;

  //canvas.renderAll();
  canvas.deactivateAll(); // deselect everything

});


  
  
var heyautumn = document.getElementById('b5');

  heyautumn.onclick = function() {
  
  playHeyAutumn();
  
  canvas.add(simgInstance18);
  simgInstance18.visibile = true;
  
  };
  
var openthedoor = document.getElementById('b6');

	openthedoor.onclick = function() {
  
	playOpenTheDoor();
	
	
  
		if(simgInstance18.visibile == true)
	{
	
		kID_IsDoorLocked = false;
		if(kID_IsMenuOpen == false)
		{
		canvas.remove(kID_UnLockIcon);
		canvas.remove(kID_LockUnlcokPanel);
		
		canvas.remove(kID_LockIcon);	
		canvas.add(kID_UnLockIcon);
		}
		
	}
  
	

	//Sahib
		if(simgInstance12.visible == true)
		{
		   canvas.remove(simgInstance12);
		   //simgInstance12.visible = false;
		}

		canvas.deactivateAll(); // deselect everything
  
  
  };
  
var closethedoor = document.getElementById('b7');

		closethedoor.onclick = function() {
  
		playCloseTheDoor();
		
		
		
		if(simgInstance18.visibile == true)
		{
		
		kID_IsDoorLocked = true;
		if(kID_IsMenuOpen == false){
		
		canvas.add(kID_LockIcon);
		
		canvas.remove(kID_UnLockIcon);
		
		}
		
		}
	
		//Sahib
		if(simgInstance12.visible == true)
		{
		   canvas.remove(simgInstance12);
		   //simgInstance12.visible = false;
		}
  
  };  
  
setInterval(sRemoveMicrophone, 30000);  
  
function sRemoveMicrophone(){
	
	simgInstance18.visibile = false;
	canvas.remove(simgInstance18);	
		
}  
  
var simgElement18 = document.getElementById('smicrophone');
var simgInstance18 = new fabric.Image(simgElement18, {
  
  width:100,
  height: 100,
  left: 620,
  top: 70,
  opacity: 1,
});

simgInstance18.hasControls = simgInstance18.hasBorders = false;

simgInstance18.lockMovementX = simgInstance18.lockMovementY = true;  
  
  
var simgElement19 = document.getElementById('slisteningmicrophone');
var simgInstance19 = new fabric.Image(simgElement19, {
  
  width: 100,
  height: 130,
  left: 620,
  top: 40,
  opacity: 1,
});

simgInstance19.hasControls = simgInstance19.hasBorders = false;

simgInstance19.lockMovementX = simgInstance19.lockMovementY = true;  
  
  
var video2El = document.getElementById('video2');
   var video2 = new fabric.Image(video2El, {
  left: 700,
  top: 650,
  angle: 0,
  strokeWidth: 20, 
  stroke: 'rgba(0,0,0,20)',
  originX: 'center',
  originY: 'center'
}); 

video2.hasControls = video2.hasBorders = false;

video2.lockMovementX = video2.lockMovementY = true;

var onvideoclick = 1;

video2.on('selected', function() {

  playBeep();
  
  if(onvideoclick% 2  == 0){
  
  video2.getElement().play();
  
  }

  if(onvideoclick% 2  == 1)
  {
  video2.getElement().pause();
  
  }
  
  onvideoclick = onvideoclick + 1;
  
  

  //canvas.renderAll();
  canvas.deactivateAll(); // deselect everything

});

   
kID_HelpIcon.on('selected', function() {

	playBeep();

	kRemoveMenuPanel2();
	
	kID_IsMenuOpen = false;
	
	simgInstance20.left = 130;
	simgInstance20.top = 630,
	
	canvas.add(simgInstance20);

	canvas.add(video2);
	video2.getElement().load();
	video2.getElement().play();
	fabric.util.requestAnimFrame(function render() {
	canvas.renderAll();
	fabric.util.requestAnimFrame(render);
	
	});   
	
	canvas.deactivateAll(); // deselect everything

});  
  

  
  
//Left arrow of help window
var simgElement20 = document.getElementById('kLeftArrowIcon');
var simgInstance20 = new fabric.Image(simgElement20, {
  
  width: 90,
  height: 100,
  left: 130,
  top: 630,
});

simgInstance20.hasControls = simgInstance20.hasBorders = false;

simgInstance20.lockMovementX = simgInstance20.lockMovementY = true;  

simgInstance20.on('selected', function() {

	playBeep();

	kID_IsMenuOpen = true;
	
	RemoveHelpWindow();
	
	kAddMenuPanel2();
	
	canvas.deactivateAll(); // deselect everything

});  
  
  
//House Alarm

kID_HouseAlarmIcon.on('selected', function() {

	playBeep();
	
	kID_IsMenuOpen = false;

	kRemoveMenuPanel2();
	
	canvas.add(slider1);

	canvas.add(sliderLine1);
	 
	canvas.add(simgInstance21);
	
	sOnHouseAlarmText2.fill = 'black';
  
	sOffHouseAlarmText2.fill = 'black';
	
	canvas.add(sOnHouseAlarmText2);
	
	canvas.add(sOffHouseAlarmText2);
	
	canvas.deactivateAll(); // deselect everything

});  
  
//Slider for House Alarm

var slider1 = new fabric.Rect({
    width: 50,
    height: 80,
    top: 630,
    left: 450,
    fill: 'black'
  });

slider1.hasControls = slider1.hasBorders = false;

slider1.lockMovementY = true;

slider1.lockMovementX = false;

var sliderLine1 = new fabric.Rect({
    width: 450,
    height: 10,
    top: 670,
    left: 450,
    fill: 'black'
  });

sliderLine1.hasControls = sliderLine1.hasBorders = false;

sliderLine1.lockMovementX = sliderLine1.lockMovementY = true;  
	
	
//Left arrow for house alarm
var simgElement21 = document.getElementById('kLeftArrowIcon');
var simgInstance21 = new fabric.Image(simgElement21, {
  
  width: 90,
  height: 100,
  left: 130,
  top: 620,
});

simgInstance21.hasControls = simgInstance21.hasBorders = false;

simgInstance21.lockMovementX = simgInstance21.lockMovementY = true;  

simgInstance21.on('selected', function() {

	playBeep();

	kID_IsMenuOpen = true;
	
	RemoveHouseAlarmWindow();
	
	kAddMenuPanel2();
	
	canvas.deactivateAll(); // deselect everything

});

//Inside door upper Half Red House Alarm
var simgElement22 = document.getElementById('sred');
var simgInstance22 = new fabric.Image(simgElement22, {
  
  width: 1232,
  height: 2350,
  left: 50,
  top: 0,
  opacity: 0.8,
});

simgInstance22.hasControls = simgInstance22.hasBorders = false;

simgInstance22.lockMovementX = simgInstance22.lockMovementY = true;

//canvas.add(simgInstance22);

//Outside door upper half Red House alarm

var simgElement23 = document.getElementById('sred');
var simgInstance23 = new fabric.Image(simgElement23, {
  
  width: 1231,
  height: 1057,
  left: 1429.5,
  top: 0,
  opacity: 0.8,
});

simgInstance23.hasControls = simgInstance23.hasBorders = false;

simgInstance23.lockMovementX = simgInstance23.lockMovementY = true;


//Outside door lower half Red House alarm
var simgElement24 = document.getElementById('sred');
var simgInstance24 = new fabric.Image(simgElement24, {
  
  width: 1232,
  height: 1150,
  left: 1428,
  top: 1287,
  opacity: 0.8,
});

simgInstance24.hasControls = simgInstance24.hasBorders = false;

simgInstance24.lockMovementX = simgInstance24.lockMovementY = true;

var shousealarmbutton = document.getElementById('b10');

  shousealarmbutton.onclick = function() {
  
  playBeep();
  
  if(housealarmstate == true){
  
  PlayHouseAlarm();
  
  slider1.left = 450;
  
  canvas.add(simgInstance22);
  
  canvas.add(simgInstance23);
  
  canvas.add(simgInstance24);
  
  canvas.add(slider2);
  
  canvas.add(sliderLine2);
  
  sOnHouseAlarmText1.fill = 'white';
  
  sOffHouseAlarmText1.fill = 'white';
  
  canvas.add(sOnHouseAlarmText1);
	
  canvas.add(sOffHouseAlarmText1);
  
  canvas.add(sHouseAlarmText);
	
  canvas.add(sActivatedText);
  
  canvas.add(sOutsideHouseAlarmText);
	
  canvas.add(sOutsideActivatedText);
  
  }
  
  else{
  
  audio8.play();
  
  }
  
  };


//Slider for House Alarm

var slider2 = new fabric.Rect({
    width: 50,
    height: 80,
    top: 640,
    left: 450,
    fill: 'black'
  });

slider2.hasControls = slider2.hasBorders = false;

slider2.lockMovementY = true;

slider2.lockMovementX = false;

var sliderLine2 = new fabric.Rect({
    width: 450,
    height: 10,
    top: 680,
    left: 450,
    fill: 'black'
  });

sliderLine2.hasControls = sliderLine2.hasBorders = false;

sliderLine2.lockMovementX = sliderLine2.lockMovementY = true;  

 
	
//Text House Alarm ON Outside menu
var sOnHouseAlarmText1 = new fabric.Text('ON',{
  left: 270,
  top: 630,
  fontSize: 90,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

//Text House Alarm OFF Outside menu
var sOffHouseAlarmText1 = new fabric.Text('OFF',{
  left: 940,
  top: 630,
  fontSize: 90,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

//Text House Alarm ON Inside menu
var sOnHouseAlarmText2 = new fabric.Text('ON',{
  left: 270,
  top: 620,
  fontSize: 90,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

//Text House Alarm OFF Inside menu
var sOffHouseAlarmText2 = new fabric.Text('OFF',{
  left: 940,
  top: 620,
  fontSize: 90,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

//Text House Alarm on Inside Door
var sHouseAlarmText = new fabric.Text('House Alarm',{
  left: 400,
  top: 320,
  fontSize: 90,
  fill: 'white',
  fontWeight: 'bold',
  fontFamily: sID_Font
});


//Text Activated on Inside Door
var sActivatedText = new fabric.Text('Activated',{
  left: 470,
  top: 420,
  fill: 'white',
  fontSize: 90,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

//Text House Alarm on Outside Door
var sOutsideHouseAlarmText = new fabric.Text('House Alarm',{
  left: 1760,
  top: 320,
  fontSize: 90,
  fill: 'white',
  fontWeight: 'bold',
  fontFamily: sID_Font
});

//Text Activated on Outside Door
var sOutsideActivatedText = new fabric.Text('Activated',{
  left: 1830,
  top: 420,
  fill: 'white',
  fontSize: 90,
  fontWeight: 'bold',
  fontFamily: sID_Font
});


//Text
var sDeliverPackageText1 = new fabric.Text('Deliver',{
  left: sID_MainPanelLeft +327,
  top: sID_MainPanelTop - 175,
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sDeliverPackageText1);

var sDeliverPackageText2 = new fabric.Text('Package',{
  left: sID_MainPanelLeft +327,
  top: sID_MainPanelTop - 145,
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sDeliverPackageText2);

var housealarmstate = true;
canvas.on('object:moving', function(e) {
  var activeObject = e.target;
  
  //Outside Menu
  if(activeObject.get('top') == 640 && activeObject.get('left')<675)
  {
      activeObject.left = 450;
      //slider3.left = 1360;

  }
  
  if(activeObject.get('top') == 640 && activeObject.get('left')>675)
  {
      activeObject.left = 850;
	  audio7.pause();
	  RemoveHouseAlarmOutsideMenu();
      //slider3.left = 1360;

  }
  
  
  //Inside menu
  if(activeObject.get('top') == 630 && activeObject.get('left')<675)
  {
      activeObject.left = 450;
	  housealarmstate = true;
      //slider3.left = 1360;

  }
  
  if(activeObject.get('top') == 630 && activeObject.get('left')>675)
  {
      activeObject.left = 850;
	  housealarmstate = false;
      //slider3.left = 1360;

  }
  
});



//Code for other icons on the outside door

//Name plate

var sNamePlate = new fabric.Rect({
  left: sID_MainPanelLeft +150,
  top: sID_MainPanelTop - 395,
  fill: 'white',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 252,
  height: 70
});
canvas.add(sNamePlate);

//House no. on the name plate

var sNumberPlateText = new fabric.Text('1500 B',{
  left: sID_MainPanelLeft +200,
  top: sID_MainPanelTop - 385,
  fontSize: 50,
  fontFamily: sID_Font
});
canvas.add(sNumberPlateText);


//New Icon

var sNewPlate = new fabric.Rect({
  left: sID_MainPanelLeft +1120,
  top: sID_MainPanelTop + 420,
  fill: 'white',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 252,
  height: 90
});

sNewPlate.hasControls = sNewPlate.hasBorders = false;

sNewPlate.lockMovementX = sNewPlate.lockMovementY = true;


var sNewPlateText = new fabric.Text('New',{
  left: sID_MainPanelLeft +1200,
  top: sID_MainPanelTop + 435,
  fontSize: 50,
  fontFamily: sID_Font
});

sNewPlateText.hasControls = sNewPlateText.hasBorders = false;

sNewPlateText.lockMovementX = sNewPlateText.lockMovementY = true;

//Post Icon

var sPostPlate = new fabric.Rect({
  left: sID_MainPanelLeft +1420,
  top: sID_MainPanelTop + 420,
  fill: 'white',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 252,
  height: 90
});

sPostPlate.hasControls = sPostPlate.hasBorders = false;

sPostPlate.lockMovementX = sPostPlate.lockMovementY = true;

var sPostPlateText = new fabric.Text('Post',{
  left: sID_MainPanelLeft +1500,
  top: sID_MainPanelTop + 435,
  fontSize: 50,
  fontFamily: sID_Font
});

sPostPlateText.hasControls = sPostPlateText.hasBorders = false;

sPostPlateText.lockMovementX = sPostPlateText.lockMovementY = true;

//Date and time

var kOD_DateText = new fabric.Text('',{
  left: sID_HeaderPanelLeft +630,
  top: sID_HeaderPanelTop + 5,
  fontSize: sID_FontSize,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

kOD_DateText.set({
    text: kID_MM+"/"+kID_DD+"/"+kID_YYYY
  });

canvas.add(kOD_DateText);

// add the time to canvas - initially blank, update from function
var kOD_TimeText = new fabric.Text('',{
  left: sID_HeaderPanelLeft +1090,
  top: sID_HeaderPanelTop + 5,
  fontSize: sID_FontSize,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

kOD_TimeText.set({
    text:kID_Hrs+":"+kID_Mins
  });

canvas.add(kOD_TimeText);


//Hide outside door icons
function hideOutsideDoorIcons(){

canvas.remove(simgInstance3);
canvas.remove(simgInstance4);
canvas.remove(sWriteMessageText1);
canvas.remove(sWriteMessageText2);
canvas.remove(sDeliverPackageText1);
canvas.remove(sDeliverPackageText2);

}

function showOutsideDoorIcons(){

hideOutsideDoorIcons();
canvas.add(simgInstance3);
canvas.add(simgInstance4);
canvas.add(sWriteMessageText1);
canvas.add(sWriteMessageText2);
canvas.add(sDeliverPackageText1);
canvas.add(sDeliverPackageText2);

}

function RemoveWriteMessageWindow(){ 

canvas.remove(simgInstance7);

canvas.remove(sNewPlate);
canvas.remove(sNewPlateText);

canvas.remove(sPostPlate);
canvas.remove(sPostPlateText);

}

function RemoveHouseAlarmWindow(){

canvas.remove(slider1);
	
canvas.remove(sliderLine1);

canvas.remove(simgInstance21);

canvas.remove(sOnHouseAlarmText2);

canvas.remove(sOffHouseAlarmText2);


}

function RemoveHelpWindow(){


video2.getElement().pause();

canvas.remove(video2);

canvas.remove(simgInstance20);

}

function RemoveHouseAlarmOutsideMenu(){

canvas.remove(simgInstance22);
  
canvas.remove(simgInstance23);

canvas.remove(simgInstance24);

canvas.remove(slider2);

canvas.remove(sliderLine2);

canvas.remove(sOnHouseAlarmText1);

canvas.remove(sOffHouseAlarmText1);

canvas.remove(sHouseAlarmText);

canvas.remove(sActivatedText);

canvas.remove(sOutsideHouseAlarmText);

canvas.remove(sOutsideActivatedText);	

slider2.left = 450;

}


//On Mouse hover
/*simgInstance1.on('mouse:move', function(e) {
  
    console.log('Outside door was clicked!');
     e.target.setFill('red');
    canvas.renderAll();

});
*/








/*************************************** Code End by Sahib ***************************************************************************************/





/*************************************** Code Added by Ankur ***************************************************************************************/

var atime = document.getElementById('settingsTime');
var atemp = document.getElementById('settingsTemp');
var abell = document.getElementById('settingsBell');
var alang = document.getElementById('settingsLang');
var adate = document.getElementById('settingsDate');
var ausers = document.getElementById('settingsUsers');

var atime12 = document.getElementById('settingsTime12');
var atime24 = document.getElementById('settingsTime24');

var atempC = document.getElementById('settingsTempC');
var atempF = document.getElementById('settingsTempF');

var avol1 = document.getElementById('settingsvol1');
var avol1fill = document.getElementById('settingsvol1fill');

var avol2 = document.getElementById('settingsvol2');
var avol2fill = document.getElementById('settingsvol2fill');

var avol3 = document.getElementById('settingsvol3');
var avol3fill = document.getElementById('settingsvol3fill');

var avol4 = document.getElementById('settingsvol4');
var avol4fill = document.getElementById('settingsvol4fill');

var volLevel = 2;

var doorBell = document.getElementById('settingsdoorbell');

var aenglish = document.getElementById('english');
var aspanish = document.getElementById('spanish');
var arussian = document.getElementById('russian');
var agerman = document.getElementById('german');
var aarabic = document.getElementById('arabic');
var aechinese = document.getElementById('chinese');
var adutch = document.getElementById('dutch');
var afrench = document.getElementById('french');
var ahindi = document.getElementById('hindi');
var abengali = document.getElementById('bengali');

var adate1 = document.getElementById('date1');
var adate2 = document.getElementById('date2');
var adate3 = document.getElementById('date3');
var adate4 = document.getElementById('date4');

var auser1 = document.getElementById('kKrutiImageIcon');
var auser2 = document.getElementById('kSahibImageIcon');
var auser3 = document.getElementById('kRidhiImageIcon');
var auser4 = document.getElementById('kAnkurImageIcon');
var aplus = document.getElementById('plus');
var auserguest = document.getElementById('guestuser');

var auserfinger = document.getElementById('userfinger');
var auserphone = document.getElementById('userphone');
var auseredit = document.getElementById('edit');
var auserphonetab = document.getElementById('phonetab');
var auserphonetabselected = document.getElementById('phonetabselected');
var auserfingertab = document.getElementById('fingertab');
var auserfingertabselected = document.getElementById('fingertabselected');

var aBackButtonx = document.getElementById('backButton');

// For settings panel

var aBackButton = new fabric.Image(aBackButtonx, {
  left: 50,  
  top: 300,
  angle: 180,
  width: 25, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});

// For individual settings

var aBackButton2 = new fabric.Image(aBackButtonx, {
  left: 50,  
  top: 300,
  angle: 180,
  width: 25, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});

var aBackButton3 = new fabric.Image(aBackButtonx, {
  left: 50,  
  top: 300,
  angle: 180,
  width: 25, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});

var aBackButton4 = new fabric.Image(aBackButtonx, {
  left: 50,  
  top: 300,
  angle: 180,
  width: 25, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});


var aSettingsTime = new fabric.Image(atime, {
  left: 125,  // 750
  top: 225,
  angle: 0,
  width: 90, height: 90,
  visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsTemp = new fabric.Image(atemp, {
  left: 300,  //900
  top: 225,
  angle: 0,
  width: 80, height: 80,
   visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsBell = new fabric.Image(abell, {
  left: 475,  //1050
  top: 225,
  angle: 0,
  width: 80, height: 80,
   visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsLang = new fabric.Image(alang, {
  left: 125,
  top: 375,
  angle: 0,
  width: 60, height: 60,
   visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsDate = new fabric.Image(adate, {
  left: 300,
  top: 375,
  angle: 0,
  width: 70, height: 70,
   visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUsers = new fabric.Image(ausers, {
  left: 475,
  top: 375,
  angle: 0,
  width: 80, height: 80,
   visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsTime12 = new fabric.Image(atime12, {
  left: 200, //800
  top: 275,
  angle: 0,
  width: 130, height: 130,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsTime24 = new fabric.Image(atime24, {
  left: 400,  //1000
  top: 275,
  angle: 0,
  width: 130, height: 130, opacity: 0.5,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsTempC = new fabric.Image(atempC, {
  left: 200,  //800
  top: 275,
  angle: 0,
  width: 135, height: 135,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsTempF = new fabric.Image(atempF, {
  left: 400,  //1000
  top: 275, 
  angle: 0,
  width: 125, height: 125, opacity:0.5,
  visible: false,
  originY: 'center', originX: 'center',
  
});

// Volume levels in doorbell settings

var aSettingsVol4 = new fabric.Image(avol4, {
  left: 175,  //750
  top: 225,
  angle: 0,
  width: 150, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsVol3 = new fabric.Image(avol3, {
  left: 162.5, //737.5
  top: 265,
  angle: 0,
  width: 125, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsVol2 = new fabric.Image(avol2, {
  left: 150,
  top: 305,
  angle: 0,
  width: 100, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsVol1 = new fabric.Image(avol1, {
  left: 137.5,
  top: 345,
  angle: 0,
  width: 75, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

// filled levels - selected

var aSettingsVolFill4 = new fabric.Image(avol4fill, {
  left: 175,
  top: 225,
  angle: 0,
  width: 150, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsVolFill3 = new fabric.Image(avol3fill, {
  left: 162.5,
  top: 265,
  angle: 0,
  width: 125, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsVolFill2 = new fabric.Image(avol2fill, {
  left: 150,
  top: 305,
  angle: 0,
  width: 100, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsVolFill1 = new fabric.Image(avol1fill, {
  left: 137.5,
  top: 345,
  angle: 0,
  width: 75, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var achimeText1 = new fabric.Text('Doorbell Chime', { left: 375, top: 225, fontFamily: 'Helvetica', fontSize: 20, originX: 'center',
  originY: 'center', visible: false});
var achimeText2 = new fabric.Text('Package Chime', { left: 375, top: 305, fontFamily: 'Helvetica', fontSize: 20, originX: 'center',
  originY: 'center', visible: false});


var achime1 = new fabric.Image(doorBell, {
  left: 325, //900
  top: 265,
  angle: 0,
  width: 25, height: 25,opacity:0.5,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var achime2 = new fabric.Image(doorBell, {
  left: 375, //950
  top: 265,
  angle: 0,
  width: 25, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var achime3 = new fabric.Image(doorBell, {
  left: 425, //1000
  top: 265,
  angle: 0,
  width: 25, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var achime4 = new fabric.Image(doorBell, {
  left: 325,
  top: 345,
  angle: 0,
  width: 25, height: 25,opacity:0.5,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var achime5 = new fabric.Image(doorBell, {
  left: 375,
  top: 345,
  angle: 0,
  width: 25, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var achime6 = new fabric.Image(doorBell, {
  left: 425,
  top: 345,
  angle: 0,
  width: 25, height: 25,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var alangText = new fabric.Text('Select your Language', { left: 300, top: 175, fontFamily: 'Helvetica', fontSize: 20, originX: 'center',
  originY: 'center', visible: false
});


var aSettingsEnglish = new fabric.Image(aenglish, {
  left: 225, //850
  top: 225,
  angle: 0,
  width: 100, height: 50,opacity:0.5,
  visible: false,
  originY: 'center', originX: 'center',
  
});

/*var rID_GroupHindiButton = new fabric.Group([rID_HindiBox, rID_HindiText], {

  left: rID_TutorialLeft+ 105,
  top: rID_TutorialTop + 310,
  angle: 0
});*/





var aSettingsSpanish = new fabric.Image(aspanish, {
  left: 225,
  top: 325,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsFrench = new fabric.Image(afrench, {
  left: 225,
  top: 275,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsRussian = new fabric.Image(arussian, {
  left: 375,
  top: 275,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsHindi = new fabric.Image(ahindi, {
  left: 375,
  top: 225,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsBengali = new fabric.Image(abengali, {
  left: 375,
  top: 325,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsGerman = new fabric.Image(agerman, {
  left: 225,
  top: 375,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsDutch = new fabric.Image(adutch, {
  left: 375,
  top: 375,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsArabic = new fabric.Image(aarabic, {
  left: 225,
  top: 425,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsChinese = new fabric.Image(aechinese, {
  left: 375,
  top: 425,
  angle: 0,
  width: 100, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsDate1 = new fabric.Image(adate1, {
  left: 337.5,
  top: 225,
  angle: 0,
  width: 250, height: 50,opacity:0.5,
  visible: false,
  originY: 'center', originX: 'center',
  
});
var aSettingsDate2 = new fabric.Image(adate2, {
  left: 337.5,
  top: 285,
  angle: 0,
  width: 250, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsDate3 = new fabric.Image(adate3, {
  left: 337.5,
  top: 345,
  angle: 0,
  width: 250, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsDate4 = new fabric.Image(adate4, {
  left: 337.5,
  top: 405,
  angle: 0,
  width: 250, height: 50,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUser1 = new fabric.Image(auser1, {
  left: 125,
  top: 225,
  angle: 0,
  width: 100, height: 100,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUser2 = new fabric.Image(auser2, {
  left: 300,
  top: 225,
  angle: 0,
  width: 100, height: 100,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUser3 = new fabric.Image(auser3, {
  left: 475,
  top: 225,
  angle: 0,
  width: 100, height: 100,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUser4 = new fabric.Image(auser4, {
  left: 125,
  top: 350,
  angle: 0,
  width: 100, height: 100,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserPlus = new fabric.Image(aplus, {
  left: 300,
  top: 350,
  angle: 0,
  width: 75, height: 75,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserGuest = new fabric.Image(auserguest, {
  left: 300,
  top: 350,
  angle: 0,
  width: 100, height: 100,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserGuest2 = new fabric.Image(auserguest, {
  left: 300,
  top: 250,
  angle: 0,
  width: 100, height: 100,
  visible: false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserFinger = new fabric.Image(auserfinger, {
  left: 300,
  top: 325,
  angle: 0,
  width: 350, height: 225,
  visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserPhone = new fabric.Image(auserphone, {
  left: 300,
  top: 325,
  angle: 0,
  width: 350, height: 225,
  visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserPhoneTab = new fabric.Image(auserphonetab, {
  left: 380,
  top: 200,
  angle: 0,
  width: 170, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});
var aSettingsUserPhoneTabSelected = new fabric.Image(auserphonetabselected, {
  left: 380,
  top: 200,
  angle: 0,
  width: 170, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});


var aSettingsUserFingerTab = new fabric.Image(auserfingertab, {
  left: 212,
  top: 200,
  angle: 0,
  width: 166, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});
var aSettingsUserFingerTabSelected = new fabric.Image(auserfingertabselected, {
  left: 212,
  top: 200,
  angle: 0,
  width: 166, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserFingerEdit = new fabric.Image(auseredit, {
  left: 375,
  top: 300,
  angle: 0,
  width: 100, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});

var aSettingsUserPhoneEdit = new fabric.Image(auseredit, {
  left: 375,
  top: 300,
  angle: 0,
  width: 100, height: 50,
  visible:false,
  originY: 'center', originX: 'center',
  
});








canvas.add(aSettingsTime);
canvas.add(aSettingsTemp);
canvas.add(aSettingsBell);
canvas.add(aSettingsLang);
canvas.add(aSettingsDate);
canvas.add(aSettingsUsers);

canvas.add(aSettingsTime12);
canvas.add(aSettingsTime24);


canvas.add(aSettingsTempC);
canvas.add(aSettingsTempF);

canvas.add(aSettingsVol4);
canvas.add(aSettingsVol3);
canvas.add(aSettingsVol2);
canvas.add(aSettingsVol1);
canvas.add(aSettingsVolFill4);
canvas.add(aSettingsVolFill3);
canvas.add(aSettingsVolFill2);
canvas.add(aSettingsVolFill1);

canvas.add(achimeText1);
canvas.add(achimeText2);
canvas.add(achime1);
canvas.add(achime2);
canvas.add(achime3);
canvas.add(achime4);
canvas.add(achime5);
canvas.add(achime6);

canvas.add(aSettingsEnglish);
canvas.add(aSettingsSpanish);
canvas.add(aSettingsRussian);
canvas.add(aSettingsFrench);
canvas.add(aSettingsHindi);
canvas.add(aSettingsBengali);
canvas.add(aSettingsDutch);
canvas.add(aSettingsGerman);
canvas.add(aSettingsArabic);
canvas.add(aSettingsChinese);
canvas.add(alangText);

canvas.add(aSettingsDate1);
canvas.add(aSettingsDate2);
canvas.add(aSettingsDate3);
canvas.add(aSettingsDate4);

canvas.add(aSettingsUser1);
canvas.add(aSettingsUser2);
canvas.add(aSettingsUser3);
canvas.add(aSettingsUser4);
canvas.add(aSettingsUserPlus);

canvas.add(aSettingsUserFinger);
canvas.add(aSettingsUserPhone);
canvas.add(aSettingsUserPhoneTab);
canvas.add(aSettingsUserPhoneTabSelected);
canvas.add(aSettingsUserFingerTab);
canvas.add(aSettingsUserFingerTabSelected);
canvas.add(aSettingsUserFingerEdit);
canvas.add(aSettingsUserPhoneEdit);

canvas.add(aBackButton);
canvas.add(aBackButton2);
canvas.add(aSettingsUserGuest);
canvas.add(aBackButton3);
canvas.add(aBackButton4);
canvas.add(aSettingsUserGuest2);


function aHIdeAnkurCanvas(){
	canvas.remove(aSettingsTime);
	canvas.remove(aSettingsTemp);
	canvas.remove(aSettingsBell);
	canvas.remove(aSettingsLang);
	canvas.remove(aSettingsDate);
	canvas.remove(aSettingsUsers);

	canvas.remove(aSettingsTime12);
	canvas.remove(aSettingsTime24);


		canvas.remove(aSettingsTempC);
		canvas.remove(aSettingsTempF);

		canvas.remove(aSettingsVol4);
		canvas.remove(aSettingsVol3);
		canvas.remove(aSettingsVol2);
		canvas.remove(aSettingsVol1);
		canvas.remove(aSettingsVolFill4);
		canvas.remove(aSettingsVolFill3);
		canvas.remove(aSettingsVolFill2);
		canvas.remove(aSettingsVolFill1);

		canvas.remove(achimeText1);
		canvas.remove(achimeText2);
		canvas.remove(achime1);
		canvas.remove(achime2);
		canvas.remove(achime3);
		canvas.remove(achime4);
		canvas.remove(achime5);
		canvas.remove(achime6);

		canvas.remove(aSettingsEnglish);
		canvas.remove(aSettingsSpanish);
		canvas.remove(aSettingsRussian);
		canvas.remove(aSettingsFrench);
		canvas.remove(aSettingsHindi);
		canvas.remove(aSettingsBengali);
		canvas.remove(aSettingsDutch);
		canvas.remove(aSettingsGerman);
		canvas.remove(aSettingsArabic);
		canvas.remove(aSettingsChinese);
		canvas.remove(alangText);

		canvas.remove(aSettingsDate1);
		canvas.remove(aSettingsDate2);
		canvas.remove(aSettingsDate3);
		canvas.remove(aSettingsDate4);

		canvas.remove(aSettingsUser1);
		canvas.remove(aSettingsUser2);
		canvas.remove(aSettingsUser3);
		canvas.remove(aSettingsUser4);
		canvas.remove(aSettingsUserPlus);

		canvas.remove(aSettingsUserFinger);
		canvas.remove(aSettingsUserPhone);
		canvas.remove(aSettingsUserPhoneTab);
		canvas.remove(aSettingsUserPhoneTabSelected);
		canvas.remove(aSettingsUserFingerTab);
		canvas.remove(aSettingsUserFingerTabSelected);
		canvas.remove(aSettingsUserFingerEdit);
		canvas.remove(aSettingsUserPhoneEdit);

		canvas.remove(aBackButton);
		canvas.remove(aBackButton2);
		canvas.remove(aSettingsUserGuest);
		canvas.remove(aBackButton3);
		canvas.remove(aBackButton4);
		canvas.remove(aSettingsUserGuest2);


}

function aShowAnkurCanvas(){
			
		canvas.add(aSettingsTime);
		canvas.add(aSettingsTemp);
		canvas.add(aSettingsBell);
		canvas.add(aSettingsLang);
		canvas.add(aSettingsDate);
		canvas.add(aSettingsUsers);

		canvas.add(aSettingsTime12);
		canvas.add(aSettingsTime24);


		canvas.add(aSettingsTempC);
		canvas.add(aSettingsTempF);

		canvas.add(aSettingsVol4);
		canvas.add(aSettingsVol3);
		canvas.add(aSettingsVol2);
		canvas.add(aSettingsVol1);
		canvas.add(aSettingsVolFill4);
		canvas.add(aSettingsVolFill3);
		canvas.add(aSettingsVolFill2);
		canvas.add(aSettingsVolFill1);

		canvas.add(achimeText1);
		canvas.add(achimeText2);
		canvas.add(achime1);
		canvas.add(achime2);
		canvas.add(achime3);
		canvas.add(achime4);
		canvas.add(achime5);
		canvas.add(achime6);

		canvas.add(aSettingsEnglish);
		canvas.add(aSettingsSpanish);
		canvas.add(aSettingsRussian);
		canvas.add(aSettingsFrench);
		canvas.add(aSettingsHindi);
		canvas.add(aSettingsBengali);
		canvas.add(aSettingsDutch);
		canvas.add(aSettingsGerman);
		canvas.add(aSettingsArabic);
		canvas.add(aSettingsChinese);
		canvas.add(alangText);

		canvas.add(aSettingsDate1);
		canvas.add(aSettingsDate2);
		canvas.add(aSettingsDate3);
		canvas.add(aSettingsDate4);

		canvas.add(aSettingsUser1);
		canvas.add(aSettingsUser2);
		canvas.add(aSettingsUser3);
		canvas.add(aSettingsUser4);
		canvas.add(aSettingsUserPlus);

		canvas.add(aSettingsUserFinger);
		canvas.add(aSettingsUserPhone);
		canvas.add(aSettingsUserPhoneTab);
		canvas.add(aSettingsUserPhoneTabSelected);
		canvas.add(aSettingsUserFingerTab);
		canvas.add(aSettingsUserFingerTabSelected);
		canvas.add(aSettingsUserFingerEdit);
		canvas.add(aSettingsUserPhoneEdit);

		canvas.add(aBackButton);
		canvas.add(aBackButton2);
		canvas.add(aSettingsUserGuest);
		canvas.add(aBackButton3);
		canvas.add(aBackButton4);
		canvas.add(aSettingsUserGuest2);
}






function aHideAnkurCodeSettings(){

aSettingsTime.visible = false;
aSettingsTemp.visible = false;
aSettingsBell.visible = false;
aSettingsLang.visible = false;
aSettingsDate.visible = false;
aSettingsUsers.visible = false;

aSettingsTime12.visible = false;
aSettingsTime24.visible = false;


aSettingsTempC.visible = false;
aSettingsTempF.visible = false;

aSettingsVol4.visible = false;
aSettingsVol3.visible = false;
aSettingsVol2.visible = false;
aSettingsVol1.visible = false;
aSettingsVolFill4.visible = false;
aSettingsVolFill3.visible = false;
aSettingsVolFill2.visible = false;
aSettingsVolFill1.visible = false;

achimeText1.visible = false;
achimeText2.visible = false;
achime1.visible = false;
achime2.visible = false;
achime3.visible = false;
achime4.visible = false;
achime5.visible = false;
achime6.visible = false;

aSettingsEnglish.visible = false;
aSettingsSpanish.visible = false;
aSettingsRussian.visible = false;
aSettingsFrench.visible = false;
aSettingsHindi.visible = false;
aSettingsBengali.visible = false;
aSettingsDutch.visible = false;
aSettingsGerman.visible = false;
aSettingsArabic.visible = false;
aSettingsChinese.visible = false;
alangText.visible = false;

aSettingsDate1.visible = false;
aSettingsDate2.visible = false;
aSettingsDate3.visible = false;
aSettingsDate4.visible = false;

aSettingsUser1.visible = false;
aSettingsUser2.visible = false;
aSettingsUser3.visible = false;
aSettingsUser4.visible = false;
aSettingsUserPlus.visible = false;

aSettingsUserFinger.visible = false;
aSettingsUserPhone.visible = false;
aSettingsUserPhoneTab.visible = false;
aSettingsUserPhoneTabSelected.visible = false;
aSettingsUserFingerTab.visible = false;
aSettingsUserFingerTabSelected.visible = false;
aSettingsUserFingerEdit.visible = false;
aSettingsUserPhoneEdit.visible = false;

aBackButton.visible = false;
aBackButton2.visible = false;
aSettingsUserGuest.visible = false;


aSettingsUserFinger.visible = false;
aSettingsUserPhone.visible = false;
aSettingsUserPhoneTab.visible = false;
aSettingsUserPhoneTabSelected.visible = false;
aSettingsUserFingerTab.visible = false;
aSettingsUserFingerTabSelected.visible = false;
aSettingsUserFingerEdit.visible = false;
aSettingsUserPhoneEdit.visible =false;
aBackButton3.visible = false;
aBackButton4.visible = false;

}



function adisplaySettings(){
	aSettingsTime.visible = true;
	aSettingsTemp.visible = true;
	aSettingsBell.visible = true;
	aSettingsLang.visible = true;
	aSettingsDate.visible = true;
	aSettingsUsers.visible = true;
	aBackButton.visible = true;

}

function ahideSettings(){
	aSettingsTime.visible = false;
	aSettingsTemp.visible = false;
	aSettingsBell.visible = false;
	aSettingsLang.visible = false;
	aSettingsDate.visible = false;
	aSettingsUsers.visible = false;
	aBackButton.visible = false;
	aBackButton2.visible = false;
}



function adisplaySettingsTime(){

	aSettingsTime12.visible = true;
	aSettingsTime24.visible = true;

}

function adisplaySettingsTemp(){

	aSettingsTempC.visible = true;
	aSettingsTempF.visible = true;

}

function adisplaySettingsBell(){

	aSettingsVol4.visible = true;
	aSettingsVol3.visible = true;
	aSettingsVolFill2.visible = true;
	aSettingsVolFill1.visible = true;
	achimeText1.visible = true;
	achimeText2.visible = true;
	achime1.visible = true;
	achime2.visible = true;
	achime3.visible = true;
	achime4.visible = true;
	achime5.visible = true;
	achime6.visible = true;
}

function adisplaySettingsLang(){
	aSettingsEnglish.visible = true;
	aSettingsSpanish.visible = true;
	aSettingsRussian.visible = true;
	aSettingsFrench.visible = true;
	aSettingsHindi.visible = true;
	aSettingsBengali.visible = true;
	aSettingsGerman.visible = true;
	aSettingsDutch.visible = true;
	aSettingsArabic.visible = true;
	aSettingsChinese.visible = true;
	alangText.visible = true;
}

function adisplaySettingsDate(){
	aSettingsDate1.visible = true;
	aSettingsDate2.visible = true;
	aSettingsDate3.visible = true;
	aSettingsDate4.visible = true;
}

function adisplaySettingsUsers(){
	aSettingsUser1.visible = true;
	aSettingsUser2.visible = true;
	aSettingsUser3.visible = true;
	aSettingsUser4.visible = true;
	if(guest==0){
	aSettingsUserPlus.visible = true;
	}
	else{
	aSettingsUserGuest.visible = true;
	}

}
function ahideSettingsUsers(){
	aSettingsUser1.visible = false;
	aSettingsUser2.visible = false;
	aSettingsUser3.visible = false;
	aSettingsUser4.visible = false;
	aSettingsUserPlus.visible = false;
	aSettingsUserGuest.visible = false;

}

function aHideUserPanel(){
	aSettingsUserFinger.visible = false;
	aSettingsUserPhone.visible = false;
	aSettingsUserPhoneTab.visible = false;
	aSettingsUserFingerTab.visible = false;
	aSettingsUserPhoneTabSelected.visible = false;
	aSettingsUserFingerTabSelected.visible = false;
	aSettingsUserFingerEdit.visible = false;
	aSettingsUserPhoneEdit.visible =false;
	aBackButton3.visible = false;





}


kID_SettingsIcon.on('selected',function(){
	playBeep();
	adisplaySettings();
	kID_IsMenuOpen = false;
	kID_IsDoorLocked = true;
	//rID_FirstTimeSetupText.visible = false;
	
	/*** remove all the menu icons ****/
	kRemoveMenuIcons();
});


aBackButton.on('selected',function(){
		playBeep();

		aHideAnkurCodeSettings();

	// Kruti's Menu Display Code..
		canvas.add(kID_CameraIcon);
		
		/***** condition check will be required - if there are unread messages then other icon needs to be added ****/
		canvas.add(kID_NoUnreadIcon);
		//canvas.add(kID_OneUnreadMessageIcon_Menu);
		
		canvas.add(kID_CalendarIcon);
		
		/***** condition check will be required - if there are bell is already in mute state ****/
		if(kID_IsBellMuted)
		{
			canvas.add(kID_MuteIcon_Menu);
		}
		else
		{
			canvas.add(kID_UnMuteIcon);
		}
		
		canvas.add(kID_SettingsIcon);
		canvas.add(kID_MirrorIcon);
		canvas.add(kID_RightArrowIcon);
// Kruti's code end





});

aBackButton2.on('selected',function(){
	playBeep();
	aHideAnkurCodeSettings();
	adisplaySettings();


});

aBackButton3.on('selected',function(){
	aHideUserPanel();
	adisplaySettingsUsers();
});

aBackButton4.on('selected',function(){
	adisplaySettingsUsers();
	rID_HideSyncPhone();
	rID_HideScanFinger();
	rID_HideTutorialPage2();


});


aSettingsTime.on('selected',function(){
	playBeep();
	ahideSettings();
	adisplaySettingsTime();
	aBackButton2.visible = true;

});

aSettingsTemp.on('selected',function(){
	playBeep();
	ahideSettings();
	adisplaySettingsTemp();
	aBackButton2.visible = true;

});

aSettingsBell.on('selected',function(){
	playBeep();
	ahideSettings();
	adisplaySettingsBell();
	aBackButton2.visible = true;

});

aSettingsLang.on('selected',function(){
	playBeep();
	ahideSettings();
	adisplaySettingsLang();
	aBackButton2.visible = true;

});

aSettingsDate.on('selected',function(){
	playBeep();
	ahideSettings();
	adisplaySettingsDate();
	aBackButton2.visible = true;

});

aSettingsUsers.on('selected',function(){
	playBeep();
	ahideSettings();
	adisplaySettingsUsers();
	aBackButton2.visible = true;


});


var aud1 = document.getElementById('audio1');
aud1.volume = 0.5;
bell2.volume = 0.5;
bell3.volume = 0.5;
bell4.volume = 0.5;
bell5.volume = 0.5;
bell6.volume = 0.5;



aSettingsVol4.on('selected',function(){
		playBeep();
		aud1.volume = 1.0;
		bell2.volume = 1.0;
		bell3.volume = 1.0;
		bell4.volume = 1.0;
		bell5.volume = 1.0;
		bell6.volume = 1.0;

		if(volLevel==4){

		}
		else if(volLevel==3){
			volLevel = 4;
			aSettingsVol4.visible = false;
			aSettingsVolFill4.visible = true;
		}
		else if(volLevel==2){
			volLevel = 4;
			aSettingsVol4.visible = false;
			aSettingsVol3.visible = false;
			aSettingsVolFill4.visible = true;
			aSettingsVolFill3.visible = true;
		}		
		else if(volLevel==1){
			volLevel = 4;
			aSettingsVol4.visible = false;
			aSettingsVol3.visible = false;
			aSettingsVol2.visible = false;
			aSettingsVolFill4.visible = true;
			aSettingsVolFill3.visible = true;
			aSettingsVolFill2.visible = true;
		}		


});

aSettingsVol3.on('selected',function(){
	playBeep();
		aud1.volume = 0.50;
		bell2.volume = 0.5;
		bell3.volume = 0.5;
		bell4.volume = 0.5;
		bell5.volume = 0.5;
		bell6.volume = 0.5;
		if(volLevel==4){
			volLevel = 3;
			aSettingsVol4.visible = true;
			aSettingsVolFill4.visible = false;
		}
		else if(volLevel==3){
		}
		else if(volLevel==2){
			volLevel = 3;
			aSettingsVol4.visible = true;
			aSettingsVolFill4.visible = false;
			aSettingsVol3.visible = false;
			aSettingsVolFill3.visible = true;
		}		
		else if(volLevel==1){
			volLevel = 3;

			aSettingsVol3.visible = false;
			aSettingsVolFill3.visible = true;
			aSettingsVol2.visible = false;
			aSettingsVolFill2.visible = true;
		}		


});

aSettingsVol2.on('selected',function(){
	playBeep();
		aud1.volume = 0.25;
		bell2.volume = 0.25;
		bell3.volume = 0.25;
		bell4.volume = 0.25;
		bell5.volume = 0.25;
		bell6.volume = 0.25;		
		if(volLevel==1){
			volLevel = 2;
			aSettingsVol2.visible = false;
			aSettingsVolFill2.visible = true;
		}		
});



aSettingsVolFill3.on('selected',function(){
	playBeep();
		if(volLevel==4){
			aud1.volume = 0.50;
			bell2.volume = 0.5;
			bell3.volume = 0.5;
			bell4.volume = 0.5;
			bell5.volume = 0.5;
			bell6.volume = 0.5;
			volLevel = 3;
			aSettingsVolFill4.visible = false;
			aSettingsVol4.visible = true;
		}
});

aSettingsVolFill2.on('selected',function(){
	playBeep();
	aud1.volume = 0.25;
	bell2.volume = 0.25;
	bell3.volume = 0.25;
	bell4.volume = 0.25;
	bell5.volume = 0.25;
	bell6.volume = 0.25;
		if(volLevel==4){
			volLevel = 2;
			aSettingsVolFill4.visible = false;
			aSettingsVol4.visible = true;
			aSettingsVolFill3.visible = false;
			aSettingsVol3.visible = true;
		}
		else if(volLevel==3){
			volLevel = 2;			
			aSettingsVolFill3.visible = false;
			aSettingsVol3.visible = true;
		}	
});

aSettingsVolFill1.on('selected',function(){
	playBeep();
	aud1.volume = 0.1;
	bell2.volume = 0.1;
	bell3.volume = 0.1;
	bell4.volume = 0.1;
	bell5.volume = 0.1;
	bell6.volume = 0.1;
		if(volLevel==4){
			volLevel = 1;
			aSettingsVolFill4.visible = false;
			aSettingsVol4.visible = true;
			aSettingsVolFill3.visible = false;
			aSettingsVol3.visible = true;
			aSettingsVolFill2.visible = false;
			aSettingsVol2.visible = true;
		}
		else if(volLevel==3){
			volLevel = 1;			
			aSettingsVolFill3.visible = false;
			aSettingsVol3.visible = true;
			aSettingsVolFill2.visible = false;
			aSettingsVol2.visible = true;			
		}	
		else if(volLevel==2){
			volLevel = 1;			
			aSettingsVolFill3.visible = false;
			aSettingsVol3.visible = true;
			aSettingsVolFill2.visible = false;
			aSettingsVol2.visible = true;			
		}	
});


aSettingsUser1.on('selected',function(){
	playBeep();
	ahideSettingsUsers();
	aSettingsUserFinger.visible = true;
	aSettingsUserFingerTabSelected.visible = true;
	aSettingsUserPhoneTab.visible = true;
	aSettingsUserFingerEdit.visible = true;
	aBackButton3.visible = true;
});

aSettingsUser2.on('selected',function(){
	playBeep();
	ahideSettingsUsers();
	aSettingsUserFinger.visible = true;
	aSettingsUserFingerTabSelected.visible = true;
	aSettingsUserPhoneTab.visible = true;
	aSettingsUserFingerEdit.visible = true;
	aBackButton3.visible = true;
});
aSettingsUser3.on('selected',function(){
	playBeep();
	ahideSettingsUsers();
	aSettingsUserFinger.visible = true;
	aSettingsUserFingerTabSelected.visible = true;
	aSettingsUserPhoneTab.visible = true;
	aSettingsUserFingerEdit.visible = true;
	aBackButton3.visible = true;
});
aSettingsUser4.on('selected',function(){
	playBeep();
	ahideSettingsUsers();
	aSettingsUserFinger.visible = true;
	aSettingsUserFingerTabSelected.visible = true;
	aSettingsUserPhoneTab.visible = true;
	aSettingsUserFingerEdit.visible = true;
	aBackButton3.visible = true;
});




aSettingsUserPhoneTab.on('selected',function(){
	playBeep();
	aSettingsUserFinger.visible = false;
	aSettingsUserFingerEdit.visible = false;
	aSettingsUserPhone.visible = true;
	aSettingsUserPhoneEdit.visible = true;
	aSettingsUserFingerTabSelected.visible = false;
	aSettingsUserFingerTab.visible = true;
	aSettingsUserPhoneTabSelected.visible = true;
	aSettingsUserPhoneTab.visible = false;

});

aSettingsUserFingerTab.on('selected',function(){
	playBeep();
	aSettingsUserFinger.visible = true;
	aSettingsUserFingerEdit.visible = true;
	aSettingsUserPhone.visible = false;
	aSettingsUserPhoneEdit.visible = false;
	aSettingsUserFingerTabSelected.visible = true;
	aSettingsUserFingerTab.visible = false;
	aSettingsUserPhoneTabSelected.visible = false;
	aSettingsUserPhoneTab.visible = true;


});


aSettingsTime12.on('selected',function(){
	playBeep();
	kID_TimeFormat = 12;
	aSettingsTime12.opacity = 0.5;
	aSettingsTime24.opacity = 1.0;
	clearInterval(ref_24);
	ref_12 = setInterval(kID_Refresh_DateTime_12, 3000);
	kID_Refresh_DateTime_12();
	

});

aSettingsTime24.on('selected',function(){
	playBeep();
	kID_TimeFormat = 24;
	aSettingsTime12.opacity = 1.0;
	aSettingsTime24.opacity = 0.5;
	if(ref_12 != "")
		clearInterval(ref_12);
	ref_24 = setInterval(kID_Refresh_DateTime_24, 3000);
	kID_Refresh_DateTime_24();
	

});

aSettingsTempC.on('selected',function(){
	playBeep();
	kID_TempFormat = "C";
	aSettingsTempC.opacity = 0.5;
	aSettingsTempF.opacity = 1.0;
	kWeatherUpdate();

});

aSettingsTempF.on('selected',function(){
	playBeep();
	kID_TempFormat = "F";
	aSettingsTempC.opacity = 1.0;
	aSettingsTempF.opacity = 0.5;
	kWeatherUpdate();

});

aSettingsDate1.on('selected',function(){
	playBeep();
	kID_DateFormat = 1;
	aSettingsDate1.opacity = 0.5;
	aSettingsDate2.opacity = 1.0;
	aSettingsDate3.opacity = 1.0;
	aSettingsDate4.opacity = 1.0;

	kID_Date();
});

aSettingsDate2.on('selected',function(){
	playBeep();
	kID_DateFormat = 2;
	aSettingsDate1.opacity = 1.0;
	aSettingsDate2.opacity = 0.5;
	aSettingsDate3.opacity = 1.0;
	aSettingsDate4.opacity = 1.0;
	kID_Date();
});

aSettingsDate3.on('selected',function(){
	playBeep();
	kID_DateFormat = 3;
	aSettingsDate1.opacity = 1.0;
	aSettingsDate2.opacity = 1.0;
	aSettingsDate3.opacity = 0.5;
	aSettingsDate4.opacity = 1.0;
	kID_Date();
});

aSettingsDate4.on('selected',function(){
	playBeep();
	kID_DateFormat = 4;
	aSettingsDate1.opacity = 1.0;
	aSettingsDate2.opacity = 1.0;
	aSettingsDate3.opacity = 1.0;
	aSettingsDate4.opacity = 0.5;
	kID_Date();
});

var guest = 0;

aSettingsUserPlus.on('selected',function(){
	if(guest ==0){
	playBeep();
	activeuser = 'guest';
	ahideSettingsUsers();
	rID_RenderTutorialPage2();
	rID_ShowTutorialPage2();
	aBackButton4.visible = true;
	
	guest = 1;
	}
	else{

	playBeep();
	ahideSettingsUsers();
	aSettingsUserFinger.visible = true;
	aSettingsUserFingerTabSelected.visible = true;
	aSettingsUserPhoneTab.visible = true;
	aSettingsUserFingerEdit.visible = true;
	aBackButton3.visible = true;

	}


});

aSettingsUserGuest.on('selected',function(){
		playBeep();
	ahideSettingsUsers();
	aSettingsUserFinger.visible = true;
	aSettingsUserFingerTabSelected.visible = true;
	aSettingsUserPhoneTab.visible = true;
	aSettingsUserFingerEdit.visible = true;
	aBackButton3.visible = true;

});


function aSystemLangHindi(){
		aSettingsHindi.opacity = 0.5;
	aSettingsEnglish.opacity = 1.0;
	playBeep();
	// sahib's texts - uncomment at the end
	sDeliverPackageText1.text = "पैकेज"; sDeliverPackageText2.text = "वितरण";
	sOnHouseAlarmText.text = "चालू"; sOffHouseAlarmText.text = "बंद";
	sNewPlateText.text = "नया"; sPostPlateText.text = "संदेश"; 
	sWriteMessageText1.text = "संदेश"; sWriteMessageText2.text = "लिखें"; 
	sIncorrectAttemptText.text = "3 असफल खोलने के प्रयास";

	//ankur's texts
	alangText.text = "अपनी भाषा चुने";
	achimeText1.text = "दरवाजे की घंटी की झंकार";
	achimeText2.text = "पैकेज की घंटी की झंकार";

	//kruti's text
	kID_ShowAvatar.text = "अवतार दिखाएं";
	kID_MsgReadTxt.text = "पढ़ें";
	kID_MsgWriteTxt.text = "लिखें";
	kID_MsgAllTxt.text = "सभि";
	kID_MsgKrutiTxt.text = "कृति";
	kID_MsgSahibTxt.text = "साहिब";
	kID_MsgRidhiTxt.text = "ऋद्धि";
	kID_MsgAnkurTxt.text = "अंकुर";
	kID_MsgPostINTxt.text = "अंदर लिखें";
	kID_MsgPostOUTTxt.text = "बाहर लिखें"; 
	kID_Calling911.text = "911 मिला रहे हैं";
	kID_Disconnecting911.text = "		911 काट रहे हैं";
	kOD_NoResponseText.text = "कोई जवाब नहीं | कृपया मालिक से बात करें या सन्देश छोड़ें |";
	rTask0.text = "आज कोई काम नहीं";
	kID_NewsFeedTitle.text = "ताज़ा ख़बरें";
	kID_PackageTitle.text = "पैकेज लेखा";


	//ridhi's text
	rID_FirstTimeSetupText.text = "पहली बार सेटअप";
	rID_Ridhi.text = "ऋद्धि";
	rID_Kruti.text = "कृति";
	rID_Sahib.text = "साहिब";
	rID_Ankur.text = "अंकुर";
	rID_WelcomeText.text = "शरद में";
	rID_WelcomeText2.text = "स्वागत हे";
	rID_LanguageText.text = "कृपया अपनी भाषा चुनें";
	rID_HeaderText.text = "चाबियाँ खोजने की जरुरत नहीं, केवल स्पर्श करें या\n बोलें या फ़ोन का इस्तेमाल करें  ";
	rID_SetupText.text = "सेट अप";
	rID_LearnMoreText.text = "और जानें";
	rID_AnotherUserText.text = "उपयोगकर्ता जोड़ें";
	rID_ClickPictureText.text = "एक अच्छी तस्वीर क्लिक करें";
	rID_ScanFingerText.text = "उंगली स्कैन करें";
	rID_VoiceCommandText.text = "आवाज रिकॉर्ड करें";
	rID_SyncPhoneText.text = "अपना फ़ोन जोडें ";
	rID_LastPageText.text = "शानदार!";
	rID_LastPageText2.text = "सब हो गया है, मौज करें";
	rID_VoiceCommandInnerText.text = "बीप के बाद ध्वनि \nदोबारा दें ";
	rID_VoiceCommandInnerText2.text = "शरद खोलें";
	rID_SyncPhoneText2.text = "फ़ोन का NFC चालू \n करके उसे दरवाजे के \n करीब लाएं ";
	rID_SyncedText.text = "जुड़ गया";
	rID_ClickPictureText2.text = "फोटो लें";
	rID_RetakeText.text = "दोबारा लें";


}


aSettingsHindi.on('selected',function(){

	aSystemLangHindi();

});

aSettingsEnglish.on('selected',function(){
	aSettingsHindi.opacity = 1.0;
	aSettingsEnglish.opacity = 0.5;
	playBeep();
	// sahib's texts - uncomment at the end
/*	sDeliverPackageText1.text = "पैकेज"; sDeliverPackageText2.text = "वितरण";
	sOnHouseAlarmText.text = "चालू"; sOffHouseAlarmText.text = "बंद";
	sNewPlateText.text = "नया"; sPostPlateText.text = "संदेश"; 
	sWriteMessageText1.text = "संदेश"; sWriteMessageText2.text = "लिखें"; 
	sIncorrectAttemptText.text = "3 असफल खोलने के प्रयास";*/

	//ankur's texts
	alangText.text = "Choose your Language";
	achimeText1.text = "Doorbell Chime";
	achimeText2.text = "Package Chime";

	//kruti's text
	kID_ShowAvatar.text = "Show Avatar";
	kID_MsgReadTxt.text = "Read";
	kID_MsgWriteTxt.text = "Write";
	kID_MsgAllTxt.text = "All";
	kID_MsgKrutiTxt.text = "Kruti";
	kID_MsgSahibTxt.text = "Sahib";
	kID_MsgRidhiTxt.text = "Ridhi";
	kID_MsgAnkurTxt.text = "Ankur";
	kID_MsgPostINTxt.text = "Post In";
	kID_MsgPostOUTTxt.text = "Post Out"; 
	kID_Calling911.text = "Calling 911....";
	kID_Disconnecting911.text = "Disconnecting 911...";

	//ridhi's text
	rID_FirstTimeSetupText.text = "First Time Setup";
	rID_Ridhi.text = "Ridhi";
	rID_Kruti.text = "Kruti";
	rID_Sahib.text = "Sahib";
	rID_Ankur.text = "Ankur";
	rID_WelcomeText.text = "Welcome";
	rID_WelcomeText2.text = "AUTUMN!";
	rID_LanguageText.text = "Please choose your language  ";
	rID_HeaderText.text = "No more searching for keys. Just touch, speak \n or use your phone to unlock the door!";
	rID_SetupText.text = "Setup";
	rID_LearnMoreText.text = "Know More";
	rID_AnotherUserText.text = "Add another user";
	rID_ClickPictureText.text = "Click a cool picture!";
	rID_ScanFingerText.text = "Scan your finger!";
	rID_VoiceCommandText.text = "Record voice command!";
	rID_SyncPhoneText.text = "Sync your phone!";
	rID_LastPageText.text = "Great!";
	rID_LastPageText2.text = "You are all set. Enjoy the \nsmart door experience!'";
	rID_VoiceCommandInnerText.text = "Please  repeat the voice \n command after the beep. ";
	rID_VoiceCommandInnerText2.text = "Open Autumn.";
	rID_SyncPhoneText2.text = "  Turn ON NFC on your \n  phone and bring close \n to the door.";
	rID_SyncedText.text = "Synced!";
	rID_ClickPictureText2.text = "Click to capture.";
	rID_RetakeText.text = "Retake.";



});

var aplayDoorbell=1;
var aplayPackagebell = 1;

achime1.on('selected',function(){
	achime1.opacity = 0.5;
	achime2.opacity = 1.0;
	achime3.opacity = 1.0;
	aplayDoorbell = 1;
	audio1.play();
});
achime2.on('selected',function(){
	achime1.opacity = 1.0;
	achime2.opacity = 0.5;
	achime3.opacity = 1.0;
	aplayDoorbell = 2;
	bell2.play();
});
achime3.on('selected',function(){
	achime1.opacity = 1.0;
	achime2.opacity = 1.0;
	achime3.opacity = 0.5;
	aplayDoorbell = 3;
	bell3.play();
});

achime4.on('selected',function(){
	achime4.opacity = 0.5;
	achime5.opacity = 1.0;
	achime6.opacity = 1.0;
	aplayPackagebell = 1;
	bell4.play();
});
achime5.on('selected',function(){
	achime4.opacity = 1.0;
	achime5.opacity = 0.5;
	achime6.opacity = 1.0;
	aplayPackagebell = 2;
	bell5.play();
});
achime6.on('selected',function(){
	achime4.opacity = 1.0;
	achime5.opacity = 1.0;
	achime6.opacity = 0.5;
	aplayPackagebell = 3;
	bell6.play();
});




aSettingsUserPhoneEdit.on('selected',function(){
		rID_RenderSyncPhone();
		rID_ShowSyncPhone();
		setTimeout(rID_DisplayPhone,1000);
		setTimeout(rID_Synced, 6000);
		aHideUserPanel();
		aBackButton4.visible = true;
		rID_HideCircles();
		rID_LeftArrowIcon3.visible = false;
		rID_LeftArrowIcon4.visible = false;
		rID_LeftArrowIcon5.visible = false;
		rID_RightArrowIcon3.visible = false;
		rID_RightArrowIcon4.visible = false;
		rID_RightArrowIcon5.visible = false;

});

aSettingsUserFingerEdit.on('selected',function(){
		rID_RenderScanFinger();
		rID_ShowScanFinger();
		aHideUserPanel();
		aBackButton4.visible = true;
				rID_HideCircles();
		rID_LeftArrowIcon3.visible = false;
		rID_LeftArrowIcon4.visible = false;
		rID_LeftArrowIcon5.visible = false;
		rID_RightArrowIcon3.visible = false;
		rID_RightArrowIcon4.visible = false;
		rID_RightArrowIcon5.visible = false;




});







/*************************************** Code End by Ankur ***************************************************************************************/









/*************************************** Code Added by Ridhi ***************************************************************************************/
var rID_Font = 'Helvetica';
var rID_FontSize = 20;
var rID_TutorialLeft = 100;
var rID_TutorialTop =170 ;
var rID_Capture = 0;
var rID_SyncPhone = 0;
var isUsedTutorial = 0;
var activeuser = '';
var rID_TempClick = 0;
var retake = 0;
var retake2 = 0;
var retake3 = 0;
var retake4 = 0;
var rID_Profile1Done =0;
var rID_Profile2Done =0;
var rID_Profile3Done = 0;
var rID_Profile4Done = 0;
var scanned =0;

var rID_Hour1 = new fabric.Text('default', {
		left: rID_TutorialLeft+ 810,
  top: rID_TutorialTop + 90,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});
	

	var rID_Hour2 = new fabric.Text('', {
		left: rID_TutorialLeft+ 810,
       top: rID_TutorialTop + 190,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});


var rID_Hour3 = new fabric.Text('', {
		left: rID_TutorialLeft+ 810,
		top: rID_TutorialTop + 290,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});

	var rID_Hour4 = new fabric.Text('', {
		left: rID_TutorialLeft + 810,
		top: rID_TutorialTop+ 390,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});

	var rID_Hour5 = new fabric.Text('', {
		left: rID_TutorialLeft + 810,
		top: rID_TutorialTop + 490,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});

	var rID_Hour6 = new fabric.Text('', {
		left: rID_TutorialLeft + 810,
		top: rID_TutorialTop + 590,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});
	
	var rID_HandPointer = new fabric.Image(simgElement9, {
  
  width: 200,
  height: 200,
  left: rID_TutorialLeft + 900,
  top: 1175,    
});

rID_HandPointer.hasControls = rID_HandPointer.hasBorders = false;

rID_HandPointer.lockMovementX = rID_HandPointer.lockMovementY = true;
	
	var rTempIcon1Info = new kInsertImageInfo("rTempIcon1",document.getElementById('rTempIcon1'));  
var rID_TempIcon1 = new fabric.Image(rTempIcon1Info.kImageElement, 
{
	left: rID_TutorialLeft+ 950,
  top: rID_TutorialTop + 80,
	//top: kID_HeaderPanelTop,
	width: kID_IconW -5,
	height: kID_IconH -5
});

	var rTempIcon2Info = new kInsertImageInfo("rTempIcon1",document.getElementById('rTempIcon2'));  
var rID_TempIcon2 = new fabric.Image(rTempIcon2Info.kImageElement, 
{
	left: rID_TutorialLeft+ 950,
  top: rID_TutorialTop + 180,
	//top: kID_HeaderPanelTop,
	width: kID_IconW -5,
	height: kID_IconH -5
});

	var rTempIcon3Info = new kInsertImageInfo("rTempIcon3",document.getElementById('rTempIcon3'));  
var rID_TempIcon3 = new fabric.Image(rTempIcon3Info.kImageElement, 
{
	left: rID_TutorialLeft+ 950,
  top: rID_TutorialTop + 280,
	//top: kID_HeaderPanelTop,
	width: kID_IconW -5,
	height: kID_IconH -5
});

	var rTempIcon4Info = new kInsertImageInfo("rTempIcon4",document.getElementById('rTempIcon4'));  
var rID_TempIcon4 = new fabric.Image(rTempIcon4Info.kImageElement, 
{
	left: rID_TutorialLeft+ 950,
  top: rID_TutorialTop + 380,
	//top: kID_HeaderPanelTop,
	width: kID_IconW -5,
	height: kID_IconH -5
});

	var rTempIcon5Info = new kInsertImageInfo("rTempIcon5",document.getElementById('rTempIcon5'));  
var rID_TempIcon5 = new fabric.Image(rTempIcon5Info.kImageElement, 
{
	left: rID_TutorialLeft+ 950,
  top: rID_TutorialTop + 480,
	//top: kID_HeaderPanelTop,
	width: kID_IconW -5,
	height: kID_IconH -5
});
	var rTempIcon6Info = new kInsertImageInfo("rTempIcon6",document.getElementById('rTempIcon6'));  
var rID_TempIcon6 = new fabric.Image(rTempIcon6Info.kImageElement, 
{
	left: rID_TutorialLeft+ 950,
  top: rID_TutorialTop + 580,
	//top: kID_HeaderPanelTop,
	width: kID_IconW -5,
	height: kID_IconH -5
});

var rID_ClickableWeatherBox = new fabric.Rect({
  left: rID_TutorialLeft + 780,
  top: rID_TutorialTop + 10,
  fill: '#595959',
  strokeWidth: 2,
  stroke: '',
  width: 400,
  height: 700
});

var rID_ClickableWeatherBox2 = new fabric.Rect({
  left: rID_TutorialLeft + 780,
  top: rID_TutorialTop + 10,
  fill: '#595959',
  strokeWidth: 2,
  stroke: 'black',
  width: 400,
  height: 50
});

var rID_Day = new fabric.Text('Today',{
  left: rID_TutorialLeft+ 800,
  top: rID_TutorialTop + 25,
  fontSize: rID_FontSize +6,
  fontWeight: 'bold',
  fill:'white',
  fontFamily: rID_Font
});

var rID_TempDisplay = new fabric.Text('',{
  left: rID_TutorialLeft+ 1050,
  top: rID_TutorialTop + 25,
  fontSize: rID_FontSize +6,
  fontWeight: 'bold',
  fill:'white',
  fontFamily: rID_Font
});

	var rTempIconInfo = new kInsertImageInfo("rTempIcon",document.getElementById('rTempIcon'));  
var rID_TempIcon = new fabric.Image(rTempIconInfo.kImageElement, 
{
	left: rID_TutorialLeft+ 950,
  top: rID_TutorialTop + 10,
	//top: kID_HeaderPanelTop,
	width: kID_IconW -7,
	height: kID_IconH -12
});

	var rID_Temp1 = new fabric.Text('', {
		left: rID_TutorialLeft+ 1070,
  top: rID_TutorialTop + 90,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});

	var rID_Temp2 = new fabric.Text('', {
		left: rID_TutorialLeft+ 1070,
      top: rID_TutorialTop + 190,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});

	var rID_Temp3 = new fabric.Text('', {
		left: rID_TutorialLeft+ 1070,
      top: rID_TutorialTop + 290,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});

	var rID_Temp4 = new fabric.Text('', {
		left: rID_TutorialLeft+ 1070,
      top: rID_TutorialTop + 390,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill: 'white',
		fontFamily: kID_Font
	});

	var rID_Temp5 = new fabric.Text('', {
	left: rID_TutorialLeft+ 1070,
      top: rID_TutorialTop + 490,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});

	var rID_Temp6 = new fabric.Text('', {
		left: rID_TutorialLeft+ 1070,
      top: rID_TutorialTop + 590,
		fontSize: kID_FontSize,
		fontWeight: 'normal',
		fill:'white',
		fontFamily: kID_Font
	});


/*var rID_FirstTimeSetupBox = new fabric.Rect({
  left: rID_TutorialLeft + 200,
  top: rID_TutorialTop + 700,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 200,
  height: 50
});*/




/*var rID_GroupFirstTimeSetupButton = new fabric.Group([rID_FirstTimeSetupBox, rID_FirstTimeSetupText], {

  left: rID_TutorialLeft+ 200,
  top: rID_TutorialTop + 700,
  angle: 0
});*/

var rID_UsersBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 150,
  fill: '',
  strokeWidth: 1,
  stroke: 'white',
  width: 400,
  height: 400
});

var rID_Ridhi = new fabric.Text('Ridhi',{
  left: rID_TutorialLeft+ 485,
  top: rID_TutorialTop + 260,
  fontSize: rID_FontSize + 20,
  fontWeight: 'normal',
  fontFamily: rID_Font
})

var rID_Kruti = new fabric.Text('Kruti',{
  left: rID_TutorialLeft+ 485,
  top: rID_TutorialTop + 320,
  fontSize: rID_FontSize +20,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_Sahib = new fabric.Text('Sahib',{
  left: rID_TutorialLeft+ 485,
  top: rID_TutorialTop + 380,
  fontSize: rID_FontSize+20,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_Ankur = new fabric.Text('Ankur',{
  left: rID_TutorialLeft+ 485,
  top: rID_TutorialTop + 440,
  fontSize: rID_FontSize+20,
  fontWeight: 'normal',
  fontFamily: rID_Font
});



var rID_RidhiTick = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 600 ,
  top: rID_TutorialTop + 205,
            width: 50,
            height: 40
        });	
		
	
var rID_KrutiTick = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 600 ,
  top: rID_TutorialTop + 265,
            width: 50,
            height: 40
        });	

var rID_SahibTick = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 600 ,
  top: rID_TutorialTop + 325,
            width: 50,
            height: 40
        });

var rID_AnkurTick = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 600 ,
  top: rID_TutorialTop + 385,
            width: 50,
            height: 40
        });	
	

var rID_Tutorial = new fabric.Rect({
  left: rID_TutorialLeft,
  top: rID_TutorialTop,
  fill: '',
  strokeWidth: 5,
  stroke: 'white',
  width: 1100,
  visible : false,
  height: 800
});


var rID_WelcomeText = new fabric.Text('Welcome to Autumn!',{
  left: 200,
  top: 130,
  fontSize: rID_FontSize ,
  fontWeight: 'bold',
  fontFamily: rID_Font
});

/*var rID_WelcomeText2 = new fabric.Text('AUTUMN!',{
  left: rID_TutorialLeft+ 410,
  top: rID_TutorialTop + 150,
  fontSize: rID_FontSize+ 11,
  fontWeight: 'bold',
  fontFamily: rID_Font
});*/

var rID_LanguageText = new fabric.Text('Please choose your language  ',{
  left: 170,
  top: 167,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_RightArrowImg = document.getElementById('rRightArrow');
var rID_RightArrowIcon1 = new fabric.Image(rID_RightArrowImg, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 450,
           
            width: 50,
            height: 60
        });
		
var rID_RightArrowImg2 = document.getElementById('rRightArrow');
var rID_RightArrowIcon2 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });

var rID_RightArrowIcon3 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });

var rID_RightArrowIcon4 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });
		
var rID_RightArrowIcon5 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });

var rID_RightArrowIcon6 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });		
		
var rID_RightArrowIcon7 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });	
		
var rID_EnglishBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 110,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
   width: 125,
  height: 30
});

var rID_EnglishText = new fabric.Text('English',{
  left: rID_TutorialLeft+ 130,
  top: rID_TutorialTop + 120,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font 
});




var rID_GroupEnglishButton = new fabric.Group([rID_EnglishBox, rID_EnglishText], {

  left: rID_TutorialLeft+55,
  top: rID_TutorialTop + 40,
  angle: 0
});

var rID_TickMarkImg = document.getElementById('rTickMark');
var rID_TickMarkIcon = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 200,
  top: rID_TutorialTop + 320,
            width: 40,
            height: 40
        });
		
var rID_TickMarkIcon2 = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 760 ,
  top: rID_TutorialTop + 170,
            width: 50,
            height: 40
        });		

var rID_TickMarkIcon3 = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 390 ,
  top: rID_TutorialTop + 418,
            width: 40,
            height: 40
        });	

var rID_TickMarkIcon4= new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 840 ,
  top: rID_TutorialTop + 180,
            width: 50,
            height: 40
        });			
		
var rID_TickMarkIcon5= new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 810 ,
  top: rID_TutorialTop + 180,
            width: 50,
            height: 40
        });
		
		var rID_ScanTickIcon= new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 810 ,
  top: rID_TutorialTop + 180,
            width: 50,
            height: 40
        });
		
var rID_SpanishBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 160,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
   width: 125,
  height: 30
});

var rID_SpanishText = new fabric.Text('el espanol',{
  left: rID_TutorialLeft+ 110,
  top: rID_TutorialTop + 165,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupSpanishButton = new fabric.Group([rID_SpanishBox, rID_SpanishText], {

  left: rID_TutorialLeft+ 55,
  top: rID_TutorialTop + 90,
  angle: 0
});

var rID_FrenchBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 210,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
   width: 125,
  height: 30
});

var rID_FrenchText = new fabric.Text('Francais',{
  left: rID_TutorialLeft+ 110,
  top: rID_TutorialTop + 215,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupFrenchButton = new fabric.Group([rID_FrenchBox, rID_FrenchText], {

  left: rID_TutorialLeft+ 55,
  top: rID_TutorialTop + 140,
  angle: 0
});

var rID_ChineseBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 260,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 125,
  height: 30
});

var rID_ChineseText = new fabric.Text('中国',{
  left: rID_TutorialLeft+ 120,
  top: rID_TutorialTop + 265,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font-10
});




var rID_GroupChineseButton = new fabric.Group([rID_ChineseBox, rID_ChineseText], {

  left: rID_TutorialLeft+ 55,
  top: rID_TutorialTop + 190,
  angle: 0
});

var rID_HindiBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 310,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 125,
  height: 30
});

var rID_HindiText = new fabric.Text('हिंदी',{
  left: rID_TutorialLeft+ 120,
  top: rID_TutorialTop + 315,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupHindiButton = new fabric.Group([rID_HindiBox, rID_HindiText], {

  left: rID_TutorialLeft+ 55,
  top: rID_TutorialTop + 240,
  angle: 0
});


var rID_ArabicBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 110,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
    width: 125,
  height: 30
});

var rID_ArabicText = new fabric.Text('عربى',{
  left: rID_TutorialLeft+ 315,
  top: rID_TutorialTop + 115,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupArabicButton = new fabric.Group([rID_ArabicBox, rID_ArabicText], {

  left: rID_TutorialLeft+ 230,
  top: rID_TutorialTop + 40,
  angle: 0
});

var rID_GermanBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 160,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
 width: 125,
  height: 30
});

var rID_GermanText = new fabric.Text('Deutsch',{
  left: rID_TutorialLeft+ 315,
  top: rID_TutorialTop + 165,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupGermanButton = new fabric.Group([rID_GermanBox, rID_GermanText], {

  left: rID_TutorialLeft+ 230,
  top: rID_TutorialTop + 90,
  angle: 0
});

var rID_JapaneseBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 210,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
 width: 125,
  height: 30
});

var rID_JapaneseText = new fabric.Text('日本',{
  left: rID_TutorialLeft+ 325,
  top: rID_TutorialTop + 215,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupJapaneseButton = new fabric.Group([rID_JapaneseBox, rID_JapaneseText], {

  left: rID_TutorialLeft+ 230,
  top: rID_TutorialTop + 140,
  angle: 0
});


var rID_DutchBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 260,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 125,
  height: 30
});

var rID_DutchText = new fabric.Text('Néerlandais',{
  left: rID_TutorialLeft+ 315,
  top: rID_TutorialTop + 265,
  fontSize: rID_FontSize ,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupDutchButton = new fabric.Group([rID_DutchBox, rID_DutchText], {

  left: rID_TutorialLeft+ 230,
  top: rID_TutorialTop + 190,
  angle: 0
});

var rID_PolishBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 310,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
 width: 125,
  height: 30
});

var rID_PolishText = new fabric.Text('Polski',{
  left: rID_TutorialLeft+ 315,
  top: rID_TutorialTop + 315,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupPolishButton = new fabric.Group([rID_PolishBox, rID_PolishText], {

  left: rID_TutorialLeft+ 230,
  top: rID_TutorialTop + 240,
  angle: 0
});

var rID_HeaderText = new fabric.Text('No more searching for keys. Just touch, speak \n or use your phone to unlock the door!',{
  left: rID_TutorialLeft+ 198,
  top: rID_TutorialTop + 150,
  fontSize: rID_FontSize+20,
  fontWeight: 'normal',
  fontFamily: rID_Font 
});

var rID_SetupBox = new fabric.Rect({
  left: rID_TutorialLeft +400,
  top: rID_TutorialTop + 360,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 230,
  height: 70
});

var rID_SetupText = new fabric.Text('Setup',{
  left: rID_TutorialLeft+ 460,
  top: rID_TutorialTop + 375,
  fontSize: rID_FontSize+ 20,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupSetupButton = new fabric.Group([rID_SetupBox, rID_SetupText], {

  left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 330,
  angle: 0
});

var rID_LearnMoreBox = new fabric.Rect({
  left: rID_TutorialLeft +400,
  top: rID_TutorialTop + 500,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 230,
  height: 70
});

var rID_LearnMoreText = new fabric.Text('Learn More',{
  left: rID_TutorialLeft+ 410,
  top: rID_TutorialTop + 515,
  fontSize: rID_FontSize+ 20,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_AnotherUserBox = new fabric.Rect({
  left: rID_TutorialLeft +400,
  top: rID_TutorialTop + 400,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 320,
  height: 90
});

var rID_AnotherUserText = new fabric.Text('Add another user',{
  left: rID_TutorialLeft+ 420,
  top: rID_TutorialTop + 419,
  fontSize: rID_FontSize+ 15,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupAnotherUserButton = new fabric.Group([rID_AnotherUserBox, rID_AnotherUserText], {

  left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 400,
  angle: 0
});


var rID_GroupLearnMoreButton = new fabric.Group([rID_LearnMoreBox, rID_LearnMoreText], {

  left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 450,
  angle: 0
});

	var rID_LeftArrowImg = document.getElementById('kLeftArrowIcon');
	var rID_LeftArrowIcon1 = new fabric.Image(rID_LeftArrowImg, {

		width: 50,
		height: 60,
		left: rID_TutorialLeft+ 80,
		top: rID_TutorialTop + 300,
	});

var rID_LeftArrowIcon2 = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_LeftArrowIcon3 = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});


var rID_LeftArrowIcon4 = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
}); 

var rID_LeftArrowIcon5 = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_LeftArrowIcon6 = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_LeftArrowIcon7 = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_ChooseUserLeftArrow = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_VideoImg = document.getElementById('rPlay1');
var rID_VideoIcon = new fabric.Image(rID_VideoImg, {
  
  width: 60,
  height: 60,
  left: rID_TutorialLeft+ 300,
  top: rID_TutorialTop + 400,
});


var rID_VideoIcon2 = new fabric.Image(rID_VideoImg, {
  
  width: 60,
  height: 60,
  left: rID_TutorialLeft+ 460,
  top: rID_TutorialTop + 460,
});

var rID_Circle1 = new fabric.Circle({
   left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 70,
  stroke: "black",
  fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle2 = new fabric.Circle({
   left: rID_TutorialLeft+ 450,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle3 = new fabric.Circle({
   left: rID_TutorialLeft+ 500,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle4 = new fabric.Circle({
   left: rID_TutorialLeft+ 550,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle5 = new fabric.Circle({
   left: rID_TutorialLeft+ 600,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_ClickPictureText = new fabric.Text('Click a cool picture!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_ScanFingerText = new fabric.Text('Scan your finger!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

/*var rID_VoiceCommandText = new fabric.Text('Record voice command!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});*/

var rID_SyncPhoneText = new fabric.Text('Sync your phone!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_LastPageText = new fabric.Text('Great!',{
  left: rID_TutorialLeft+ 450,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_LastPageText2 = new fabric.Text('You are all set. Enjoy the \nsmart door experience!',{
  left: rID_TutorialLeft+ 380,
  top: rID_TutorialTop + 290,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_PictureBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});

var rID_FingerScanBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});

var rID_VoiceCommandBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});

var rID_SyncPhoneBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});


var rID_LastPageBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'white',
  width: 400,
  height: 300
});

/*var rID_VoiceCommandInnerText = new fabric.Text('Please  repeat the voice \n command after the beep.',{
  left: rID_TutorialLeft + 365,
  top: rID_TutorialTop + 260,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_VoiceCommandInnerText2 = new fabric.Text('Open Autumn.',{
  left: rID_TutorialLeft + 470,
  top: rID_TutorialTop + 400,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});*/

var rID_SyncPhoneText2 = new fabric.Text('  Turn ON NFC on your \n  phone and bring close \n to the door.',{
  left: rID_TutorialLeft + 365,
  top: rID_TutorialTop + 260,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_SyncedText = new fabric.Text('Synced!',{
  left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 380,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

/*var rID_VoiceCommandTickBox = new fabric.Rect({
  left: rID_TutorialLeft + 390,
  top: rID_TutorialTop + 400,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 50,
  height: 50
});

var rID_VoiceImg = document.getElementById('rVoice');
var rID_VoiceIcon = new fabric.Image(rID_VoiceImg, {
  
  width: 70,
  height: 70,
  left: rID_TutorialLeft+ 460,
  top: rID_TutorialTop + 460,
});*/
var rFingerPrintInner = new fabric.Circle({
     left: rID_TutorialLeft + 910,
  top: rID_TutorialTop + 947,
    fill: 'black',
    stroke: 'rgba(0,0,256,20)',
    radius: 53
});

var rFingerPrintBox = new fabric.Circle({
  left: rID_TutorialLeft + 480,
  top: rID_TutorialTop + 350,
    fill: 'black',
    stroke: 'rgba(0,0,256,20)',
    radius: 40
});

var rID_HandImg = document.getElementById('rHand');
var rID_HandIcon = new fabric.Image(rID_HandImg, {
  
  width: 70,
  height: 70,
  left: rID_TutorialLeft+ 480,
  top: rID_TutorialTop + 410,
});

 

var rID_Finger1Info  = new kInsertImageInfo("rscanridhi",document.getElementById('rscanridhi'));
var rID_RidhiPrint = new fabric.Image(rID_Finger1Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rID_Finger2Info  = new kInsertImageInfo("rscankruti",document.getElementById('rscankruti'));
var rID_KrutiPrint = new fabric.Image(rID_Finger2Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rID_Finger3Info  = new kInsertImageInfo("rscansahib",document.getElementById('rscansahib'));
var rID_SahibPrint = new fabric.Image(rID_Finger3Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rID_Finger4Info  = new kInsertImageInfo("rscanankur",document.getElementById('rscanankur'));
var rID_AnkurPrint = new fabric.Image(rID_Finger4Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rID_ArrowImg = document.getElementById('rArrow');
var rID_ArrowIcon = new fabric.Image(rID_ArrowImg, {
  
  width: 70,
  height: 80,
  left: rID_TutorialLeft+ 800,
  top: rID_TutorialTop + 350,
});


var rID_CameraImg = document.getElementById('kCameraIcon');
var rID_CameraIcon = new fabric.Image(rID_CameraImg, {
  
  width: 70,
  height: 60,
  left: rID_TutorialLeft+ 810,
  top: rID_TutorialTop + 400,
});

var rID_ClickPictureText2 = new fabric.Text('Click to capture.',{
  left: rID_TutorialLeft+ 790,
  top: rID_TutorialTop + 480,
  fontSize: rID_FontSize +5,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_CameraImg2 = document.getElementById('rCamera2');
var rID_CameraIcon2 = new fabric.Image(rID_CameraImg2, {
  
  width: 70,
  height: 60,
  left: rID_TutorialLeft+ 810,
  top: rID_TutorialTop + 400,
});

var rID_RetakeText = new fabric.Text('Retake.',{
  left: rID_TutorialLeft+ 810,
  top: rID_TutorialTop + 480,
  fontSize: rID_FontSize +5,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rUserIcon1Info = new kInsertImageInfo("kRidhiImageIcon2",document.getElementById('kRidhiImageIcon2'));
var rID_UserIcon1 = new fabric.Image(rUserIcon1Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 293, 
  width: 250,
  height: 240
});

var rUserIcon2Info = new kInsertImageInfo("kKrutiImageIcon1",document.getElementById('kKrutiImageIcon1'));
var rID_UserIcon2 = new fabric.Image(rUserIcon2Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rUserIcon3Info = new kInsertImageInfo("kSahibImageIcon4",document.getElementById('kSahibImageIcon4'));
var rID_UserIcon3 = new fabric.Image(rUserIcon3Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rUserIcon4Info = new kInsertImageInfo("kAnkurImageIcon3",document.getElementById('kAnkurImageIcon3'));
var rID_UserIcon4 = new fabric.Image(rUserIcon4Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

//var rID_voicecommand = new Audio("voice.mp3");
var rID_beep = new Audio("beep.mp3");
/*var rID_VoiceCommand1Capture = new Audio("VoiceCommand1Capture.mp3");
	var rID_VoiceCommand2Capture = new Audio("VoiceCommand2Capture.mp3");
	var rID_VoiceCommand3Capture = new Audio("VoiceCommand3Capture.mp3");
	var rID_VoiceCommand4Capture = new Audio("VoiceCommand4Capture.mp3");*/

	var rPhoneIcon1Info = new kInsertImageInfo("rPhone1",document.getElementById('rPhone1'));  
var rID_Phone1Icon = new fabric.Image(rPhoneIcon1Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

	var rPhoneIcon2Info = new kInsertImageInfo("rPhone2",document.getElementById('rPhone2'));  
var rID_Phone2Icon = new fabric.Image(rPhoneIcon2Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

	var rPhoneIcon3Info = new kInsertImageInfo("rPhone3",document.getElementById('rPhone3'));  
var rID_Phone3Icon = new fabric.Image(rPhoneIcon3Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

	var rPhoneIcon4Info = new kInsertImageInfo("rPhone4",document.getElementById('rPhone4'));  
var rID_Phone4Icon = new fabric.Image(rPhoneIcon4Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

var rID_SyncImg = document.getElementById('rSync');	
var rID_SyncIcon = new fabric.Image(rID_SyncImg, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 380,
	width: 60,
	height: 55
});


rID_Ridhi.on('selected', function () 
{   
    playBeep();
     kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
		
rID_HideChooseUser();
//     rID_HideFirstTimeSetup();
     activeuser = 'Ridhi';
	 rID_HideUserTicks();
	 
    /*if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{*/
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	
	
	
	
	canvas.deactivateAll(); 
});

rID_Kruti.on('selected', function () 
{
    playBeep();
    kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
	rID_HideChooseUser();
  //  rID_HideFirstTimeSetup();
	rID_HideUserTicks();
     activeuser = 'Kruti';
   /* if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{*/
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	
	
	
	
	canvas.deactivateAll(); 
});

	


rID_Sahib.on('selected', function () 
{
    playBeep();
    kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
    // rID_HideFirstTimeSetup();
	rID_HideChooseUser();
	 rID_HideUserTicks();
     activeuser = 'Sahib';
    /*if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{*/
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	
	
	
	
	canvas.deactivateAll(); 
});

rID_Ankur.on('selected', function () 
{ 
    playBeep();
     kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
    // rID_HideFirstTimeSetup();
	rID_HideChooseUser();
	 rID_HideUserTicks();
     activeuser = 'Ankur';
    /*if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{*/
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	
	
	
	
	canvas.deactivateAll(); 
});
 
//canvas.add(rID_GroupFirstTimeSetupButton);

/*rID_FirstTimeSetupText.on('selected', function () 
{
    playBeep();
   kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
  kID_LockIcon.visible = false;
  canvas.add(rID_UsersBox);
    canvas.add(rID_Ridhi);
canvas.add(rID_Kruti);
canvas.add(rID_Sahib);
canvas.add(rID_Ankur);
	canvas.deactivateAll(); 
});*/



rID_GroupEnglishButton.on('selected', function () {
    
	playBeep();

   kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
 
  canvas.add(rID_TickMarkIcon);
  
  rID_HideChooseLangugage();
  rID_RenderChooseUser();
  rID_ShowChooseUser();
 
  //rID_RenderTutorialPage2();
 // rID_ShowTutorialPage2();

      
 });  
 
 rID_RightArrowIcon1.on('selected', function () {
 
 playBeep();
 
 kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
 
  canvas.add(rID_TickMarkIcon);
  rID_HideChooseLangugage();
 rID_RenderChooseUser();
 rID_ShowChooseUser();
 // rID_RenderTutorialPage2();
  //rID_ShowTutorialPage2();

      
 });  
 
 rID_LeftArrowIcon1.on('selected', function () {
 
 playBeep();
 
 
   kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
   rID_HideTutorialPage2();
   rID_HideCircles();
   rID_WelcomeText.visible = false;
    rID_ShowChooseLanguage();
	canvas.add(rID_RightArrowIcon1);
	rID_RightArrowIcon1.visible = true;
 
 
canvas.deactivateAll();   
 });  
 
  rID_LeftArrowIcon2.on('selected', function () {
  
  playBeep();
  
  kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
 
   rID_ShowTutorialPage2();
   rID_HideVideo();
   
    
 
canvas.deactivateAll();   
 });  
 
 rID_LeftArrowIcon3.on('selected', function () {
 
 playBeep();
 
 kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;

rID_HideCameraOnClick();
rID_ShowTutorialPage2();
rID_HideCircles();
// rID_ClickPictureText.visible =false;
 //rID_PictureBox.visible =false;
//rID_HideCircles();
   rID_LeftArrowIcon3.visible =false;
   rID_RightArrowIcon3.visible =false;
   rID_LeftArrowIcon2.visible =true;
   canvas.add(rID_RightArrowIcon2);
   rID_RightArrowIcon2.visible =true;
 
  //rID_RenderTutorialPage2();

 // rID_ShowTutorialPage2();
canvas.deactivateAll();  

});
 
  rID_LeftArrowIcon4.on('selected', function () {
  
  playBeep();
  
  kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
  
  rID_HideScanFinger();
    rID_Circle2.fill = 'black';
  rID_Circle3.fill = 'white';

  
  rID_ShowClickPicture();  
  rID_ShowCameraOnClick();
	if(activeuser == 'Ridhi')
	{

		rID_UserIcon1.visible = true;

	}

	else if(activeuser == 'Kruti')
	  {
		  rID_HideUser();
		  rID_UserIcon2.visible = true;
	  }
	else if(activeuser == 'Sahib')
	{
		rID_HideUser();
		rID_UserIcon3.visible = true;
	}
	else if(activeuser == 'Ankur')
	{
		rID_HideUser();
		rID_UserIcon4.visible = true;
	}
  
  canvas.remove(rID_ClickPictureText2);
    rID_ClickPictureText2.visible = false;
  //rID_RetakeText.visible = true;
  //rID_RightArrowIcon3.visible = true;
  // rID_LeftArrowIcon3.visible = true;
   
  
  
   canvas.deactivateAll();   
 });
 
 
  rID_LeftArrowIcon5.on('selected', function () {
  
  playBeep();
  
  kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
  
rID_HideSyncPhone();
rID_ShowScanFinger();
 //rID_Circle2.fill = 'black';
rID_Circle2.fill = 'white';
rID_Circle4.fill = 'white';
rID_Circle3.fill = 'black';

if(activeuser == 'Ridhi'&& rID_Finger1Info.kIsUsed == true)
		{
		   
		   rID_RidhiPrint.visible = true;
		   rID_ScanTickIcon.visible = true;
		   //k_RidhiProfile.kFingerIcon = 
		   
		}
		else if(activeuser == 'Kruti' && rID_Finger2Info.kIsUsed == true)
		{
		   rID_KrutiPrint.visible = true;
		   rID_ScanTickIcon.visible = true;
		   
		}
		
		else if(activeuser == 'Sahib'&& rID_Finger3Info.kIsUsed == true )
		{
		   rID_SahibPrint.visible = true;
		   rID_ScanTickIcon.visible = true;
		   
		}
		else if(activeuser == 'Ankur' && rID_Finger4Info.kIsUsed == true)
		{
		   rID_AnkurPrint.visible = true;
		   rID_ScanTickIcon.visible = true;
		   
		}
	

//rID_ShowVoiceCommand();
//rID_TickMarkIcon3.visible =  true;
//rID_TickMarkIcon4.visible =  true;
//rID_VideoIcon2.visible = true;
//rID_VoiceIcon.visible = false;

  
  canvas.deactivateAll();   
 });
  
 
 

 
 rID_LeftArrowIcon6.on('selected', function () {
 
 playBeep();
 kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
 
 rID_HideLastPage(); 
rID_Tutorial.visible = true;
rID_ShowCircles();
rID_Circle4.fill = 'black';
rID_Circle5.fill = 'white';
//rID_Circle5.fill = 'white';
 
if(activeuser == 'Ridhi' && rPhoneIcon1Info.kIsUsed == true)
{
   rID_Phone1Icon.visible = true; 
}

else if(activeuser == 'Kruti' && rPhoneIcon2Info.kIsUsed == true)
{
   rID_Phone2Icon.visible = true; 
}
else if(activeuser == 'Sahib' && rPhoneIcon3Info.kIsUsed == true)
{
	rID_Phone3Icon.visible = true;
}
else if(activeuser == 'Ankur' && rPhoneIcon4Info.kIsUsed == true)
{
	rID_Phone4Icon.visible = true;
}

//rID_RenderSyncPhone();
rID_ShowSyncPhone();
rID_SyncedText.visible = true;
rID_TickMarkIcon5.visible = true;

canvas.deactivateAll();   
 });  
 
 
 rID_ChooseUserLeftArrow.on('selected', function()
{
	     rID_HideChooseUser();
		 rID_ShowChooseLanguage();
	
	canvas.add(rID_RightArrowIcon1);
	rID_RightArrowIcon1.visible = true;
	canvas.deactivateAll();
		 
	});
 
 rID_GroupSetupButton.on('selected', function () {
 
 playBeep();
 
 kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
 
   rID_HideTutorialPage2();
   rID_RenderClickPicture();
    rID_ShowClickPicture();
	
 
 
canvas.deactivateAll();   
 });  
 
 rID_GroupLearnMoreButton.on('selected', function () {
 
 playBeep();
 kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
   rID_HideTutorialPage2();
   rID_RenderVideo();
    rID_ShowVideo();
 
 
canvas.deactivateAll();   
 });  

 

 
rID_CameraIcon.on('selected', function () {


playCameraClick();

if(activeuser == 'Ridhi')
{
    if(retake == 0)
	{
	
	  
	     // rID_PictureBox.visible = true;
	  rID_HideUser();
	 // rID_UserIcon1.set('angle', 45);
     canvas.add(rID_UserIcon1);
	 rID_UserIcon1 .visible =  true;
     rUserIcon1Info.kIsUsed = true;
      k_RidhiProfile.kImageIcon = rUserIcon1Info.kId;
	  retake = 1;
    }
	else 
	{
	    rID_PictureBox.visible = true;
	  rID_HideUser();
	  rID_UserIcon1.set('angle', -10);
     //canvas.add(rID_UserIcon1);
	 rID_UserIcon1 .visible =  true;
     rUserIcon1Info.kIsUsed = true;
      k_RidhiProfile.kImageIcon = rUserIcon1Info.kId
	  retake = 0;
	  
	}
   
   
  // rUserIcon1Info.kIsUsed = true;
  // rUserIcon2Info.kIsUsed = false;
   
   
    
	
	//canvas.add(rID_UserIcon1);
	// rID_UserIcon1.visible= true;
	 
//k_RidhiProfile.kImageIcon = rID_UserIcon2;
//   rUserIcon2Info.kIsUsed = true;
//   rUserIcon1Info.kIsUsed = false;
 //  canvas.add(rID_UserIcon2);
//	rID_UserIcon2.visible= true;
}
else if (activeuser == 'Kruti')
{
   if(retake2 == 0)
	{
	 rID_HideUser();
    canvas.add(rID_UserIcon2);
    rUserIcon2Info.kIsUsed = true;
    rID_UserIcon2.visible = true;
    k_KrutiProfile.kImageIcon = rUserIcon2Info.kId;
	retake2 = 1;
	}
	else
	{
	   rID_PictureBox.visible = true;
	   rID_HideUser();
	  rID_UserIcon2.set('angle', -10);
     //canvas.add(rID_UserIcon1);
	 rID_UserIcon2.visible =  true;
     rUserIcon2Info.kIsUsed = true;
      k_KrutiProfile.kImageIcon = rUserIcon2Info.kId
	  retake2 = 0;
	   
	}
}

else if (activeuser == 'Sahib')
{
   if(retake3 == 0)
   {
	rID_HideUser();
  canvas.add(rID_UserIcon3);
  rUserIcon3Info.kIsUsed = true;
  rID_UserIcon3.visible = true;
  k_SahibProfile.kImageIcon = rUserIcon3Info.kId;
  retake3 = 1;
  }
  else 
  {
    rID_PictureBox.visible = true;
	   rID_HideUser();
	  rID_UserIcon3.set('angle', -10);
     //canvas.add(rID_UserIcon1);
	 rID_UserIcon3.visible =  true;
     rUserIcon2Info.kIsUsed = true;
      k_SahibProfile.kImageIcon = rUserIcon3Info.kId
	  retake3 = 0;
  }
}

else if (activeuser == 'Ankur')
{ 
   if(retake4 == 0)
   {
	rID_HideUser();
  canvas.add(rID_UserIcon4);
  rUserIcon4Info.kIsUsed = true;
  rID_UserIcon4.visible = true;
  k_AnkurProfile.kImageIcon = rUserIcon4Info.kId;
  retake4 =1;
  }
  else
  {
  
  rID_PictureBox.visible = true;
	   rID_HideUser();
	  rID_UserIcon4.set('angle', -10);
     //canvas.add(rID_UserIcon1);
	 rID_UserIcon4.visible =  true;
     rUserIcon4Info.kIsUsed = true;
      k_AnkurProfile.kImageIcon = rUserIcon4Info.kId
	  retake4 = 0;
  }
}



rID_RenderCameraOnClick();
	rID_ShowCameraOnClick();
	rID_CameraIcon.visible = false;
 rID_ClickPictureText2.visible = false;

/*else if(rUserIcon2Info.kIsUsed == false)
{
  k_RidhiProfile.kImageIcon = rID_UserIcon2;
   rUserIcon2Info.kIsUsed = true;
   
    rID_RenderCameraOnClick();
	rID_ShowCameraOnClick();
}*/
 
canvas.deactivateAll();   
 });   
 
 rID_CameraIcon2.on('selected', function () {
 playBeep();

/*if(rUserIcon1Info.kIsUsed == true)
{
  
  k_RidhiProfile.kImageIcon = rID_UserIcon2;
   rUserIcon2Info.kIsUsed = true;
   rUserIcon1Info.kIsUsed = false;
   
   
	//canvas.add(rID_UserIcon2);
	//rID_UserIcon2.visible = false;
	 rID_CameraIcon.visible = true;
	 rID_RetakeText.visible =false;
 rID_ClickPictureText2.visible = true;
 rID_CameraIcon2.visible = false;
}*/

rID_HideCameraOnClick();
   rID_RenderCameraOnClick();
	rID_ShowCameraOnClick();
	rID_RightArrowIcon3.visible = true;
   rID_LeftArrowIcon3.visible = true;
	rID_PictureBox.visible = true;
	rID_ClickPictureText.visible = true;
	rID_CameraIcon.visible = true;
	rID_RetakeText.visible =false;
	rID_ClickPictureText2.visible = true;
	rID_CameraIcon2.visible = false;
	rID_TickMarkIcon2.visible = false;
	
	

 
canvas.deactivateAll();

 }); 


 
 rID_RightArrowIcon2.on('selected', function () {
 playBeep();
 
 kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
 
 rID_HideTutorialPage2();

    rID_ShowClickPicture();
	rID_Circle2.fill = 'black';
  rID_Circle3.fill = 'white';
  //rID_ClickPictureText2.visible = false;
  canvas.remove(rID_ClickPictureText2);
  rID_ShowCameraOnClick();  
  rID_UserIcon1.visible = true;
  rID_RightArrowIcon3.visible = true;
   rID_LeftArrowIcon3.visible = true;
	
	
 
canvas.deactivateAll();
});


rID_RightArrowIcon3.on('selected', function () {
playBeep();
 
 kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
   
    rID_HideCameraOnClick();
	rID_Circle2.fill = 'white';
	rID_Circle3.fill = 'black';

	rID_RenderScanFinger();
	rID_ShowScanFinger();
	//canvas.add(rID_HandPointer);
	setTimeout(rID_AnimateHand,1000);
	
   
 
canvas.deactivateAll();
});




rID_RightArrowIcon4.on('selected', function () {
playBeep();

kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;

 rID_Circle3.fill = 'white';
 rID_Circle4.fill = 'black';
 rID_HideScanFinger();
 rID_RenderSyncPhone();
rID_ShowSyncPhone();
setTimeout(rID_DisplayPhone,1000);
setTimeout(rID_Synced, 6000);

 
/*if(isUsedTutorial == 0)
{
 
 rID_RenderVoiceCommand();
 rID_ShowVoiceCommand();
 
 }
 
 else 
 { 
    rID_ShowVoiceCommand();
 }*/
 
 /*rID_RenderVoiceCommand();
 rID_ShowVoiceCommand();
 
 setTimeout(rID_VoiceCapture,4500);

 setTimeout(rID_Captured,5600);*/

canvas.deactivateAll();

});

/*
rID_RightArrowIcon5.on('selected', function () {

rID_Circle3.fill = 'white';
rID_Circle4.fill = 'black';
rID_HideVoiceCommand();
/*if(isUsedTutorial == 0)
{

}

else
{
   rID_ShowSyncPhone();
}

rID_RenderSyncPhone();
rID_ShowSyncPhone();
setTimeout(rID_DisplayPhone,1000);
setTimeout(rID_Synced, 6000);


canvas.deactivateAll();

});*/

rID_RightArrowIcon5.on('selected', function () {

playBeep();

kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;

rID_Circle4.fill = 'white';
rID_Circle5.fill = 'black';
rID_HideSyncPhone();
rID_RenderLastPage();
rID_ShowLastPage();
if(activeuser == 'Ridhi')
{
  rID_Profile1Done =1;
}
if(activeuser == 'Kruti')
{
  rID_Profile2Done =1;
}
if(activeuser == 'Sahib')
{
  rID_Profile3Done =1;
}
if(activeuser == 'Ankur')
{
  rID_Profile4Done =1;
}



canvas.deactivateAll();

});

rID_RightArrowIcon6.on('selected', function () {

playBeep();

kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;

rID_HideLastPage();
kID_LockIcon.visible = true;
	

canvas.deactivateAll();

});

	kID_WeatherTemp.on('selected', function(){
	
	playBeep();

		rHourlyWeatherUpdate();
    canvas.deactivateAll();
	});
	
rID_GroupAnotherUserButton.on('selected', function()
{

playBeep();

kID_IsMenuOpen = false;
	kID_IsMenuItemOpen = true;
  
 rID_HideLastPage();

// rID_FirstTimeSetupText.visible = true;
//  rID_UsersBox.visible = true;
  
  if(rID_Profile1Done == 1)
  {
     canvas.add(rID_RidhiTick);
	 rID_RidhiTick.visible = true;
  }
  if (rID_Profile2Done == 1)
  {
     canvas.add(rID_KrutiTick);
	 rID_KrutiTick.visible = true;
  }
  if (rID_Profile3Done == 1)
  {
     canvas.add(rID_SahibTick);
	 rID_SahibTick.visible = true;
  }
  if (rID_Profile4Done == 1)
  {
     canvas.add(rID_AnkurTick);
	 rID_AnkurTick.visible = true;
  }
  
   rID_RenderChooseUser();
 rID_ShowChooseUser();
 
 canvas.deactivateAll();
});


/*function rID_HideFirstTimeSetup()
{


  rID_FirstTimeSetupText.visible = false;
  rID_UsersBox.visible = false;
  rID_Ridhi.visible = false;
  rID_Kruti.visible = false;
  rID_Sahib.visible = false;
  rID_Ankur.visible = false;
  
}	*/
	
function rID_RenderChooseLanguage ()
{
//canvas.add(rID_Tutorial);
//canvas.add(rID_RightArrowIcon1);
//canvas.remove(kID_LockIcon);
//kID_LockIcon.visible = false;
canvas.add(rID_WelcomeText);
//canvas.add(rID_WelcomeText2);
canvas.add(rID_LanguageText);

canvas.add(rID_GroupEnglishButton);

canvas.add(rID_GroupSpanishButton);
canvas.add(rID_GroupFrenchButton);
canvas.add(rID_GroupChineseButton);
canvas.add(rID_GroupHindiButton);
canvas.add(rID_GroupArabicButton);
canvas.add(rID_GroupGermanButton);
canvas.add(rID_GroupJapaneseButton);
canvas.add(rID_GroupDutchButton);
canvas.add(rID_GroupPolishButton);
}

function rID_ShowChooseLanguage ()
{
   //rID_Tutorial.visible = true;
//canvas.remove(kID_LockIcon.visible = true;
kID_LockIcon.visible = false;
//rID_RightArrowIcon1.visible = true;
rID_WelcomeText.visible = true;
//rID_WelcomeText2.visible = true;
rID_LanguageText.visible = true;

rID_GroupEnglishButton.visible = true;
rID_TickMarkIcon.visible = true;
rID_GroupSpanishButton.visible = true;
rID_GroupFrenchButton.visible = true;
rID_GroupChineseButton.visible = true;
rID_GroupHindiButton.visible = true;
rID_GroupArabicButton.visible = true;
rID_GroupGermanButton.visible = true;
rID_GroupJapaneseButton.visible = true;
rID_GroupDutchButton.visible = true;
rID_GroupPolishButton.visible = true;
   
}

function rID_HideChooseLangugage ()
{
  rID_Tutorial.visible = false;
  rID_RightArrowIcon1.visible = false;
//canvas.remove(kID_LockIcon.visible = false;
kID_LockIcon.visible = false;
rID_WelcomeText.visible = false;
//rID_WelcomeText2.visible = false;
rID_LanguageText.visible = false;

rID_GroupEnglishButton.visible = false;
rID_TickMarkIcon.visible = false;
rID_GroupSpanishButton.visible = false;
rID_GroupFrenchButton.visible = false;
rID_GroupChineseButton.visible = false;
rID_GroupHindiButton.visible = false;
rID_GroupArabicButton.visible = false;
rID_GroupGermanButton.visible = false;
rID_GroupJapaneseButton.visible = false;
rID_GroupDutchButton.visible = false;
rID_GroupPolishButton.visible = false;
}



         

function rID_RenderTutorialPage2()
{

canvas.add(rID_HeaderText);
canvas.add(rID_GroupSetupButton);
canvas.add(rID_GroupLearnMoreButton);
canvas.add(rID_LeftArrowIcon1);
//canvas.add(rID_RightArrowIcon2);
}

function rID_ShowTutorialPage2()
{
    rID_Tutorial.visible = true;
	rID_LeftArrowIcon1.visible = true;
	rID_RightArrowIcon1.visible =false;
	//rID_RightArrowIcon2.visible = true;
   rID_HeaderText.visible = true;
   rID_GroupSetupButton.visible = true;
   rID_GroupLearnMoreButton.visible = true;
   
}

function rID_HideTutorialPage2()
{
   rID_HeaderText.visible = false;
   rID_GroupSetupButton.visible = false;
   rID_GroupLearnMoreButton.visible = false;
   rID_RightArrowIcon2.visible = false;
   rID_LeftArrowIcon1.visible = false;
}

function rID_RenderVideo()
{
   canvas.add(rID_VideoIcon);
   canvas.add(rID_LeftArrowIcon2);
  
}


function rID_ShowVideo()
{
   rID_VideoIcon.visible =true;
   rID_LeftArrowIcon2.visible = true;
   
}

function rID_HideVideo()
{
   rID_VideoIcon.visible =false;
   rID_LeftArrowIcon2.visible = false;
}

function rID_RenderClickPicture()
{  //canvas.add(rID_Circle1);
//rID_Circle2.set('fill', "black");
canvas.add(rID_Circle2);
rID_Circle2.set('fill', "black");
canvas.add(rID_Circle3);
   canvas.add(rID_Circle4);
   canvas.add(rID_Circle5);
  canvas.add(rID_ClickPictureText);
   canvas.add(rID_PictureBox);
   canvas.add(rID_CameraIcon);
   canvas.add(rID_ClickPictureText2);
   canvas.add(rID_LeftArrowIcon3);
   
   
  rID_Circle1.set('fill', "black");
   canvas.add(rID_RightArrowIcon3);
   
}

function rID_ShowClickPicture()
{ 
  rID_Circle1.visible = true;
   rID_Circle2.visible = true;
   rID_Circle3.visible = true;
   rID_Circle4.visible = true;
   rID_Circle5.visible = true;
  rID_ClickPictureText.visible = true;
   rID_PictureBox.visible = true;
   rID_CameraIcon.visible = true;
   rID_ClickPictureText2.visible = true;
  
   rID_RightArrowIcon3.visible = true;
   rID_LeftArrowIcon3.visible = true;
}

function rID_RenderCameraOnClick()
{
  

  

	canvas.add(rID_RetakeText);
	canvas.add(rID_CameraIcon2);
	canvas.add(rID_TickMarkIcon2);
	
	
}

function rID_ShowCameraOnClick()
{
 
  
	rID_RetakeText.visible = true;
	rID_CameraIcon2.visible = true;
	rID_TickMarkIcon2.visible = true;
	
}

function rID_HideCameraOnClick()
{
 rID_CameraIcon.visible = false;
   rID_ClickPictureText2.visible = false;
   
    rID_UserIcon1.visible = false;
	rID_UserIcon2.visible = false;
	rID_UserIcon3.visible = false;
	rID_UserIcon4.visible = false;
	rID_RetakeText.visible = false;
	rID_CameraIcon2.visible = false;
	rID_TickMarkIcon2.visible = false;
	rID_LeftArrowIcon3.visible = false;
	rID_RightArrowIcon3.visible =  false;

	rID_PictureBox.visible = false;
	rID_ClickPictureText.visible = false;

	
	
}

function rID_RenderScanFinger() 
{
    canvas.add(rID_ScanFingerText);
	canvas.add(rID_FingerScanBox);
	canvas.add(rFingerPrintBox);
	canvas.add(rID_HandIcon);
	canvas.add(rID_ArrowIcon);
	canvas.add(rFingerPrintInner);
	canvas.add(rID_LeftArrowIcon4);
	canvas.add(rID_RightArrowIcon4);
	
}

function rID_ShowScanFinger() 
{
    rID_ScanFingerText.visible = true;
	rID_FingerScanBox.visible = true;
	rFingerPrintBox.visible = true;
	rID_HandIcon.visible = true;
	rFingerPrintInner.visible = true;
	rID_ArrowIcon.visible = true;
	rID_LeftArrowIcon4.visible = true;
	rID_RightArrowIcon4.visible = true;
	
}

function rID_HideScanFinger() 
{
  rID_ScanFingerText.visible = false;
	rID_FingerScanBox.visible = false;
	rFingerPrintBox.visible = false;
	rID_HandIcon.visible = false;
	rFingerPrintInner.visible = false;
	rID_ArrowIcon.visible= false;
	rID_LeftArrowIcon4.visible = false;
	rID_RightArrowIcon4.visible = false;
	rID_ScanTickIcon.visible = false;
	/*canvas.remove(rID_RidhiPrint);
	canvas.remove(rID_KrutiPrint);
	canvas.remove(rID_SahibPrint);
	canvas.remove(rID_AnkurPrint);*/
	rID_RidhiPrint.visible = false;
	rID_KrutiPrint.visible = false;
	rID_SahibPrint.visible = false;
	rID_AnkurPrint.visible = false;
	
	
}

function rID_AnimateHand()
{

     canvas.add(rID_HandPointer);
     playScan();
	 scanned =1;
	 
	 setTimeout(function(){
		 if(scanned == 1)
	 { 
	     canvas.remove(rID_HandPointer);
		 if(activeuser == 'Ridhi')
	     {
	      canvas.add(rID_RidhiPrint);
		  rID_Finger1Info.kIsUsed = true;
		  
	     }
	  	else if(activeuser == 'Kruti')
		{
		   canvas.add(rID_KrutiPrint);
		   rID_Finger2Info.kIsUsed = true;
		   
		   
		   
		}
		
		else if(activeuser == 'Sahib')
		{
		   canvas.add(rID_SahibPrint);
		   rID_Finger3Info.kIsUsed = true;
		   
		   
		}
		else if(activeuser == 'Ankur')
		{
		   canvas.add(rID_AnkurPrint);
		   rID_Finger4Info.kIsUsed = true;
		   
		   
		}
		
	 }
	 canvas.add(rID_ScanTickIcon);
	 scanned =0;
	 }, 1000);
	 
	 
   
		
  
	 
	 
	
 }
/*function rID_RenderVoiceCommand()
{
   canvas.add(rID_VoiceCommandText);
   canvas.add(rID_VoiceCommandBox);
   canvas.add(rID_VoiceCommandInnerText);
   canvas.add(rID_VoiceCommandInnerText2);
   canvas.add(rID_VoiceCommandTickBox);
   canvas.add(rID_VoiceIcon);
   canvas.add(rID_LeftArrowIcon5);
   canvas.add(rID_RightArrowIcon5);
  // setTimeout(rID_PlayVoicecommand, 3000);
   setTimeout(rID_Playbeep, 3500);
   //clearInterval(rID_PlayVoicecommand, 3000);
 
     //  rID_Capture = 1;
   
}

function rID_ShowVoiceCommand()
{
   rID_VoiceCommandText.visible =true;
   rID_VoiceCommandBox.visible =true;
   rID_VoiceCommandInnerText.visible =true;
   rID_VoiceCommandInnerText2.visible =true;
   rID_VoiceCommandTickBox.visible =true;
   rID_VoiceIcon.visible =true;
   rID_LeftArrowIcon5.visible =true;
 rID_RightArrowIcon5.visible =true;
   
}

function rID_VoiceCapture()
{
	if(activeuser == 'Ridhi')
	{
     rID_VoiceCommand1Capture.play();
    }

	else if (activeuser == 'Kruti')
	{
		rID_VoiceCommand2Capture.play();
	}

	else if (activeuser == 'Sahib')
	{
		rID_VoiceCommand3Capture.play();
	}

	else if (activeuser == 'Ankur')
	{
		rID_VoiceCommand4Capture.play();
	}

}

/*function rID_PlayVoicecommand()
{
     rID_voicecommand.play();
}*/
function rID_Playbeep()
{
     rID_beep.play();
}
/*
function rID_Captured()
{
	rID_VoiceIcon.visible = false;
	canvas.add(rID_TickMarkIcon4);
	canvas.add(rID_TickMarkIcon3);
	canvas.add(rID_VideoIcon2);
	rID_TickMarkIcon3.visible = true;
	rID_VideoIcon2.visible = true;
	rID_TickMarkIcon4.visible = true;

  if(activeuser == 'Ridhi')
{ 
  
   k_RidhiProfile.kVoiceCommand = rID_VoiceCommand1Capture;
   
}

else if(activeuser == 'Kruti')
{
     k_KrutiProfile.kVoiceCommand = rID_VoiceCommand2Capture;
}

  else if(activeuser == 'Sahib')
  {
	  k_SahibProfile.kVoiceCommand = rID_VoiceCommand3Capture;
  }

  else if(activeuser == 'Ankur')
  {
	  k_AnkurProfile.kVoiceCommand = rID_VoiceCommand4Capture;
  }


   
}

/*function rID_HideVoiceCommand()
{

   rID_VoiceCommandText.visible =false;
   rID_VoiceCommandBox.visible =false;
   rID_VoiceCommandInnerText.visible =false;
   rID_VoiceCommandInnerText2.visible =false;
   rID_VoiceCommandTickBox.visible =false;
   rID_VoiceIcon.visible =false;
   rID_LeftArrowIcon5.visible =false;
 rID_RightArrowIcon5.visible =false;
 rID_VideoIcon2.visible =false;
 rID_TickMarkIcon3.visible =false;
 rID_TickMarkIcon4.visible =false;
}*/

function rID_RenderSyncPhone()
{
    canvas.add(rID_SyncPhoneText);
	canvas.add(rID_SyncPhoneBox);
	canvas.add(rID_SyncPhoneText2);
    canvas.add(rID_LeftArrowIcon5);
	canvas.add(rID_RightArrowIcon5);
}

function rID_ShowSyncPhone()
{
    
    rID_SyncPhoneText.visible =true;
	rID_SyncPhoneBox.visible =true;
	rID_SyncPhoneText2.visible =true;
    rID_LeftArrowIcon5.visible =true;
	rID_RightArrowIcon5.visible =true;
}

function rID_DisplayPhone()
{
	canvas.add(rID_SyncIcon);
	
      
	
	rID_SyncIcon.visible = false;
	//rID_SyncIcon.visible = true;
   if(activeuser == 'Ridhi')
   {

	   rID_SyncIcon.visible = true;
	//  rID_AnimateSyncIcon(1, 2500);
     canvas.add(rID_Phone1Icon);
	  rID_Phone1Icon.visible = true;
	   rID_Phone2Icon.visible = false;
	   rID_Phone3Icon.visible = false;
	   rID_Phone4Icon.visible = false;

	 rPhoneIcon1Info.kIsUsed =  true;

	 k_RidhiProfile.kPhoneSynced = rPhoneIcon1Info.kId;
	 
   }
   
   else if (activeuser == 'Kruti')
   {
	  //canvas.add(rID_SyncIcon);
	   rID_SyncIcon.visible = true;
	   canvas.add(rID_Phone2Icon);
	   rID_Phone2Icon.visible = true;
	   rID_Phone1Icon.visible = false;
	   rID_Phone3Icon.visible = false;
	   rID_Phone4Icon.visible = false;

	 rPhoneIcon2Info.kIsUsed =  true;
	 k_KrutiProfile.kPhoneSynced = rPhoneIcon2Info.kId;
   }
   
   else if (activeuser == 'Sahib')
   {
	 //  canvas.add(rID_SyncIcon);
	   rID_SyncIcon.visible = true;
	   canvas.add(rID_Phone3Icon);
	   rID_Phone3Icon.visible = true;
	   rID_Phone2Icon.visible = false;
	   rID_Phone1Icon.visible = false;
	   rID_Phone4Icon.visible = false;

	 rPhoneIcon3Info.kIsUsed =  true;
	 k_SahibProfile.kPhoneSynced = rPhoneIcon3Info.kId;
   }
   
   else if (activeuser == 'Ankur')
   {
	   //canvas.add(rID_SyncIcon);
	   rID_SyncIcon.visible = true;
	   canvas.add(rID_Phone4Icon);
	   rID_Phone4Icon.visible = true;
	   rID_Phone1Icon.visible = false;
	   rID_Phone2Icon.visible = false;
	   rID_Phone3Icon.visible = false;

	 rPhoneIcon4Info.kIsUsed =  true;
	 k_AnkurProfile.kPhoneSynced = rPhoneIcon4Info.kId;
   }
   
   
   
}

function rID_Synced()
{

  rID_SyncIcon.visible = false;
	canvas.add(rID_SyncedText);
	canvas.add(rID_TickMarkIcon5);
	rID_SyncedText.visible = true;
	rID_TickMarkIcon5.visible = true;


  rID_Playbeep();
  
  
  
}

function rID_HideSyncPhone()
{
    rID_SyncPhoneText.visible = false;
	rID_SyncPhoneBox.visible = false;
	rID_SyncPhoneText2.visible = false;
    rID_LeftArrowIcon5.visible = false;
	rID_RightArrowIcon5.visible = false;
	rID_Phone1Icon.visible = false;
	rID_Phone2Icon.visible = false;
	rID_Phone4Icon.visible = false;
	rID_Phone3Icon.visible = false;
		
		
     rID_SyncIcon.visible = false;
	 rID_SyncedText.visible = false;
	 rID_TickMarkIcon5.visible = false;
}

function rID_RenderLastPage()
{
  canvas.add(rID_LastPageBox);
  canvas.add(rID_LastPageText);
  canvas.add(rID_LastPageText2);
  canvas.add(rID_LeftArrowIcon6);
  canvas.add(rID_RightArrowIcon6);
  canvas.add(rID_GroupAnotherUserButton);
}

function rID_ShowLastPage()
{
rID_LastPageBox.visible = true;
  rID_LastPageText.visible = true;
  rID_LastPageText2.visible = true;
  rID_LeftArrowIcon6.visible = true;
  rID_RightArrowIcon6.visible = true;
  rID_GroupAnotherUserButton.visible = true;
}

function rID_HideLastPage()
{
rID_HideCircles();
rID_Circle5.set('fill','white');
 rID_LastPageBox.visible = false;
  rID_LastPageText.visible = false;
  rID_LastPageText2.visible = false;
  rID_LeftArrowIcon6.visible = false;
  rID_RightArrowIcon6.visible = false;
  rID_GroupAnotherUserButton.visible = false;
  rID_Tutorial.visible = false;
  
}

function rID_ShowCircles()
{
 //rID_Circle1.visible =  true;

rID_Circle2.visible=  true;
rID_Circle3.visible=  true;
  rID_Circle4.visible=  true;
   rID_Circle5.visible=  true;
}

function rID_HideCircles()
{
 //rID_Circle1.visible =  false;

rID_Circle2.visible=  false;
rID_Circle3.visible=  false;
  rID_Circle4.visible=  false;
   rID_Circle5.visible= false;
}

	function rID_HideUser()

	{
		rID_UserIcon1.visible = false;
		rID_UserIcon2.visible = false;
		rID_UserIcon3.visible = false;
		rID_UserIcon4.visible = false;

	}
	
	function rID_RenderChooseUser()
	{
	   canvas.add(rID_ChooseText);
	    canvas.add(rID_Ridhi);
canvas.add(rID_Kruti);
canvas.add(rID_Sahib);
canvas.add(rID_Ankur);
canvas.add(rID_ChooseUserLeftArrow);
	canvas.deactivateAll(); 
	}
	
	function rID_ShowChooseUser()
	{
	  rID_ChooseText.visible = true;
	   rID_Ridhi.visible = true;
rID_Kruti.visible = true;
rID_Sahib.visible = true;
rID_Ankur.visible = true;
rID_ChooseUserLeftArrow.visible = true;

	}
	
	function rID_HideChooseUser()
	{
	     rID_ChooseText.visible = false;
	   rID_Ridhi.visible = false;
rID_Kruti.visible = false;
rID_Sahib.visible = false;
rID_Ankur.visible = false;
rID_ChooseUserLeftArrow.visible = false;
	}
	
	

	function rHourlyWeatherUpdate() 
	{
	
	   
      if(rID_TempClick == 0)
       {	
          rID_TempClick =1;
	     canvas.add(rID_ClickableWeatherBox);
		 canvas.add(rID_ClickableWeatherBox2);
		 canvas.add(rID_Day);
		 
		 
		var	rID_Date = new Date();
		var	rID_CurrH = String(rID_Date.getHours());
		//var m = rID_CurrH ;
		
       rID_Hour1.set({
			text: String(parseInt(rID_CurrH)+1) + ":00"
		});
		

		rID_Hour2.set({
			text: String(parseInt(rID_CurrH)+2) + ":00"
		});

		rID_Hour3.set({
			text: String(parseInt(rID_CurrH)+3)+ ":00"
		});

		rID_Hour4.set({
			text: String(parseInt(rID_CurrH)+4)+ ":00"
		});

		rID_Hour5.set({
			text: String(parseInt(rID_CurrH)+5)+ ":00"
		});

		rID_Hour6.set({
			text: String(parseInt(rID_CurrH)+6)+ ":00"
		});
		canvas.add(rID_Hour1);
		canvas.add(rID_Hour2);
		canvas.add(rID_Hour3);
		canvas.add(rID_Hour4);
		canvas.add(rID_Hour5);
		canvas.add(rID_Hour6);




		var api = "43e1608558160f4b";
		var state = "IL";
		var city = "Chicago";

		$.ajax
		({
			url: "http://api.wunderground.com/api/" + api + "/forecast/conditions/hourly/q/" + state + "/" + city + ".json",
			dataType: "jsonp",
			success: function (parsed_json2)
			{
			//	var rTemp1 = parsed_json2['hourly_forecast'][0]['temp']['english'];
//	var rHour = parsed_json2['hourly_forecast']['FCTTIME']['hour'];
				//var rIcon = parsed_json2['hourly_forecast'][0]['icon_url'];,
				//var icon_json = '<img src ="' + icon_url_json + '" />';
                var icon2_url_json = "http://icons.wxug.com/i/c/f/" + parsed_json2['current_observation']['icon'] + ".gif";
              var temp2_json = parsed_json2['current_observation']['temp_f'];
			 var temp2_json_C = parsed_json2['current_observation']['temp_c'];
			  temp2_json += "°F";
			   temp2_json_C += "°C";
			  
				//success : function(parsed_json) {
				// check we have at least 36 entries
				//var j = parsed_json2.hourly_forcast.length < 36 ? parsed_json.hourly_forcast.length : 36;
				document.getElementById("rTempIcon").src= icon2_url_json;
				rID_TempDisplay.set({
			    text: temp2_json
	         	});
		canvas.add(rID_TempDisplay);
		 canvas.add(rID_TempIcon);
				var myParsedData = [];
			//	var nextSixHrsData = [];
				for (var i = 0; i < 36; i++) {
					myParsedData.push({
						hrs: parsed_json2.hourly_forecast[i].FCTTIME.hour,
						htemp: parsed_json2.hourly_forecast[i].temp.english,
						htempc: parsed_json2.hourly_forecast[i].temp.metric,
						hicon: parsed_json2.hourly_forecast[i].icon_url

					});
					myParsedData[i].htemp = myParsedData[i].htemp+ "°F";
					myParsedData[i].htempc = myParsedData[i].htempc+ "°C";
			//console.log(myParsedData[i].htemp);
				}
				if(kID_TempFormat == "F")
			{
				rID_Temp1.set({
					text:myParsedData[0].htemp
				});
				
				rID_Temp2.set({
					text: myParsedData[1].htemp
				});

				rID_Temp3.set({
					text: myParsedData[2].htemp
				});

				rID_Temp4.set({
					text: myParsedData[3].htemp
				});

				rID_Temp5.set({
					text: myParsedData[4].htemp
				});

				rID_Temp6.set({
					text: myParsedData[5].htemp
				});
				
				}
				
				else if (kID_TempFormat == "C" )
				{
				   rID_Temp1.set({
					text:myParsedData[0].htempc
				});
				
				rID_Temp2.set({
					text: myParsedData[1].htempc
				});

				rID_Temp3.set({
					text: myParsedData[2].htempc
				});

				rID_Temp4.set({
					text: myParsedData[3].htempc
				});

				rID_Temp5.set({
					text: myParsedData[4].htempc
				});

				rID_Temp6.set({
					text: myParsedData[5].htempc
				});
				}
				
				document.getElementById("rTempIcon1").src= myParsedData[0].hicon;
				document.getElementById("rTempIcon2").src= myParsedData[1].hicon;
				document.getElementById("rTempIcon3").src= myParsedData[2].hicon;
				document.getElementById("rTempIcon4").src= myParsedData[3].hicon;
				document.getElementById("rTempIcon5").src= myParsedData[4].hicon;
				document.getElementById("rTempIcon6").src= myParsedData[5].hicon;
			
				
				 canvas.add(rID_Temp1);
				 canvas.add(rID_Temp2);
				 canvas.add(rID_Temp3);
				 canvas.add(rID_Temp4);
				 canvas.add(rID_Temp5);
				 canvas.add(rID_Temp6);
				 canvas.add(rID_TempIcon1);
				  canvas.add(rID_TempIcon2); 
				  canvas.add(rID_TempIcon3);
				   canvas.add(rID_TempIcon4);
				    canvas.add(rID_TempIcon5);
					 canvas.add(rID_TempIcon6);
				 
			//	 rID_TempIcon1.visible = true;
				 
				//console.log(myParsedData[0].htemp);
				//console.log(myParsedData[0].hrs);
				
				/*var obj = JSON.parse(text);
				//$.each(resp.hourly_forecast, function()
				{
                  logTime(this.FCTTIME);    
                 });
				 
	function logTime(obj){
    $('body').append(obj.temp.english);
    console.log(obj);*/
} 


				
/*
				
*/
//console.log("breal");
				
				/*for(var k=0; k<36; k++)
				 {
				 if(myParsedData[k].hrs == rID_CurrH)
				 for(var l =0; l<6;l++)
				 {
				 nextSixHrsData.push({
				 hrs1: myParsedData[k].hrs + 1,
				 tmp1: myParsedData[k]

				 })
				 }

				 for(var m=0;m<nextSixHrsData.length; m++)
				 {
				 console.log(nextSixHrsData[m]);
				 }

				 }*/
				


			
		});
	  }
	  else if(rID_TempClick == 1)
	  { 
	      rID_HideTempClick();
		  rID_TempClick =0;
	  }
	}
	
function rID_HideTempClick()
{
   canvas.remove(rID_ClickableWeatherBox);
		 canvas.remove(rID_ClickableWeatherBox2);
		 canvas.remove(rID_Day);
		 canvas.remove(rID_Hour1);
		canvas.remove(rID_Hour2);
		canvas.remove(rID_Hour3);
		canvas.remove(rID_Hour4);
		canvas.remove(rID_Hour5);
		canvas.remove(rID_Hour6);
		canvas.remove(rID_TempDisplay);
		 canvas.remove(rID_TempIcon);
		 canvas.remove(rID_Temp1);
				 canvas.remove(rID_Temp2);
				 canvas.remove(rID_Temp3);
				 canvas.remove(rID_Temp4);
				 canvas.remove(rID_Temp5);
				 canvas.remove(rID_Temp6);
				 canvas.remove(rID_TempIcon1);
				  canvas.remove(rID_TempIcon2); 
				  canvas.remove(rID_TempIcon3);
				   canvas.remove(rID_TempIcon4);
				    canvas.remove(rID_TempIcon5);
					 canvas.remove(rID_TempIcon6);
		 
		 
}

function rID_HideUserTicks()
{
  rID_RidhiTick.visible = false;
  rID_KrutiTick.visible = false;
  rID_SahibTick.visible = false;
  rID_AnkurTick.visible = false;
  
}

function rID_AnimateSyncIcon(i,j)
{
rID_SyncIcon.animate('angle', 360 * i, {
        duration: j,
        onChange: canvas.renderAll.bind(canvas),
        easing: fabric.util.ease.easeInOutCubic
    });

}

var kID_CalEvent = new fabric.Text('',{
	left: 50,
	top: 100,
	fontWeight: 'bold',
	fontSize: kID_FontSize,
	fontFamily: kID_Font
});


var clientId = '295415451803-qg0pugu30scc3aecktsive3998ajtaq4.apps.googleusercontent.com'; //choose web app client Id, redirect URI and Javascript origin set to http://localhost
    
var scopes = ["https://www.googleapis.com/auth/calendar.readonly"];

var scope_task = ['https://www.googleapis.com/auth/tasks.readonly'];
    


function checkAuth() {
        gapi.auth.authorize(
          {
            'client_id': clientId,
            'scope': scopes.join(' '),
            'immediate': true
          }, handleAuthResult);
      };



function handleAuthResult(authResult) {
       // var authorizeDiv = document.getElementById('authorize-div');
        if (authResult && !authResult.error) {
          // Hide auth UI, then load client library.
          //authorizeDiv.style.display = 'none';
          loadCalendarApi();
		  //loadTasksApi();
        } else {
          // Show auth UI, allowing the user to initiate authorization by
          // clicking authorize button.
        //  authorizeDiv.style.display = 'inline';
        }
      };
	  
	  function handleAuthClick(event) {
        gapi.auth.authorize(
          {client_id: clientId, scope: scopes, immediate: false},
          handleAuthResult);
        return false;
      };
	  
	  
	  
	  
function TaskHandleAuthResult(authResult) {
       // var authorizeDiv = document.getElementById('authorize-div');
        if (authResult && !authResult.error) {
          // Hide auth UI, then load client library.
          //authorizeDiv.style.display = 'none';
          //loadCalendarApi();
		  loadTasksApi();
        } else {
          // Show auth UI, allowing the user to initiate authorization by
          // clicking authorize button.
        //  authorizeDiv.style.display = 'inline';
        }
      };
	  
	  function TaskHandleAuthClick(event) {
        gapi.auth.authorize(
          {client_id: clientId, scope: scope_task, immediate: false},
          TaskHandleAuthResult);
        return false;
      };
	  
	  
	  /*****************************************google calendar******************************/
	  
	  function rCurrentTime()
	     {
	     var currDate = new Date();
		var	CurrH = parseInt(currDate.getHours());
		
		rHour1.set({
			text: String(CurrH) + ":00",
			fontWeight: 'bold'
		});
		

		rHour2.set({
			text: String(CurrH+1) + ":00"
		});

		rHour3.set({
			text: String(CurrH+2)+ ":00"
		});

		rHour4.set({
			text: String(CurrH+3)+ ":00"
		});

		rHour5.set({
			text: String(CurrH+4)+ ":00"
		});

		rHour6.set({
			text: String(CurrH+5)+ ":00"
		});
		
		canvas.add(rHour1);
		canvas.add(rHour2);
		canvas.add(rHour3);
		canvas.add(rHour4);
		canvas.add(rHour5);
		canvas.add(rHour6);
		}
	  
	  function getCalendar(activeuser)
	  
	  {  
	  
	      var currDate = new Date();
		var	CurrH = parseInt(currDate.getHours());
	    var tempArray2 = [];
	if(rCalendarEvents != null && rCalendarEvents.length > 0)
	{
		for(c = 0;c < rCalendarEvents.length ; c++ )
		{
			if(rCalendarEvents[c].user.toLowerCase() == activeuser.toLowerCase())
			{
			   if(rCalendarEvents[c].startHrs>= CurrH && rCalendarEvents[c].startHrs<= CurrH + 6)
			   {
				tempArray2.push
				({
				     startHrs : rCalendarEvents[c].startHrs,
					startMin : rCalendarEvents[c].startMin,
					eventname : rCalendarEvents[c].eventname,
					endHrs:rCalendarEvents[c].endHrs,
					endMin:rCalendarEvents[c].endMin
				});
				}
			}
				
		}
		
		if(tempArray2 != null && tempArray2.length > 0)
		{
		for(c = 0 ; c < tempArray2.length ; c++)
		{
			switch(tempArray2[c].startHrs)
			{
				case CurrH:
						rEvent1.set({
							text:tempArray2[c].eventname
						});
						canvas.add(rEvent1);
						//canvas.add(rID_ToDoBox1);
				break;
				
				case CurrH+1:
						rEvent2.set({
							text:tempArray2[c].eventname
						});
						canvas.add(rEvent2);
						//canvas.add(rID_ToDoBox2);
				break;
				
				case CurrH+2:
						rEvent3.set({
							text:tempArray2[c].eventname
						});
						canvas.add(rEvent3);
						//canvas.add(rID_ToDoBox3);
				break;
				
				case CurrH+3:
						rEvent4.set({
							text:tempArray2[c].eventname
						});
						canvas.add(rEvent4);
						//canvas.add(rID_ToDoBox4);
				break;
				
				case CurrH +4:
						rEvent5.set({
							text:tempArray2[c].eventname
						});
						canvas.add(rEvent5);
						//canvas.add(rID_ToDoBox5);
				break;
				
				case CurrH +5:
						rEvent6.set({
							text:tempArray2[c].eventname
						});
						canvas.add(rEvent6);
				break;
				
			}
		}
		}
		
		
	}
	  
	  }
	  
	  
	  function loadCalendarApi() {
        gapi.client.load('calendar', 'v3', listUpcomingEvents);
      };
	  
	  function listUpcomingEvents() {
        var request = gapi.client.calendar.events.list({
          'calendarId': 'primary',
          'timeMin': (new Date()).toISOString(),
          'showDeleted': false,
          'singleEvents': true,
          'maxResults': 10,
          'orderBy': 'startTime'
        });

        request.execute(function(resp) {
          var events = resp.items;
         // appendPre('Upcoming events:');
           var Calres = [];
		   rCurrentTime();
          if (events.length > 0) {
			  var append = '';
			  var rHrs = [];
			  var userres = [];
			  var evend = [];
            for (i = 0; i < events.length; i++) {
              var event = events[i];
			  Calres = event.start.dateTime.split('T');
			  rHrs = Calres[1].split(':');
			  userres  = event.summary.split(": ");
			  evend = event.end.dateTime.split('T');
			  rHrs2 = evend[1].split(':');
			  
			  
			  
			  rCalendarEvents.push
			  ({
			        startHrs : parseInt(rHrs[0]),
					startMin : parseInt(rHrs[1]),
					eventname: userres[1],
					user: userres[0],
					endHrs:parseInt(rHrs2[0]),
					endMin:parseInt(rHrs[1])
					
				//	user:
					
					
			  });
			  
			  
			  
			  
			   
			   
			
		
          }
		  getCalendar(activeuser);
		

        }
	
		else 
		canvas.add(rEventNull);
		
      });
	  }

/************************* google calendar end *************************************************************************************************/


/*************************************************** google tasks **************************************************************************/


function getUserTasks(activeuser)
{
	var tempArray = [];
	if(rTasks != null && rTasks.length > 0)
	{
		for(rCounter = rTasks.length -1; rCounter >=0 ; rCounter-- )
		{
			if(rTasks[rCounter].kName.toLowerCase() == activeuser.toLowerCase())
				tempArray.push(rTasks[rCounter].kValue);
		}
		
		if(tempArray != null && tempArray.length > 0)
		{
		for(rCounter = 0 ; rCounter < tempArray.length ; rCounter++)
		{
			switch(rCounter)
			{
				case 0:
						rTaskr1.set({
							text:tempArray[rCounter]
						});
						canvas.add(rTaskr1);
						canvas.add(rID_ToDoBox1);
				break;
				
				case 1:
						rTaskr2.set({
							text:tempArray[rCounter]
						});
						canvas.add(rTaskr2);
						canvas.add(rID_ToDoBox2);
				break;
				
				case 2:
						rTaskr3.set({
							text:tempArray[rCounter]
						});
						canvas.add(rTaskr3);
						canvas.add(rID_ToDoBox3);
				break;
				
				case 3:
						rTaskr4.set({
							text:tempArray[rCounter]
						});
						canvas.add(rTaskr4);
						canvas.add(rID_ToDoBox4);
				break;
				
				case 4:
						rTaskr5.set({
							text:tempArray[rCounter]
						});
						canvas.add(rTaskr5);
						canvas.add(rID_ToDoBox5);
				break;
				
				default: 
				     canvas.add(rTask0);
					
			    break;
			}
		}
		}
		
	}
}

function loadTasksApi() {
        gapi.client.load('tasks', 'v1', listTaskLists);
      };
	  
	  function listTaskLists() {
        var request = gapi.client.tasks.tasklists.list({
            'maxResults': 10
          });

          request.execute(function(resp) {
            //appendPre('Task Lists:');
            var taskLists = resp.items;
			var append = '';
		
			var res = [];
			
            if (taskLists && taskLists.length > 0) {
              for (var i = 0; i < taskLists.length; i++) {
			
			
			  
				 res = taskLists[i].title.split(": ");
				rTasks.push((new kCommonFunction(res[0],res[1])));
				}
				
			  getUserTasks(activeuser);
			
			
          }
		 
		  
		  
      });
	  
	  
 }

 function rID_HideTodoList()
 {
    canvas.remove(rTask0);
	canvas.remove(rTask1);
	canvas.remove(rTaskr1);
	canvas.remove(rTaskr2);
	canvas.remove(rTaskr3);
	canvas.remove(rTaskr4);
	canvas.remove(rTaskr5);
	canvas.remove(kID_TaskLeftArrowIcon);
	canvas.remove(rID_ToDoBox1);
	canvas.remove(rID_ToDoBox2);
	canvas.remove(rID_ToDoBox3);
	canvas.remove(rID_ToDoBox4);
	canvas.remove(rID_ToDoBox5);
 }
 
 function rID_HideCalendar()
 {
    canvas.remove(rEvent0);
	canvas.remove(rEvent1);
	canvas.remove(rEvent2);
	canvas.remove(rEvent3);
	canvas.remove(rEvent4);
	canvas.remove(rEvent5);
	canvas.remove(rEvent6);
	canvas.remove(kID_CalendarLeftArrowIcon);
	canvas.remove(rEventNull);
	canvas.remove(rHour1);
	canvas.remove(rHour2);
	canvas.remove(rHour3);
	canvas.remove(rHour4);
	canvas.remove(rHour5);
	canvas.remove(rHour6);
	

 }

function rID_HideRidhiTutorial()
{
   // rID_HideFirstTimeSetup();
    rID_HideChooseUser();
	rID_HideChooseLangugage();
	
	rID_HideTutorialPage2();
	rID_HideCameraOnClick();
	rID_HideScanFinger();
	rID_HideSyncPhone();
	rID_HideLastPage();
	
}



/*************************************** Code End by Ridhi ***************************************************************************************/


/**************************** START Common set of JS Code at the END OF FILE **************************************************************/
kOD_NumberPlateSimulation();

kOD_DoorLitSimulation();

setInterval(kOD_NumberPlateSimulation,21600000);

kAddNotificationPanel();

/*******************************$$ Ridhi clickable date and time**********************************/





kID_DateText.on('selected', function()
{
 playBeep();


  
	adisplaySettingsDate();

   
   canvas.deactivateAll();
   
   
});




kID_TimeText.on('selected', function()
{
    playBeep();
   
  
	adisplaySettingsTime();

   
   canvas.deactivateAll();

});



rID_RenderChooseLanguage();
rID_ShowChooseLanguage();
canvas.remove(kID_LockIcon);



//******************8hindilanguage************************
rID_GroupHindiButton.on('selected', function()
{

rID_HideChooseLangugage();

rID_RenderChooseUser();
rID_ShowChooseUser();
aSystemLangHindi();


});


/**************************** END Common set of JS Code at the END OF FILE ****************************************************************/

// code adapted from http://jsfiddle.net/tornado1979/39up3jcm/
// this code deals with scaling all the elements on the canvas
function zoomAll(SCALE_FACTOR) {
      var objects = canvas.getObjects();
      for (var i in objects) {
          var scaleX = objects[i].scaleX;
          var scaleY = objects[i].scaleY;
          var left = objects[i].left;
          var top = objects[i].top;
          var tempScaleX = scaleX * SCALE_FACTOR;
          var tempScaleY = scaleY * SCALE_FACTOR;
          var tempLeft = left * SCALE_FACTOR;
          var tempTop = top * SCALE_FACTOR;
          objects[i].scaleX = tempScaleX;
          objects[i].scaleY = tempScaleY;
          objects[i].left = tempLeft;
          objects[i].top = tempTop;
          objects[i].setCoords();
      }
  
      canvas.renderAll();
  }
// draw everything at the appropriate scale for this canvas
zoomAll(canvas.height / localHeight);
canvas.forEachObject(function(o){ o.hasBorders = false; o.hasControls = false; o.lockMovementX = true; o.lockMovementY = true });
})();
</script>
    
</head>
  
</html>
