<!-- template for Project 1 - CS 422 - Spring 2016 - Andrew Johnson -->

<!DOCTYPE html>    
<head>
    <meta charset="utf-8">
    <title>fabric.js project template</title>
  
  <!-- Get version 1.5.0 of Fabric.js from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.5.0/fabric.min.js" ></script>
  
<!-- /************************************************** Common set of codes for everyone start -HTML HEAD ***************************************************************/ -->
  
  <script src="jquery-2.2.2.min.js"></script> <!-- added by kruti for ajax calls support - weather -->

<!-- /************************************************** Common set of codes for everyone end - HTML HEAD *****************************************************************/ -->

   
<body>
  <!-- canvas tag for Fabric.js to draw into -->
    <!-- set this to some appropriate size for your development work -->
    <!-- but keep the same aspect ratio -->
    <!-- we will use width="494" height="400" for presentations and evaluation -->
  <canvas id="c" width="2714" height="2200" style="border:10px solid black;" ></canvas>
  
<!-- /************************************************** Common set of codes for everyone start -HTML BODY ***************************************************************/ -->
  
  <audio id="audio1">
    <source src="http://sbajaj7.people.uic.edu/CS422/images/bell.mp3" type="audio/wav" />
    </audio>

    <audio id="audio2">
    <source src="http://sbajaj7.people.uic.edu/CS422/images/beep1.mp3" type="audio/mp3" />
    </audio>
  
  

<!-- /************************************************** Common set of codes for everyone end - HTML BODY *****************************************************************/ -->

    
<!-- ************************************** HTML Code Added by Kruti ********************************************************************************* -->
 	<img src="Icons//Kruti//menu1.png" id="kMenuIcon" style="display:none">
	<img src="Icons//Kruti//sos.png" id="kSOSIcon" style="display:none">
	<img src="Icons//Kruti//camera1.png" id="kCameraIcon" style="display:none">
	<img src="Icons//Kruti//nounreadmessage1.png" id="kNoUnreadMessageIcon" style="display:none">
	<img src="Icons//Kruti//calendar1.png" id="kCalendarIcon" style="display:none">
	<img src="Icons//Kruti//unmute.png" id="kUnMuteIcon" style="display:none">
	<img src="Icons//Kruti//settings4.png" id="kSettingsIcon" style="display:none">
	<img src="Icons//Kruti//MirrorIcon_New_1.png" id="kMirrorIcon" style="display:none">
	<img src="Icons//Kruti//rightarrow1.png.jpg" id="kRightArrowIcon" style="display:none">
	<img src="Icons//Kruti//locked1.png" id="kLockIcon" style="display:none">
	<img src="Icons//Kruti//unlock.png" id="kUnLockIcon" style="display:none">
	<img src="" id="kCurrentCloudIcon" style="display:none">
	<img src="Icons//Kruti//mute.png" id="kMuteIcon" style="display:none">
	<img src="Icons//Kruti//oneunreadmessage1.png" id="kOneUnreadMessageIcon" style="display:none">
	<img src="Icons//Kruti//GoogleExpressDelivery.png" id="kGoogleExpressDeliveryIcon" style="display:none">
	<img src="Icons//Kruti//Alert.png" id="kAlertIcon" style="display:none">
	<img src="Icons//Kruti//CallDisconnectIcon.png" id="kCallDisconnectIcon" style="display:none">
	<img src="Icons//Kruti//HalfGuestImageIcon1.png" id="kOutsideGuestImageIcon1" style="display:none">
	<img src="Icons//Kruti//HalfGuestImageIcon2.png" id="kOutsideGuestImageIcon2" style="display:none">
	<img src="Icons//Kruti//FullGuestImageIcon1.png" id="kFOutsideGuestImageIcon1" style="display:none">
	<img src="Icons//Kruti//FullGuestImageIcon2.png" id="kFOutsideGuestImageIcon2" style="display:none">
	<img src="Icons//Kruti//checkboxchecked1.png" id="kCheckBoxCheckedIcon" style="display:none">
	<img src="Icons//Kruti//checkboxunchecked1.png" id="kCheckBoxUnCheckedIcon" style="display:none">
	<img src="Icons//Kruti//Escape_Full_Screen_Camera.gif" id="kEscapeFullScreenCameraIcon" style="display:none">
	<img src="Icons//Kruti//Full_Screen_Camera.png" id="kFullScreenCameraIcon" style="display:none">
	<img src="Icons//Kruti//inside camera off icon.png" id="kInsideCameraOffIcon" style="display:none">
	<img src="Icons//Kruti//inside camera on icon.png" id="kInsideCameraOnIcon" style="display:none">
	<img src="Icons//Kruti//microphone.png" id="kMicrophoneOnIcon" style="display:none">
	<img src="Icons//Kruti//MuteMicrophone.png" id="kMicrophoneOffIcon" style="display:none">
	<img src="Icons//Kruti//CorridorView.png" id="kCorridorViewIcon" style="display:none">
	<img src="Icons//Kruti//leftarrow1.jpg" id="kLeftArrowIcon" style="display:none">	
	
	<img src="Icons//Kruti//KrutiImageIcon.png" id="kKrutiImageIcon" style="display:none">	
	<img src="Icons//Kruti//RidhiImageIcon.png" id="kRidhiImageIcon" style="display:none">
	<img src="Icons//Kruti//AnkurImageIcon.png" id="kAnkurImageIcon" style="display:none">	
	<img src="Icons//Kruti//SahibImageIcon.png" id="kSahibImageIcon" style="display:none">
	<img src="Icons//Kruti//avatar1.png" id="kAvatarIcon" style="display:none">
	
	<img src="Icons//Kruti//MirrorFull.jpg" id="kMirrorFullIcon" style="display:none">
	
	<img src="Icons//Kruti//HelpIcon.png" id="kHelpIcon" style="display:none">
	<img src="Icons//Kruti//house alarm.png" id="kHouseAlarmIcon" style="display:none">
	<img src="Icons//Kruti//theme1.png" id="kThemeIcon" style="display:none">
	<img src="Icons//Kruti//todolist1.png" id="kToDoListIcon" style="display:none">
	
	<img src="Icons//Kruti//ThemeBabyAnnouncement.jpg" id="kThemeBabyAnnouncement" style="display:none">
	<img src="Icons//Kruti//ThemeBabyAnnouncementIcon.jpg" id="kThemeBabyAnnouncementIcon" style="display:none">
	<img src="Icons//Kruti//ThemeBirthday.jpg" id="kThemeBirthday" style="display:none">
	<img src="Icons//Kruti//ThemeBirthdayIcon.png" id="kThemeBirthdayIcon" style="display:none">
	<img src="Icons//Kruti//ThemeChristmasTree.jpg" id="kThemeChristmasTree" style="display:none">
	<img src="Icons//Kruti//ThemeChristmasTreeIcon.png" id="kThemeChristmasTreeIcon" style="display:none">
	<img src="Icons//Kruti//ThemeDoorDesign.jpg" id="kThemeDoorDesign" style="display:none">
	<img src="Icons//Kruti//ThemeDoorDesignIcon.jpg" id="kThemeDoorDesignIcon" style="display:none">
	<img src="Icons//Kruti//ThemeHalloween.jpg" id="kThemeHalloween" style="display:none">
	<img src="Icons//Kruti//ThemeHalloweenIcon.jpg" id="kThemeHalloweenIcon" style="display:none">
	<img src="Icons//Kruti//ThemeWhiteIcon.png" id="kThemeWhiteIcon" style="display:none">
	<img src="Icons//Kruti//ThemeWhiteIcon.png" id="kThemeWhiteIcon" style="display:none">
	<img src="Icons//Kruti//IN.png" id="kINIcon" style="display:none">
	<img src="Icons//Kruti//OUT.png" id="kOUTIcon" style="display:none">
	<img src="Icons//Kruti//SelectedIN.png" id="kSelectedINIcon" style="display:none">
	<img src="Icons//Kruti//SelectedOUT.png" id="kSelectedOUTIcon" style="display:none">
	
	<img src="Icons//Kruti//ArrowGrey_Left.png" id="kArrowGrey_LeftIcon" style="display:none">
	<img src="Icons//Kruti//ArrowGrey_Right.png" id="kArrowGrey_RightIcon" style="display:none">
	
	<img src="" id="kIDMsgBinding" style="display:none">
	<img src="" id="kODMsgBinding" style="display:none">







<!-- *********************************** HTML Code End by Kruti **************************************************************************************  -->


<!-- ************************************ HTML Code Added by Sahib ************************************************************************************* -->

<img src="..//CS422_Project2//Icons//keyhole1.png" id="sKeyHoleIcon" style="display:none">
<img src="..//CS422_Project2//Icons//doorbell1.png" id="sDoorBellIcon" style="display:none">
<img src="..//CS422_Project2//Icons//writemessage1.png" id="sWriteMessageIcon" style="display:none">
<img src="..//CS422_Project2//Icons//DeliveringPackage.jpg" id="sDeliverPackageIcon" style="display:none">
<img src="..//CS422_Project2//Icons//doorbellsoundsettings.png" id="sDoorBellRingingIcon" style="display:none">
<img src="..//CS422_Project2//Icons//new message.jpg" id="sWritingPad" style="display:none">
<img src="..//CS422_Project2//Icons//leftarrow1.png" id="sLeftArrow" style="display:none">




<!-- *********************************** HTML Code End by Sahib ************************************************************************************** -->



<!-- ************************************ HTML Code Added by Ankur *********************************************************************************** -->








<!-- ************************************* HTML Code End by Ankur ************************************************************************************** -->
    
    
    
<!-- ************************************ HTML Code Added by Ridhi ************************************************************************************* -->


<img src="Icons/tickmark.png" id="rTickMark" style="display:none">
<img src="Icons/rightarrow1.png" id="rRightArrow" style="display:none">

<img src="Icons/play1.jpg.png" id="rPlay1" style="display:none">
<img src="Icons/user icon.jpg" id="rUser1" style="display:none">
<img src="Icons/camera3.png" id="rCamera2" style="display:none">

<img src="Icons/profile2.PNG" id="rUser2" style="display:none">
<img src="Icons/Arrow.jpg" id="rArrow" style="display:none">
<img src="Icons/handpointer1.png" id="rHand" style="display:none">
<img src="Icons/speakingmicrophone1.png" id="rVoice" style="display:none">
<img src="Icons/nfc.png" id="rPhone1" style="display:none">
<img src="Icons/NFC_2.png" id="rPhone2" style="display:none">
<img src="Icons/NFC_3.png" id="rPhone3" style="display:none">
<img src="Icons/NFC_4.jpg" id="rPhone4" style="display:none">
<img src="Icons/sync.png" id="rSync" style="display:none">




<!-- ************************************ HTML Code End by Ridhi ************************************************************************************** -->


</body>
 
<script>
// the aspect ratios given here are not quite tall enough for a 36" x 80" door
// we are assuming bottom 15 inches of the door are not part of the display. 
// that part contains lots of necessary electronics so the bottom of the door
// sits off the bottom of our display wall. You are implementing the interface
// for the top 65" of the display / door
(function() {
// within the code below I assume I am drawing into a 1220x990 box
// then I can scale the group to whatever size the final canvas is
  var localHeight = 990;
  var localWidth = 1220;
  var canvas = this.__canvas = new fabric.Canvas('c');
  // set background to blue to make it easier to see it
  canvas.backgroundColor = "#DDDDDD";  // light grey
// need 36 wide instead of 40 as now
var insideDoor = new fabric.Rect({
  left: 22,
  top: 0,
  fill: 'white',
  stroke: 'black',
  width: 555,
  height: localHeight,
  angle: 0
});
// the doors will not be selectable or movable
insideDoor.hasControls = insideDoor.hasBorders = false;
insideDoor.lockMovementX = insideDoor.lockMovementY = true;
var outsideDoor = new fabric.Rect({
  left: 642,
  top: 0,
  fill: 'white',
  stroke: 'black',
  width: 555,
  height: localHeight,
  angle: 0
});
outsideDoor.hasControls = outsideDoor.hasBorders = false;
outsideDoor.lockMovementX = outsideDoor.lockMovementY = true;



/************************************************** Common set of codes for everyone start -JS ***************************************************************/

//Functions for playing sound

function playDoorbell() {
    console.log("Play Doorbell");
    audio1.play(); // audio will load and then play
}

function playBeep(){

    audio2.play(); 
}

/*** START $$Kruti added the code for profiles*********************************/

function kUserProfiles(kUserName,kImageIcon,kFingerIcon,kVoiceCommand,kPhoneSynced,kMessages,kToDoList,kCalendar,kHasUsedMenu)
{
	this.kUserName 		= kUserName;
	this.kImageIcon 	= kImageIcon;
	this.kFingerIcon 	= kFingerIcon;
	this.kVoiceCommand 	= kVoiceCommand;
	this.kPhoneSynced 	= kPhoneSynced;
	this.kMessages 		= kMessages;
	this.kToDoList 		= kToDoList;
	this.kCalendar 		= kCalendar;
	this.kHasUsedMenu 	= kHasUsedMenu;
};

var k_KrutiProfile = new kUserProfiles('Kruti','','','','','','','',false);
var k_SahibProfile = new kUserProfiles('Sahib','','','','','','','',false);
var k_AnkurProfile = new kUserProfiles('Ankur','','','','','','','',false);
var k_RidhiProfile = new kUserProfiles('Ridhi','','','','','','','',false);

var k_GuestProfile1 = new kUserProfiles('Guest1','','','','','','','',false);
var k_GuestProfile2 = new kUserProfiles('Guest2','','','','','','','',false);


function kCommonFunction(name, value)
{
	this.kName = name;
	this.kValue = value;
	this.kIsUsed = false;
};

var kUserMessages = [];

kUserMessages.push((new kCommonFunction("all","Icons/Kruti/WelcomeMessage.png")));

kUserMessages.push((new kCommonFunction("kruti","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("kruti","Icons/Kruti/KrutiMessage.png")));

kUserMessages.push((new kCommonFunction("ridhi","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("ridhi","Icons/Kruti/RidhiMessage.png")));

kUserMessages.push((new kCommonFunction("sahib","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("sahib","Icons/Kruti/SahibMessage.png")));

kUserMessages.push((new kCommonFunction("ankur","Icons/Kruti/WelcomeMessage.png")));
kUserMessages.push((new kCommonFunction("ankur","Icons/Kruti/AnkurMessage.png")));


var kUserToDoList = [];

/********************************************************************************************************************/

/***END $$Kruti added the code for profiles***/

/************************************START $$ Kruti $$ added code for mirror behind the inside door *****************************/

var kMirrorFullIconInfo = new kInsertImageInfo("kMirrorFullIcon",document.getElementById('kMirrorFullIcon'));  
var kID_MirrorFullIcon = new fabric.Image(kMirrorFullIconInfo.kImageElement, 
{
	left: 23,
	top: 0,
	//top: kID_HeaderPanelTop,
	width: 554,
	height: localHeight
});
canvas.add(kID_MirrorFullIcon);

/************************************END $$ Kruti $$ added code for mirror behind the inside door *****************************/

/************************************START $$ Kruti $$ added code for themes behind the inside door *****************************/

var kThemeBabyAnnouncementInfo = new kInsertImageInfo("kThemeBabyAnnouncement",document.getElementById('kThemeBabyAnnouncement'));  
var kID_ThemeBabyAnnouncement = new fabric.Image(kThemeBabyAnnouncementInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeBabyAnnouncement);

var kThemeBirthdayInfo = new kInsertImageInfo("kThemeBirthday",document.getElementById('kThemeBirthday'));  
var kID_ThemeBirthday = new fabric.Image(kThemeBirthdayInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeBirthday);

var kThemeChristmasTreeInfo = new kInsertImageInfo("kThemeChristmasTree",document.getElementById('kThemeChristmasTree'));  
var kID_ThemeChristmasTree = new fabric.Image(kThemeChristmasTreeInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeChristmasTree);

var kThemeDoorDesignInfo = new kInsertImageInfo("kThemeDoorDesign",document.getElementById('kThemeDoorDesign'));  
var kID_ThemeDoorDesign = new fabric.Image(kThemeDoorDesignInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeDoorDesign);

var kThemeHalloweenInfo = new kInsertImageInfo("kThemeHalloween",document.getElementById('kThemeHalloween'));  
var kID_ThemeHalloween = new fabric.Image(kThemeHalloweenInfo.kImageElement, 
{
	left: 23,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kID_ThemeHalloween);

/************************************END $$ Kruti $$ added code for themes behind the inside door *****************************/

/************************************START $$ Kruti $$ added code for themes behind the outside door *****************************/

var kOD_ThemeBabyAnnouncement = new fabric.Image(kThemeBabyAnnouncementInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeBabyAnnouncement);


var kOD_ThemeBirthday = new fabric.Image(kThemeBirthdayInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeBirthday);


var kOD_ThemeChristmasTree = new fabric.Image(kThemeChristmasTreeInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeChristmasTree);

var kOD_ThemeDoorDesign = new fabric.Image(kThemeDoorDesignInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeDoorDesign);


var kOD_ThemeHalloween = new fabric.Image(kThemeHalloweenInfo.kImageElement, 
{
	left: 642,
	top: 0,
	width: 554,
	height: localHeight
});
canvas.add(kOD_ThemeHalloween);

function kRemoveThemeWallpapers()
{
	canvas.remove(kID_ThemeBabyAnnouncement);
	canvas.remove(kID_ThemeBirthday);
	canvas.remove(kID_ThemeChristmasTree);
	canvas.remove(kID_ThemeDoorDesign);
	canvas.remove(kID_ThemeHalloween);
	
	canvas.remove(kOD_ThemeBabyAnnouncement);
	canvas.remove(kOD_ThemeBirthday);
	canvas.remove(kOD_ThemeChristmasTree);
	canvas.remove(kOD_ThemeDoorDesign);
	canvas.remove(kOD_ThemeHalloween);
};


/************************************END $$ Kruti $$ added code for themes behind the outside door *****************************/


/************************************************** Common set of codes for everyone end - JS *****************************************************************/

// add all of the elements to the canvas
canvas.add(insideDoor);
canvas.add(outsideDoor);



/*************************************** Code Added by Kruti ***************************************************************************************/

//common function used for images - whenever we use any image use this function to maintain the icons added on canvas
function kInsertImageInfo(kId,kElement)
{
	this.kImageId = kId;
	this.kImageElement = kElement;
	this.kIsUsed = false;
};

//generalized width, height, font and fontsize used in code by kruti  
var kID_IconW = 60;
var kID_IconH = 70;
var kID_Font = 'Tahoma';
var kID_FontSize = 25;

// intially the door is in locked state.
var kID_IsDoorLocked = true;

// initially the menu is closed.
var kID_IsMenuOpen = false;

//intially the bell is not muted
var kID_IsBellMuted = false;

//is inside theme selected
var kID_ThemeApplied = false;

var kID_SelThemeIcon = '';

//is outside theme selected
var kOD_ThemeApplied = false;

//for checking read and unread messages
var kID_AnyUnReadMsg = false;

var kID_AnyPackageDelivered = false;

var kID_AnyAlert = false;

var kOD_SelThemeIcon = '';

var kStrokeColor = 'black';
var kStrokeWidth10 = 5;
var kStrokeWidth0 = 0;


/********************** code for date + time + weather start ***************************************************************************************/
var kID_HeaderPanelLeft = 23;
var kID_HeaderPanelTop = 2;

//added rectangle panel for reference
var kID_HeaderPanel = new fabric.Rect({
  left: kID_HeaderPanelLeft,
  top: kID_HeaderPanelTop,
  fill: 'white',
  width: 554,
  height: 90
});

canvas.add(kID_HeaderPanel);

//variables for date, time
var kID_CurrentDateTime ;
var kID_DD;
var kID_MM;
var kID_YYYY;
   
// add the date to canvas - initially blank, update from function
var kID_DateText = new fabric.Text('',{
	left: kID_HeaderPanelLeft +8,
	top: kID_HeaderPanelTop + 5,
	fontWeight: 'bold',
	fontSize: kID_FontSize,
	fontFamily: kID_Font
});
canvas.add(kID_DateText);

var kID_Hrs;
var kID_Mins;

// add the time to canvas - initially blank, update from function
var kID_TimeText = new fabric.Text('',{
	left: kID_HeaderPanelLeft +8,
	top: kID_HeaderPanelTop + 35,
	fontWeight: 'bold',
	fontSize: kID_FontSize,
	fontFamily: kID_Font
});
canvas.add(kID_TimeText);

// refresh the date and time in every  10 seconds
function kID_Refresh_DateTime()
{
	kID_CurrentDateTime = new Date();
	kID_DD = kID_CurrentDateTime.getDate();

	kID_MM = kID_CurrentDateTime.getMonth()+1; //January is 0!

	kID_YYYY = kID_CurrentDateTime.getFullYear();
    
	if(kID_DD<10){
		kID_DD='0'+kID_DD;
	} 

	if(kID_MM<10){
		kID_MM='0'+kID_MM;
	}
	
	kID_Hrs = kID_CurrentDateTime.getHours();
	kID_Mins = kID_CurrentDateTime.getMinutes();

	if(kID_Hrs < 10){
		kID_Hrs = '0'+kID_Hrs;
	}
	
	if(kID_Mins < 10){
		kID_Mins = '0'+kID_Mins;
	}
	
	kID_DateText.set({
		text: kID_MM+"/"+kID_DD+"/"+kID_YYYY
	});
	
	//update the date on canvas
	canvas.remove(kID_DateText);
	canvas.add(kID_DateText);
	
	kID_TimeText.set({
		text:kID_Hrs+":"+kID_Mins
	});
	
	//update the time on canvas
	canvas.remove(kID_TimeText);
	canvas.add(kID_TimeText);
};

//call the function to update the blank date and time initially.
kID_Refresh_DateTime();

//refresh the date and time automatically in every 10 seconds.
setInterval(kID_Refresh_DateTime, 30000);

// add the weather - temperature - initially blank - added through service. Default value shown in Faranheit
var kID_WeatherTemp = new fabric.Text('', {
	left: kID_HeaderPanelLeft +450,
	top: kID_HeaderPanelTop + 35,
	fontWeight: 'bold',
	fontSize: kID_FontSize,
	fontFamily: kID_Font
});
canvas.add(kID_WeatherTemp);

// weather - cloud icon - initially the img tag is blank - updated as fetche from the weather service.
var kCurrentCloudIconInfo = new kInsertImageInfo("kCurrentCloudIcon",document.getElementById('kCurrentCloudIcon'));  
var kID_CurrentCloudIcon = new fabric.Image(kCurrentCloudIconInfo.kImageElement, 
{
	left: kID_HeaderPanelLeft +380,
	top: kID_HeaderPanelTop + 5,
	//top: kID_HeaderPanelTop,
	width: kID_IconW,
	height: kID_IconH
});
canvas.add(kID_CurrentCloudIcon);


// function to call the weather service - get temperature and cloud icon.
function kWeatherUpdate()
{
	/* Edit these variables */
	var api = "a175edc1bcfb5ef4";
	var state = "IL";
	var city = "Chicago";

	$.ajax
	({
		url: "http://api.wunderground.com/api/" + api + "/forecast/conditions/q/" + state + "/" + city + ".json",
		dataType: "jsonp",
		success: function (parsed_json) 
		{
			//var celcius, far;
			//get the cloud icon image url
			var icon_url_json = "http://icons.wxug.com/i/c/f/" + parsed_json['current_observation']['icon'] + ".gif";
			
			var icon_json = '<img src ="' + icon_url_json + '" />';
			
			//temperature in Faranheit
			var temp_json = parsed_json['current_observation']['temp_f'];
			
			//convert temperature into Celsius
			var temp_json_C = parsed_json['current_observation']['temp_c'];
			
			temp_json += "°F";
			temp_json_C += "°C";

			// more text on weather can be filled in later
			var condition_json = parsed_json['current_observation']['weather'];
			var real_feel_json = "Feels Like " + parsed_json['current_observation']['feelslike_f'] + "°F";

			var wind_json = 'Winds are ' + parsed_json['current_observation']['wind_string'];
			var location_json = city + ', ' + state;
			
			//get the image element added in html for cloud - initially the src is blank
			document.getElementById("kCurrentCloudIcon").src= icon_url_json;
			
			// set the fabric icon with updated image icon.
			kID_WeatherTemp.set({
				text:temp_json
			});
			
			// rebind the temperature reading
			canvas.remove(kID_WeatherTemp);
			canvas.add(kID_WeatherTemp);
			
			// rebind the cloud icon
			canvas.remove(kID_CurrentCloudIcon);
			canvas.add(kID_CurrentCloudIcon);

		}
	});
};

// initially everything is blank for temperature and cloud icon - call the service to update the canvas elements.
kWeatherUpdate();
// update in every half an hour
setInterval(kWeatherUpdate, 1800000);


/********************** code for date + time + weather end ***************************************************************************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/********************** code for notification panel start ***************************************************************************************/

var kID_NIconW = 60;
var kID_NIconH = 70;

var kID_NotificationPanelLeft = 23;
var kID_NotificationPanelTop = 90;

// notification panel rectangle - used for reference
var kID_NotificationPanel = new fabric.Rect({
  left: kID_NotificationPanelLeft,
  top: kID_NotificationPanelTop,
  fill: 'white',
  width: 554,
  height: 60
});

//canvas.add(kID_NotificationPanel);

var kMuteIconInfo = new kInsertImageInfo("kMuteIcon",document.getElementById('kMuteIcon'));  
var kID_MuteIcon = new fabric.Image(kMuteIconInfo.kImageElement, {
	left: kID_NotificationPanelLeft+75, 
	top: kID_NotificationPanelTop-3, 
	width: kID_NIconW+10,
	height: kID_NIconH-10
});


var kOneUnreadMessageIconInfo = new kInsertImageInfo("kOneUnreadMessageIcon",document.getElementById('kOneUnreadMessageIcon'));  
var kID_OneUnreadMessageIcon = new fabric.Image(kOneUnreadMessageIconInfo.kImageElement, {
	left: kID_NotificationPanelLeft+190, 
	top: kID_NotificationPanelTop+8, 
	width: kID_NIconW,
	height: kID_NIconH-20
});

var kDeliveryIconInfo = new kInsertImageInfo("sDeliverPackageIcon",document.getElementById('sDeliverPackageIcon'));  
var kID_DeliveryIcon = new fabric.Image(kDeliveryIconInfo.kImageElement, {
	width: 60,
	height: 60,
	left: kID_NotificationPanelLeft+300, 
	top: kID_NotificationPanelTop-10,  
});


var kAlertIconInfo = new kInsertImageInfo("kAlertIcon",document.getElementById('kAlertIcon'));  
var kID_AlertIcon = new fabric.Image(kAlertIconInfo.kImageElement, {
	left: kID_NotificationPanelLeft+420, 
	top: kID_NotificationPanelTop, 
	width: kID_NIconW+10,
	height: kID_NIconH-20
});



function kAddNotificationIcons_WithHidingPanel()
{
	canvas.add(kID_MuteIcon);
	canvas.add(kID_OneUnreadMessageIcon);
	canvas.add(kID_DeliveryIcon);
	canvas.add(kID_AlertIcon);
	canvas.add(kID_NotificationPanel);
};


function kAddNotificationPanel()
{
	if(kID_IsBellMuted ||kID_AnyUnReadMsg || kID_AnyPackageDelivered || kID_AnyAlert)
	canvas.add(kID_NotificationPanel);
	if(kID_IsBellMuted)
		canvas.add(kID_MuteIcon);
	
	if(kID_AnyUnReadMsg)
		canvas.add(kID_OneUnreadMessageIcon);
	
	if(kID_AnyPackageDelivered)
		canvas.add(kID_DeliveryIcon);
	
	if(kID_AnyAlert)
		canvas.add(kID_AlertIcon);
};


kAddNotificationIcons_WithHidingPanel();

/********************** code for notification panel end ******************************************************************************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/**************************** code for menu icons start *************************************/

var kID_MenuIconW = 60;
var kID_MenuIconH = 70;

var kID_MenuPanelLeft = 23;
var kID_MenuPanelTop = 230;

// menu rectangle - added for reference
var kID_MenuPanel = new fabric.Rect({
  left: kID_MenuPanelLeft,
  top: kID_MenuPanelTop-40,
  fill: 'white',
  width: 554,
  height: 230
});

//canvas.add(kID_MenuPanel);

var kCameraIconInfo = new kInsertImageInfo("kCameraIcon",document.getElementById('kCameraIcon'));  
var kID_CameraIcon = new fabric.Image(kCameraIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+65, 
	top: kID_MenuPanelTop -32 , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH-5
});

/**************************************************************************************************************************************************/
/************* code for camera panel icons ************************************************/

var kID_CamIconW = 60;
var kID_CamIconH = 70;

var kID_IsAvatarShown = false;
var kID_IsMicrophoneMute = false;

var kID_CameraPanelLeft = 23;
var kID_CameraPanelTop = 170;

// camera panel rectangle - added for reference
var kID_CameraPanel = new fabric.Rect({
  left: kID_CameraPanelLeft,
  top: kID_CameraPanelTop,
  fill: 'white',
  width: 554,
  height: 320
});
//canvas.add(kID_CameraPanel);

var kLeftArrowIconInfo = new kInsertImageInfo("kLeftArrowIcon",document.getElementById('kLeftArrowIcon'));  
var kID_CameraLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+5,
	top: kID_CameraPanelTop+110 , 
	width: kID_CamIconW-20,
	height: kID_CamIconH-30
});

// add the guest user images and default blank screen as rectangle when no user is present outside
var kOutsideGuestImageIcon1Info = new kInsertImageInfo("kOutsideGuestImageIcon1",document.getElementById('kOutsideGuestImageIcon1'));  
var kID_OutsideGuestImageIcon1 = new fabric.Image(kOutsideGuestImageIcon1Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kOutsideGuestImageIcon2Info = new kInsertImageInfo("kOutsideGuestImageIcon2",document.getElementById('kOutsideGuestImageIcon2'));  
var kID_OutsideGuestImageIcon2 = new fabric.Image(kOutsideGuestImageIcon2Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kFOutsideGuestImageIcon1Info = new kInsertImageInfo("kFOutsideGuestImageIcon1",document.getElementById('kFOutsideGuestImageIcon1'));  
var kID_FOutsideGuestImageIcon1 = new fabric.Image(kFOutsideGuestImageIcon1Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kFOutsideGuestImageIcon2Info = new kInsertImageInfo("kFOutsideGuestImageIcon2",document.getElementById('kFOutsideGuestImageIcon2'));  
var kID_FOutsideGuestImageIcon2 = new fabric.Image(kFOutsideGuestImageIcon2Info.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+140
});

var kCorridorViewIconInfo = new kInsertImageInfo("kCorridorViewIcon",document.getElementById('kCorridorViewIcon'));  
var kID_CorridorViewIcon = new fabric.Image(kCorridorViewIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+260,
	height: kID_CamIconH+150
});

var kCheckBoxUnCheckedIconInfo = new kInsertImageInfo("kCheckBoxUnCheckedIcon",document.getElementById('kCheckBoxUnCheckedIcon'));  
var kID_CheckBoxUnCheckedIcon = new fabric.Image(kCheckBoxUnCheckedIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop+220, 
	width: kID_CamIconW+10,
	height: kID_CamIconH-5
});


var kCheckBoxCheckedIconInfo = new kInsertImageInfo("kCheckBoxCheckedIcon",document.getElementById('kCheckBoxCheckedIcon'));  
var kID_CheckBoxCheckedIcon = new fabric.Image(kCheckBoxCheckedIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+65, 
	top: kID_CameraPanelTop+220, 
	width: kID_CamIconW+10,
	height: kID_CamIconH-5
});

var kID_ShowAvatar = new fabric.Text('Show Avatar',{
	left: kID_CameraPanelLeft+145, 
	top: kID_CameraPanelTop+235, 
	fontSize: kID_FontSize + 20,
	//fontWeight:'bold',
	fontFamily: kID_Font
});


var kEscapeFullScreenCameraIconInfo = new kInsertImageInfo("kEscapeFullScreenCameraIcon",document.getElementById('kEscapeFullScreenCameraIcon'));  
var kID_EscapeFullScreenCameraIcon = new fabric.Image(kEscapeFullScreenCameraIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+420, 
	top: kID_CameraPanelTop-5, 
	width: kID_CamIconW+15,
	height: kID_CamIconH +10
});

var kFullScreenCameraIconInfo = new kInsertImageInfo("kFullScreenCameraIcon",document.getElementById('kFullScreenCameraIcon'));  
var kID_FullScreenCameraIcon = new fabric.Image(kFullScreenCameraIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+420, 
	top: kID_CameraPanelTop, 
	width: kID_CamIconW+12,
	height: kID_CamIconH-5
});

var kInsideCameraOffIconInfo = new kInsertImageInfo("kInsideCameraOffIcon",document.getElementById('kInsideCameraOffIcon'));  
var kID_InsideCameraOffIcon = new fabric.Image(kInsideCameraOffIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+422, 
	top: kID_CameraPanelTop+100, 
	width: kID_CamIconW+10,
	height: kID_CamIconH + 10
});

var kInsideCameraOnIconInfo = new kInsertImageInfo("kInsideCameraOnIcon",document.getElementById('kInsideCameraOnIcon'));  
var kID_InsideCameraOnIcon = new fabric.Image(kInsideCameraOnIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+420, 
	top: kID_CameraPanelTop+90, 
	width: kID_CamIconW+15,
	height: kID_CamIconH + 40
});

var kMicrophoneOnIconInfo = new kInsertImageInfo("kMicrophoneOnIcon",document.getElementById('kMicrophoneOnIcon'));  
var kID_MicrophoneOnIcon = new fabric.Image(kMicrophoneOnIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+415, 
	top: kID_CameraPanelTop+210, 
	width: kID_CamIconW+15,
	height: kID_CamIconH 
});

var kMicrophoneOffIconInfo = new kInsertImageInfo("kMicrophoneOffIcon",document.getElementById('kMicrophoneOffIcon'));  
var kID_MicrophoneOffIcon = new fabric.Image(kMicrophoneOffIconInfo.kImageElement, {
	left: kID_CameraPanelLeft+415, 
	top: kID_CameraPanelTop+210, 
	width: kID_CamIconW+15,
	height: kID_CamIconH 
});

/**************** add all icons for camera panel **************************************/

function kAddCameraPanel_WithHidingPanel()
{
	canvas.add(kID_CameraLeftArrowIcon);
	canvas.add(kID_OutsideGuestImageIcon1);
	canvas.add(kID_FOutsideGuestImageIcon1);
	canvas.add(kID_OutsideGuestImageIcon2);
	canvas.add(kID_FOutsideGuestImageIcon2);
	canvas.add(kID_CorridorViewIcon);
	canvas.add(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_CheckBoxCheckedIcon);
	canvas.add(kID_ShowAvatar);
	canvas.add(kID_EscapeFullScreenCameraIcon);
	canvas.add(kID_FullScreenCameraIcon);
	canvas.add(kID_InsideCameraOffIcon);
	canvas.add(kID_InsideCameraOnIcon);
	canvas.add(kID_MicrophoneOnIcon);
	canvas.add(kID_MicrophoneOffIcon);

	// hide the entire camera panel for the start.
	canvas.add(kID_CameraPanel);
};


function kAddCameraPanel_WithoutHidingPanel()
{
	canvas.add(kID_CameraPanel);
	canvas.add(kID_CameraLeftArrowIcon);
	canvas.add(kID_OutsideGuestImageIcon1);
	canvas.add(kID_FOutsideGuestImageIcon1);
	canvas.add(kID_OutsideGuestImageIcon2);
	canvas.add(kID_FOutsideGuestImageIcon2);
	canvas.add(kID_CorridorViewIcon);
	canvas.add(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_CheckBoxCheckedIcon);
	canvas.add(kID_ShowAvatar);
	canvas.add(kID_EscapeFullScreenCameraIcon);
	canvas.add(kID_FullScreenCameraIcon);
	canvas.add(kID_InsideCameraOffIcon);
	canvas.add(kID_InsideCameraOnIcon);
	canvas.add(kID_MicrophoneOnIcon);
	canvas.add(kID_MicrophoneOffIcon);
};
kAddCameraPanel_WithHidingPanel();

function kLeftArrowCameraRemove()
{
	canvas.remove(kID_OutsideGuestImageIcon1);
	canvas.remove(kID_FOutsideGuestImageIcon1);
	canvas.remove(kID_OutsideGuestImageIcon2);
	canvas.remove(kID_FOutsideGuestImageIcon2);
	canvas.remove(kID_CorridorViewIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_EscapeFullScreenCameraIcon);
	canvas.remove(kID_FullScreenCameraIcon);
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.remove(kID_MicrophoneOnIcon);
	canvas.remove(kID_MicrophoneOffIcon);
	canvas.remove(kID_CameraLeftArrowIcon);
	canvas.remove(kID_CameraPanel);
};

/************************************ events for camera panel ***************************************************************************/
kID_CameraLeftArrowIcon.on('selected', function() 
{
	kID_IsAvatarShown = false;
	kID_IsMicrophoneMute = false;
	kID_IsMenuOpen = true;
	kRemoveCameraPanel_WithHidingPanel_OD();
	kLeftArrowCameraRemove();
	//canvas.add(kID_LockIcon);	
	kAddMenuPanel1();
	canvas.deactivateAll(); // deselect everything
});

kID_CheckBoxUnCheckedIcon.on('selected', function() 
{
	kRemoveCameraPanel_WithHidingPanel_OD();
	canvas.remove(kID_CheckBoxCheckedIcon);
	
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_CheckBoxCheckedIcon);
	
	kID_IsAvatarShown = true;
	
	canvas.add(kOD_AvatarIcon);
	
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.add(kID_InsideCameraOffIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_CheckBoxCheckedIcon.on('selected', function() 
{
	kRemoveCameraPanel_WithHidingPanel_OD();
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.add(kID_CheckBoxUnCheckedIcon);
	
	kID_IsAvatarShown = false;
	
	canvas.deactivateAll(); // deselect everything
});

/** start -used for both - escape and full screen mode ****/
function kRemoveCameraImageIcons()
{
	canvas.remove(kID_OutsideGuestImageIcon1);
	canvas.remove(kID_OutsideGuestImageIcon2);
	canvas.remove(kID_CorridorViewIcon);
	canvas.remove(kID_FOutsideGuestImageIcon1);
	canvas.remove(kID_FOutsideGuestImageIcon2);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.remove(kID_ShowAvatar);
}
/** end -used for both - escape and full screen mode ****/

kID_EscapeFullScreenCameraIcon.on('selected', function() 
{
	canvas.remove(kID_EscapeFullScreenCameraIcon);
	
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.add(kID_FullScreenCameraIcon);
	
	/*** remove all images *****************/
	kRemoveCameraImageIcons();
	/**************************************/
	
	kID_CheckBoxCheckedIcon.set({
		top: kID_CameraPanelTop+720
	});
	
	kID_CheckBoxUnCheckedIcon.set({
		top: kID_CameraPanelTop+720
	});
	kID_ShowAvatar.set({
		top: kID_CameraPanelTop+735
	});
	
	if(kID_IsAvatarShown)
	{
		canvas.add(kID_CheckBoxCheckedIcon);
	}
	else
	{
		canvas.add(kID_CheckBoxUnCheckedIcon);
	}
	
	canvas.add(kID_ShowAvatar);
	
	kID_OutsideGuestImageIcon1.set({
		left: kID_CameraPanelLeft+200, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+260,
		height: kID_CamIconH+140
	});
	
	kID_OutsideGuestImageIcon2.set({
		left: kID_CameraPanelLeft+200, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+260,
		height: kID_CamIconH+140
	});
	
	kID_CorridorViewIcon.set({
		left: kID_CameraPanelLeft+200, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+260,
		height: kID_CamIconH+140
	});
	//canvas.add(kID_OutsideGuestImageIcon1);
	canvas.add(kID_OutsideGuestImageIcon2);
	//canvas.add(kID_CorridorViewIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_FullScreenCameraIcon.on('selected', function() 
{
	canvas.remove(kID_FullScreenCameraIcon);
	
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.add(kID_EscapeFullScreenCameraIcon);
	
	/*** remove all images *****************/
	kRemoveCameraImageIcons();
	/**************************************/
	
	kID_CheckBoxCheckedIcon.set({
		top: kID_CameraPanelTop+120, 
	});
	
	kID_CheckBoxUnCheckedIcon.set({
		top: kID_CameraPanelTop+120, 
	});
	kID_ShowAvatar.set({
		top: kID_CameraPanelTop+130
	});
	
	if(kID_IsAvatarShown)
	{
		canvas.add(kID_CheckBoxCheckedIcon);
	}
	else
	{
		canvas.add(kID_CheckBoxUnCheckedIcon);
	}
	
	canvas.add(kID_ShowAvatar);
	
	kID_FOutsideGuestImageIcon1.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+200,
		height: kID_CamIconH+720
	});
	
	kID_FOutsideGuestImageIcon2.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+200,
		height: kID_CamIconH+720
	});
	
	kID_CorridorViewIcon.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+250, 
		width: kID_CamIconW+200,
		height: kID_CamIconH+720
	});
	//canvas.add(kID_FOutsideGuestImageIcon1);
	canvas.add(kID_FOutsideGuestImageIcon2);
	//canvas.add(kID_CorridorViewIcon);
	
	canvas.deactivateAll(); // deselect everything
});


kID_InsideCameraOffIcon.on('selected', function() 
{
	kRemoveCameraPanel_WithHidingPanel_OD();
	
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	
	canvas.add(kID_InsideCameraOnIcon);
	
	canvas.add(kID_CheckBoxUnCheckedIcon);
	
	kID_IsAvatarShown = false;
	
	/*** add the image icons for outside panel - make the inside user visible *****/
	
	/*** IMP - need to fetch the image as per the user profile inside standing near the door ****/
	if(activeuser.toLowerCase() == 'ridhi')
	{
		canvas.add(kOD_RidhiImageIcon);
	}
	else if(activeuser.toLowerCase() == 'kruti')
	{
		canvas.add(kOD_KrutiImageIcon);
	}
	else if(activeuser.toLowerCase() == 'sahib')
	{
		canvas.add(kOD_SahibImageIcon);
	}
	else if(activeuser.toLowerCase() == 'sahib')
	{
		canvas.add(kOD_AnkurImageIcon);
	}
	/*** add the image icons for outside panel - make the inside user visible *****/

	canvas.deactivateAll(); // deselect everything
});

kID_InsideCameraOnIcon.on('selected', function() 
{
	/*** remove the otuside camera panel first *****/
	kRemoveCameraPanel_WithHidingPanel_OD();
	/*** remove the otuside camera panel first *****/
	
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.add(kID_InsideCameraOffIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_MicrophoneOnIcon.on('selected', function() 
{
	canvas.remove(kID_MicrophoneOnIcon);
	canvas.add(kID_MicrophoneOffIcon);
	kID_IsMicrophoneMute = true;
	
	canvas.deactivateAll(); // deselect everything
});

kID_MicrophoneOffIcon.on('selected', function() 
{
	canvas.remove(kID_MicrophoneOffIcon);
	canvas.add(kID_MicrophoneOnIcon);
	kID_IsMicrophoneMute = false;
	
	canvas.deactivateAll(); // deselect everything
});

/*********************************************************************************************************************************/


/************* code end for camera panel icons ************************************************/
/**********************************************************************************************************************************/

var kNoUnreadMessageIconInfo = new kInsertImageInfo("kNoUnreadMessageIcon",document.getElementById('kNoUnreadMessageIcon'));  
var kID_NoUnreadIcon = new fabric.Image(kNoUnreadMessageIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW + 185, 
	top: kID_MenuPanelTop-50  , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+30
});


//add the un read message icon along with read message icons in menu - use same id as used for notification panel.
var kID_OneUnreadMessageIcon_Menu = new fabric.Image(kOneUnreadMessageIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW + 185, 
	top: kID_MenuPanelTop-30  ,
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+10
});

/**********************************START Message Panel ****************************************************************/
var kID_MsgIconW = 60;
var kID_MsgIconH = 70;

var kID_MsgPanelLeft = 23;
var kID_MsgPanelTop = 100;

var kID_RightArrowCounter = 0;
var kID_LeftArrowCounter = 0;

var kID_IsReadMode = false;
var kID_IsWriteMode = false;
var kID_MsgAllSel = false;
var kID_MsgKrutiSel = false;
var kID_MsgRidhiSel = false;
var kID_MsgSahibSel = false;
var kID_MsgAnkurSel = false;
var kID_IsPostInSel = false;
var kID_IsPostOutSel = false;

var kID_CurMsgUser = 'all';


// message panel rectangle - added for reference
var kID_MsgPanel = new fabric.Rect({
  left: kID_MsgPanelLeft,
  top: kID_MsgPanelTop,
  fill: 'white',
  width: 554,
  height: 350
});


var kID_MsgTopLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+5,
	top: kID_MsgPanelTop+14, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});

var kID_MsgRead = new fabric.Rect({
  left: kID_MsgPanelLeft+65,
  top: kID_MsgPanelTop+10,
  fill: 'grey',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgReadTxt = new fabric.Text('Read',{
	left: kID_MsgPanelLeft+120, //1635,
	top: kID_MsgPanelTop +15, //100,
	fontSize: kID_FontSize + 10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});


var kID_MsgWrite = new fabric.Rect({
  left: kID_MsgPanelLeft+280,
  top: kID_MsgPanelTop+10,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgWriteTxt = new fabric.Text('Write',{
	left: kID_MsgPanelLeft+330, //1635,
	top: kID_MsgPanelTop +15, //100,
	fontSize: kID_FontSize + 10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgAll = new fabric.Rect({
  left: kID_MsgPanelLeft+65,
  top: kID_MsgPanelTop+60,
  fill: 'grey',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgAllTxt = new fabric.Text('All',{
	left: kID_MsgPanelLeft+90, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize+5,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgKruti = new fabric.Rect({
  left: kID_MsgPanelLeft+151,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgKrutiTxt = new fabric.Text('Kruti',{
	left: kID_MsgPanelLeft+160, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgRidhi = new fabric.Rect({
  left: kID_MsgPanelLeft+237,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgRidhiTxt = new fabric.Text('Ridhi',{
	left: kID_MsgPanelLeft+245, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgSahib = new fabric.Rect({
  left: kID_MsgPanelLeft+323,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgSahibTxt = new fabric.Text('Sahib',{
	left: kID_MsgPanelLeft+333, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgAnkur = new fabric.Rect({
  left: kID_MsgPanelLeft+409,
  top: kID_MsgPanelTop+60,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 86,
  height: 50
});

var kID_MsgAnkurTxt = new fabric.Text('Ankur',{
	left: kID_MsgPanelLeft+415, //1635,
	top: kID_MsgPanelTop +70, //100,
	fontSize: kID_FontSize,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kMsgMidGreyLeftArrowIconInfo = new kInsertImageInfo("kArrowGrey_LeftIcon",document.getElementById('kArrowGrey_LeftIcon'));  
var kID_MsgMidGreyLeftArrowIcon = new fabric.Image(kMsgMidGreyLeftArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+5,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});

var kMsgMidGreyRightArrowIconInfo = new kInsertImageInfo("kArrowGrey_RightIcon",document.getElementById('kArrowGrey_RightIcon'));  
var kID_MsgMidGreyRightArrowIcon = new fabric.Image(kMsgMidGreyRightArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+505,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});


var kMsgMidLeftArrowIconInfo = new kInsertImageInfo("kLeftArrowIcon",document.getElementById('kLeftArrowIcon'));  
var kID_MsgMidLeftArrowIcon = new fabric.Image(kMsgMidLeftArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+5,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});

var kMsgMidRightArrowIconInfo = new kInsertImageInfo("kRightArrowIcon",document.getElementById('kRightArrowIcon'));  
var kID_MsgMidRightArrowIcon = new fabric.Image(kMsgMidRightArrowIconInfo.kImageElement, {
	left: kID_MsgPanelLeft+505,
	top: kID_MsgPanelTop+190, 
	width: kID_MsgIconW-20,
	height: kID_MsgIconH-30
});


var kMsgBindInfo = new kInsertImageInfo("kIDMsgBinding",document.getElementById('kIDMsgBinding'));  
var kID_MsgBind1 = new fabric.Image(kMsgBindInfo.kImageElement, 
{
	left: kID_MsgPanelLeft +65,
	top: kID_MsgPanelTop+120,
	strokeWidth:2,
	width: 420,
	height: 180
});


var kID_MsgPostIN = new fabric.Rect({
  left: kID_MsgPanelLeft+65,
  top: kID_MsgPanelTop+290,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgPostINTxt = new fabric.Text('Post In',{
	left: kID_MsgPanelLeft+110, //1635,
	top: kID_MsgPanelTop +300, //100,
	fontSize: kID_FontSize+10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

var kID_MsgPostOUT = new fabric.Rect({
  left: kID_MsgPanelLeft+280,
  top: kID_MsgPanelTop+290,
  fill: 'white',
  stroke: 'black',
  strokeWidth:2,
  width: 215,
  height: 50
});

var kID_MsgPostOUTTxt = new fabric.Text('Post Out',{
	left: kID_MsgPanelLeft+320, //1635,
	top: kID_MsgPanelTop +300, //100,
	fontSize: kID_FontSize+10,
	//fontWeight:'bold',
	fontFamily: kID_Font
});

function kAddMessagePanel_WithHidingPanel()
{
	canvas.add(kID_MsgTopLeftArrowIcon);
	
	canvas.add(kID_MsgRead);
	canvas.add(kID_MsgWrite);
	
	canvas.add(kID_MsgAll);
	canvas.add(kID_MsgKruti);
	canvas.add(kID_MsgRidhi);
	canvas.add(kID_MsgSahib);
	canvas.add(kID_MsgAnkur);
	
	canvas.add(kID_MsgPostIN);
	canvas.add(kID_MsgPostOUT);
	
	canvas.add(kID_MsgReadTxt);
	canvas.add(kID_MsgWriteTxt);
	canvas.add(kID_MsgAllTxt);
	canvas.add(kID_MsgKrutiTxt);
	canvas.add(kID_MsgRidhiTxt);
	canvas.add(kID_MsgSahibTxt);
	canvas.add(kID_MsgAnkurTxt);
	
	canvas.add(kID_MsgMidGreyLeftArrowIcon);
	canvas.add(kID_MsgMidGreyRightArrowIcon);
	canvas.add(kID_MsgMidLeftArrowIcon);
	canvas.add(kID_MsgMidRightArrowIcon);
	
	canvas.add(kID_MsgBind1);
	
	
	canvas.add(kID_MsgPostINTxt);
	canvas.add(kID_MsgPostOUTTxt);
	
	//hide with the panel
	canvas.add(kID_MsgPanel);
};

kAddMessagePanel_WithHidingPanel();

function kAddMessagePanel_WithoutHidingPanel()
{
	canvas.add(kID_MsgPanel);
	canvas.add(kID_MsgTopLeftArrowIcon);
	
	canvas.add(kID_MsgRead);
	kID_MsgRead.set({
		fill:'grey'
	});
	canvas.add(kID_MsgWrite);
	
	canvas.add(kID_MsgAll);
	canvas.add(kID_MsgKruti);
	canvas.add(kID_MsgRidhi);
	canvas.add(kID_MsgSahib);
	canvas.add(kID_MsgAnkur);
	
	if(activeuser.toLowerCase() == '' || activeuser.toLowerCase() == 'all')
	{
		kID_MsgAll.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'ridhi')
	{
		kID_MsgRidhi.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'kruti')
	{
		kID_MsgKruti.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'sahib')
	{
		kID_MsgSahib.set({
			fill:'grey'
		});
	}
	else if(activeuser.toLowerCase() == 'ankur')
	{
		kID_MsgAnkur.set({
			fill:'grey'
		});
	}
	
	canvas.add(kID_MsgReadTxt);
	canvas.add(kID_MsgWriteTxt);
	canvas.add(kID_MsgAllTxt);
	canvas.add(kID_MsgKrutiTxt);
	canvas.add(kID_MsgRidhiTxt);
	canvas.add(kID_MsgSahibTxt);
	canvas.add(kID_MsgAnkurTxt);
	
	canvas.add(kID_MsgBind1);
	
	
	getMessagesAsPerUser(activeuser,0);
};


function kRemoveMessagePanel()
{
	canvas.remove(kID_MsgPanel);
	canvas.remove(kID_MsgTopLeftArrowIcon);
	
	canvas.remove(kID_MsgRead);
	canvas.remove(kID_MsgWrite);
	
	canvas.remove(kID_MsgAll);
	canvas.remove(kID_MsgKruti);
	canvas.remove(kID_MsgRidhi);
	canvas.remove(kID_MsgSahib);
	canvas.remove(kID_MsgAnkur);
	
	canvas.remove(kID_MsgPostIN);
	canvas.remove(kID_MsgPostOUT);
	
	canvas.remove(kID_MsgReadTxt);
	canvas.remove(kID_MsgWriteTxt);
	canvas.remove(kID_MsgAllTxt);
	canvas.remove(kID_MsgKrutiTxt);
	canvas.remove(kID_MsgRidhiTxt);
	canvas.remove(kID_MsgSahibTxt);
	canvas.remove(kID_MsgAnkurTxt);
	
	canvas.remove(kID_MsgMidGreyLeftArrowIcon);
	canvas.remove(kID_MsgMidGreyRightArrowIcon);
	canvas.remove(kID_MsgMidLeftArrowIcon);
	canvas.remove(kID_MsgMidRightArrowIcon);
	
	canvas.remove(kID_MsgBind1);
	
	canvas.remove(kID_MsgPostINTxt);
	canvas.remove(kID_MsgPostOUTTxt);
};

function kID_ResetRWMsgIcons(leaveThis)
{
	if(leaveThis != 'read')
	{
		kID_MsgRead.set({
			fill:'white'
		});
	}
	
	if(leaveThis != 'write')
	{
		kID_MsgWrite.set({
			fill:'white'
		});
	}
	
};

function kID_ResetNamesMsgIcons(leaveThis)
{	
	if(leaveThis == '' || leaveThis.toLowerCase() != 'all')
	{
		kID_MsgAllSel = false;
		
		kID_MsgAll.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'kruti')
	{
		kID_MsgKrutiSel = false;
		
		kID_MsgKruti.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'ridhi')
	{
		kID_MsgRidhiSel = false;
		
		kID_MsgRidhi.set({
			fill:'white'
		});
	
	}
	
	if(leaveThis.toLowerCase() != 'sahib')
	{
		kID_MsgSahibSel = false;
		
		kID_MsgSahib.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'ankur')
	{
		kID_MsgAnkurSel = false;
		
		kID_MsgAnkur.set({
			fill:'white'
		});
	}
};

function kID_ResetPostMsgIcons(leaveThis)
{
	if(leaveThis.toLowerCase() != 'postIn')
	{
		kID_IsPostInSel = false;
		
		kID_MsgPostIN.set({
			fill:'white'
		});
	}
	
	if(leaveThis.toLowerCase() != 'postOut')
	{
		kID_IsPostOutSel = false;
		
		kID_MsgPostOUT.set({
			fill:'white'
		});
	}
};

function kID_ResetAllMsgIcons()
{
	
	kID_MsgRead.set({
		fill:'white'
	});
	
	kID_IsWriteMode = false;
		
	kID_MsgWrite.set({
		fill:'white'
	});
	
	kID_MsgAllSel = false;
		
	kID_MsgAll.set({
		fill:'white'
	});
	
	kID_MsgKrutiSel = false;
		
	kID_MsgKruti.set({
		fill:'white'
	});
		
	kID_MsgRidhiSel = false;
		
	kID_MsgRidhi.set({
		fill:'white'
	});
	
	kID_MsgSahibSel = false;
		
	kID_MsgSahib.set({
		fill:'white'
	});

	kID_MsgAnkurSel = false;
		
	kID_MsgAnkur.set({
		fill:'white'
	});
		
	kID_IsPostInSel = false;
		
	kID_MsgPostIN.set({
		fill:'white'
	});
		
	kID_IsPostOutSel = false;
		
	kID_MsgPostOUT.set({
		fill:'white'
	});
	kID_IsPostInSel = false;
		
	kID_MsgPostIN.set({
		fill:'white'
	});
	
	kID_IsPostOutSel = false;
		
	kID_MsgPostOUT.set({
		fill:'white'
	});
}

/**********************************END Message Panel ****************************************************************/

/**************START bind on selected for message icons ***************************************************************/

kID_NoUnreadIcon.on('selected', function() 
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsDoorLocked = true;
	
	kID_CurMsgUser = activeuser;
	kID_IsReadMode = true;
	kID_RightArrowCounter = 0;
	
	kID_ResetAllMsgIcons();
	
	kRemoveMessagePanel();
	kRemoveMenuIcons();
	
	kAddMessagePanel_WithoutHidingPanel();
	
	canvas.deactivateAll(); // deselect everything
});

kID_OneUnreadMessageIcon_Menu.on('selected', function() 
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsDoorLocked = true;
	
	kID_CurMsgUser = activeuser;
	kID_IsReadMode = true;
	kID_RightArrowCounter = 0;
	
	kID_ResetAllMsgIcons();
	
	kRemoveMessagePanel();
	kRemoveMenuIcons();
	
	kAddMessagePanel_WithoutHidingPanel();
	
	canvas.deactivateAll(); // deselect everything
});

kID_MsgTopLeftArrowIcon.on('selected', function() 
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = true;
	
	kRemoveMessagePanel();
	
	kAddMenuPanel1();
	
	canvas.deactivateAll(); // deselect everything
});

kID_MsgRead.on('selected', function() 
{	
	kID_ResetRWMsgIcons('read');
	kID_ResetNamesMsgIcons(activeuser);
	
	if(kID_IsReadMode == false)
	{
		kID_CurMsgUser = activeuser;
		kID_IsReadMode = true;
		kID_IsWriteMode = false;
		
		kID_MsgRead.set({
			fill:'grey'
		});
		
		canvas.remove(kID_MsgPostIN);
		canvas.remove(kID_MsgPostOUT);
		
		canvas.remove(kID_MsgPostINTxt);
		canvas.remove(kID_MsgPostOUTTxt);
		
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.remove(kID_MsgMidRightArrowIcon);
		
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.remove(kID_MsgMidGreyRightArrowIcon);
		
		kID_RightArrowCounter = 0;
		
		getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	
	canvas.deactivateAll(); // deselect everything
});

kID_MsgWrite.on('selected', function() 
{	
	kID_ResetRWMsgIcons('write');
	kID_ResetNamesMsgIcons('none');
	kID_ResetPostMsgIcons('none');
	
	if(kID_IsWriteMode == false)
	{
		kID_IsReadMode = false;
		kID_IsWriteMode = true;
		
		kID_MsgWrite.set({
			fill:'grey'
		});
		
		kID_MsgAll.set({
			fill:'grey'
		});
		
		//canvas.isDrawingMode = true;
		
		canvas.remove(kID_MsgBind1);
		kID_CurMsgUser = 'all';
		
		
		canvas.add(kID_MsgPostIN);
		canvas.add(kID_MsgPostOUT);
		
		canvas.add(kID_MsgPostINTxt);
		canvas.add(kID_MsgPostOUTTxt);
		
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.remove(kID_MsgMidRightArrowIcon);
		
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.remove(kID_MsgMidGreyRightArrowIcon);
	}
	canvas.deactivateAll(); // deselect everything
});

function getMessagesAsPerUser(current,position)
{
	var tempArray = [];
	kCounter = -1;
	
	for(kCounter = kUserMessages.length-1 ; kCounter >= 0; kCounter--)
	{
		if(kUserMessages[kCounter].kName.toLowerCase() == current.toLowerCase())
		{
			tempArray.push(kUserMessages[kCounter].kValue);
		}
	}
	
	if(tempArray.length >= 1)
	{
		document.getElementById("kIDMsgBinding").src= tempArray[position];
	}
	
	for(kCounter = 0 ; kCounter < kUserMessages.length; kCounter++)
	{
		if( kUserMessages[kCounter].kName.toLowerCase() == current.toLowerCase() && kUserMessages[kCounter].kValue == tempArray[position])
		{
			kUserMessages[kCounter].kIsUsed = true;
		}
	}
	
	canvas.remove(kID_MsgBind1);
	
	canvas.add(kID_MsgBind1);
	
	/********* to added only if user has more than two messages ************************/
	if(position >= 0 && tempArray.length-1 > position)
	{
		canvas.remove(kID_MsgMidGreyRightArrowIcon);
		canvas.remove(kID_MsgMidRightArrowIcon);
		canvas.add(kID_MsgMidRightArrowIcon);
	}
	else
	{
		canvas.remove(kID_MsgMidRightArrowIcon);
		canvas.add(kID_MsgMidGreyRightArrowIcon);
	}
	
	if(position == 0)
	{
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.add(kID_MsgMidGreyLeftArrowIcon);
	}
	else
	{
		canvas.remove(kID_MsgMidGreyLeftArrowIcon);
		canvas.remove(kID_MsgMidLeftArrowIcon);
		canvas.add(kID_MsgMidLeftArrowIcon);
	}
	
	canvas.deactivateAll(); // deselect everything
	/***********************************************************************************/
};

function kOnSelectMsgAll()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('all');
	if(kID_MsgAllSel == false)
	{
		kID_CurMsgUser = 'all';
		kID_MsgAllSel = true;
		
		kID_MsgAll.set({
			fill:'grey'
		});
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgAll.on('selected', function() 
{	
	kOnSelectMsgAll();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgAllTxt.on('selected',function(){
	kOnSelectMsgAll();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgKruti()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('kruti');
	if(kID_MsgKrutiSel == false)
	{
		kID_CurMsgUser = 'kruti';
		kID_MsgKrutiSel = true;
		
		kID_MsgKruti.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll();
};

kID_MsgKruti.on('selected', function() 
{	
	kOnSelectMsgKruti();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgKrutiTxt.on('selected', function() 
{	
	kOnSelectMsgKruti();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgRidhi()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('ridhi');
	if(kID_MsgRidhiSel == false)
	{
		kID_CurMsgUser = 'ridhi';
		kID_MsgRidhiSel = true;
		
		kID_MsgRidhi.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgRidhi.on('selected', function() 
{	
	kOnSelectMsgRidhi();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgRidhiTxt.on('selected', function() 
{	
	kOnSelectMsgRidhi();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgSahib()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('sahib');
	if(kID_MsgSahibSel == false)
	{
		kID_CurMsgUser = 'sahib';
		kID_MsgSahibSel = true;
		
		kID_MsgSahib.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgSahib.on('selected', function() 
{	
	kOnSelectMsgSahib();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgSahibTxt.on('selected', function() 
{	
	kOnSelectMsgSahib();
	canvas.deactivateAll(); // deselect everything
});

function kOnSelectMsgAnkur()
{
	kID_RightArrowCounter = 0;
	kID_ResetNamesMsgIcons('ankur');
	if(kID_MsgAnkurSel == false)
	{
		kID_CurMsgUser = 'ankur';
		kID_MsgAnkurSel = true;
		
		kID_MsgAnkur.set({
			fill:'grey'
		});
		
		if(kID_IsReadMode)
			getMessagesAsPerUser(kID_CurMsgUser,0);
	}
	canvas.deactivateAll(); // deselect everything
};

kID_MsgAnkur.on('selected', function() 
{	
	kOnSelectMsgAnkur();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgAnkurTxt.on('selected', function() 
{	
	kOnSelectMsgAnkur();
	canvas.deactivateAll(); // deselect everything
});

kID_MsgMidRightArrowIcon.on('selected', function() 
{	
	kID_RightArrowCounter = kID_RightArrowCounter + 1;
	getMessagesAsPerUser(kID_CurMsgUser,kID_RightArrowCounter);
	canvas.deactivateAll(); // deselect everything
});

kID_MsgMidLeftArrowIcon.on('selected', function() 
{	
	kID_RightArrowCounter = kID_RightArrowCounter - 1;
	getMessagesAsPerUser(kID_CurMsgUser,kID_RightArrowCounter);
	canvas.deactivateAll(); // deselect everything
});

kID_MsgPostIN.on('selected', function() 
{	
	kID_ResetPostMsgIcons('postIn');
	if(kID_IsPostInSel == false)
	{
		kID_IsPostInSel = true;
		
		kID_MsgPostIN.set({
			fill:'grey'
		});
		
		kUserMessages.push((new kCommonFunction(kID_CurMsgUser,"Icons/Kruti/NewMsgPostedIn.png")));
		
	}
	canvas.deactivateAll(); // deselect everything
});

kID_MsgPostOUT.on('selected', function() 
{	
	kID_ResetPostMsgIcons('postOut');
	if(kID_IsPostOutSel == false)
	{
		kID_IsPostOutSel = true;
		
		kID_MsgPostOUT.set({
			fill:'grey'
		});
	}
	canvas.deactivateAll(); // deselect everything
});

/***************END of bind on selected for message icons*************************************************************/


var kCalendarIconInfo = new kInsertImageInfo("kCalendarIcon",document.getElementById('kCalendarIcon'));  
var kID_CalendarIcon = new fabric.Image(kCalendarIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW*2 + 300, 
	top: kID_MenuPanelTop-38 , 
	width: kID_MenuIconW,
	height: kID_MenuIconH
});

var kUnMuteIconInfo = new kInsertImageInfo("kUnMuteIcon",document.getElementById('kUnMuteIcon'));  
var kID_UnMuteIcon = new fabric.Image(kUnMuteIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 60, 
	top: kID_MenuPanelTop + 90 , 
	width: kID_MenuIconW+20,
	height: kID_MenuIconH+25
});

kID_UnMuteIcon.on('selected', function() 
{
	//canvas.remove(kID_MuteIcon_Menu);
	canvas.remove(kID_UnMuteIcon);
	kID_IsBellMuted = true;
	
	canvas.add(kID_MuteIcon_Menu);
	
	canvas.deactivateAll(); // deselect everything
});

//add the mute icon along with unmute - use the same id as used in notification panel
var kID_MuteIcon_Menu = new fabric.Image(kMuteIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 60, 
	top: kID_MenuPanelTop + 90 , 
	width: kID_MenuIconW+20,
	height: kID_MenuIconH+25
});

kID_MuteIcon_Menu.on('selected', function() 
{
	canvas.remove(kID_MuteIcon_Menu);
	//canvas.remove(kID_UnMuteIcon);
	kID_IsBellMuted = false;
	
	canvas.add(kID_UnMuteIcon);
	
	canvas.deactivateAll(); // deselect everything
});

var kSettingsIconInfo = new kInsertImageInfo("kSettingsIcon",document.getElementById('kSettingsIcon'));  
var kID_SettingsIcon = new fabric.Image(kSettingsIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW + 185,
	top: kID_MenuPanelTop + 95, 
	width: kID_MenuIconW+15,
	height: kID_MenuIconH+10
});

var kMirrorIconInfo = new kInsertImageInfo("kMirrorIcon",document.getElementById('kMirrorIcon'));  
var kID_MirrorIcon = new fabric.Image(kMirrorIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW*2 + 300,
	top: kID_MenuPanelTop + 90 , 
	width: kID_MenuIconW,
	height: kID_MenuIconH+10
});

/****************START event binding for mirror icon ***************************/
kID_MirrorIcon.on('selected', function() 
{
	canvas.remove(kID_DoorKnob);
	canvas.remove(kID_MirrorFullIcon);
	
	canvas.add(kID_MirrorFullIcon);
	canvas.add(kID_DoorKnob);
	
	canvas.deactivateAll(); // deselect everything
});

kID_MirrorFullIcon.on('selected', function() 
{
	canvas.remove(kID_MirrorFullIcon);
	canvas.remove(kID_DoorKnob);
	
	canvas.add(kID_DoorKnob);
	
	canvas.deactivateAll(); // deselect everything
});

/****************END event binding for mirror icon ***************************/

var kRightArrowIconInfo = new kInsertImageInfo("kRightArrowIcon",document.getElementById('kRightArrowIcon'));  
var kID_RightArrowIcon = new fabric.Image(kRightArrowIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ kID_IconW*2 + 370,
	top: kID_MenuPanelTop + 50 , 
	width: kID_MenuIconW-20,
	height: kID_MenuIconH-30
});

kID_RightArrowIcon.on('selected', function() 
{
	kRemoveMenuIcons();
	
	kAddMenuPanel2();
	
	canvas.deactivateAll(); // deselect everything
});

/**** add all the menu icons ******/

/******************************************/

function kAddMenuPanel_WithHidingPanel()
{
	canvas.add(kID_CameraIcon);
	canvas.add(kID_NoUnreadIcon);
	canvas.add(kID_OneUnreadMessageIcon_Menu);
	canvas.add(kID_CalendarIcon);
	canvas.add(kID_UnMuteIcon);
	canvas.add(kID_MuteIcon_Menu);
	canvas.add(kID_SettingsIcon);
	canvas.add(kID_MirrorIcon);
	canvas.add(kID_RightArrowIcon);
	canvas.add(kID_MenuPanel);
};

kAddMenuPanel_WithHidingPanel();


/*********************START second set of menu *********************************************************************************************/

// menu rectangle - added for reference
var kID_MenuPanel2 = new fabric.Rect({
  left: kID_MenuPanelLeft,
  top: kID_MenuPanelTop-40,
  fill: 'white',
  width: 554,
  height: 240
});

var kID_Menu2LeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+20, 
	top: kID_MenuPanelTop +60, 
	width: kID_MenuIconW-20,
	height: kID_MenuIconH-30
});

kID_Menu2LeftArrowIcon.on('selected', function() 
{
	kRemoveMenuPanel2();
	
	kAddMenuPanel1();
	
	canvas.deactivateAll(); // deselect everything
});

var kThemeIconInfo = new kInsertImageInfo("kThemeIcon",document.getElementById('kThemeIcon'));  
var kID_ThemeIcon = new fabric.Image(kThemeIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+65, 
	top: kID_MenuPanelTop -32 , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+20
});

kID_ThemeIcon.on('selected',function()
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsDoorLocked = true;
	
	kRemoveMenuPanel2();
	
	//kRemoveThemeWallpapers();
	
	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_OUTIcon);
	
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	canvas.add(kID_ThemeLeftArrowIcon);

	canvas.deactivateAll(); // deselect everything
});

/******************************* start icons for theme panel ******************************************/

var kID_ThemePanelLeft = 30;
var kID_ThemePanelTop = 110;

var kID_ThemePanelIconW = 60;
var kID_ThemePanelIconH = 70;

var kID_ThemePanel = new fabric.Rect({
  left: kID_ThemePanelLeft,
  top: kID_ThemePanelTop-5,
  fill: 'white',
  width: 545,
  height: 335
});

var kThemeWhiteIconInfo = new kInsertImageInfo("kThemeWhiteIcon",document.getElementById('kThemeWhiteIcon'));  
var kID_ThemeWhiteIcon = new fabric.Image(kThemeWhiteIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+65, 
	top: kID_ThemePanelTop + 100 , 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});
var kOThemeWhiteIconInfo = new kInsertImageInfo("kThemeWhiteIcon",document.getElementById('kThemeWhiteIcon'));
var kOD_ThemeWhiteIcon = new fabric.Image(kThemeWhiteIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+65, 
	top: kID_ThemePanelTop + 100 , 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeBabyAnnouncementIconInfo = new kInsertImageInfo("kThemeBabyAnnouncementIcon",document.getElementById('kThemeBabyAnnouncementIcon'));  
var kID_ThemeBabyAnnouncementIcon = new fabric.Image(kThemeBabyAnnouncementIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 100, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeBabyAnnouncementIconInfo = new kInsertImageInfo("kThemeBabyAnnouncementIcon",document.getElementById('kThemeBabyAnnouncementIcon'));  
var kOD_ThemeBabyAnnouncementIcon = new fabric.Image(kThemeBabyAnnouncementIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 100, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeBirthdayIconInfo = new kInsertImageInfo("kThemeBirthdayIcon",document.getElementById('kThemeBirthdayIcon'));  
var kID_ThemeBirthdayIcon = new fabric.Image(kThemeBirthdayIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 100, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeBirthdayIconInfo = new kInsertImageInfo("kThemeBirthdayIcon",document.getElementById('kThemeBirthdayIcon'));
var kOD_ThemeBirthdayIcon = new fabric.Image(kThemeBirthdayIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 100,
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeChristmasTreeIconInfo = new kInsertImageInfo("kThemeChristmasTreeIcon",document.getElementById('kThemeChristmasTreeIcon'));  
var kID_ThemeChristmasTreeIcon = new fabric.Image(kThemeChristmasTreeIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeChristmasTreeIconInfo = new kInsertImageInfo("kThemeChristmasTreeIcon",document.getElementById('kThemeChristmasTreeIcon'));  
var kOD_ThemeChristmasTreeIcon = new fabric.Image(kThemeChristmasTreeIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kThemeDoorDesignIconInfo = new kInsertImageInfo("kThemeDoorDesignIcon",document.getElementById('kThemeDoorDesignIcon'));  
var kID_ThemeDoorDesignIcon = new fabric.Image(kThemeDoorDesignIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeDoorDesignIconInfo = new kInsertImageInfo("kThemeDoorDesignIcon",document.getElementById('kThemeDoorDesignIcon')); 
var kOD_ThemeDoorDesignIcon = new fabric.Image(kThemeDoorDesignIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 245, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});


var kThemeHalloweenIconInfo = new kInsertImageInfo("kThemeHalloweenIcon",document.getElementById('kThemeHalloweenIcon'));  
var kID_ThemeHalloweenIcon = new fabric.Image(kThemeHalloweenIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 220, 
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kOThemeHalloweenIconInfo = new kInsertImageInfo("kThemeHalloweenIcon",document.getElementById('kThemeHalloweenIcon')); 
var kOD_ThemeHalloweenIcon = new fabric.Image(kThemeHalloweenIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 420, 
	top: kID_ThemePanelTop + 220,
	width: kID_ThemePanelIconW,
	height: kID_ThemePanelIconH
});

var kID_ThemeLeftArrowIcon = new fabric.Image(kLeftArrowIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+5, 
	top: kID_ThemePanelTop +175, 
	width: kID_MenuIconW-20,
	height: kID_MenuIconH-30
});

var kINIconInfo = new kInsertImageInfo("kINIcon",document.getElementById('kINIcon'));  
var kID_INIcon = new fabric.Image(kINIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop, 
	width: kID_ThemePanelIconW+155,
	height: kID_ThemePanelIconH-20
});


var kOUTIconInfo = new kInsertImageInfo("kOUTIcon",document.getElementById('kOUTIcon'));  
var kID_OUTIcon = new fabric.Image(kOUTIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 275, 
	top: kID_ThemePanelTop, 
	width: kID_ThemePanelIconW+153,
	height: kID_ThemePanelIconH-20
});

var kSelectedINIconInfo = new kInsertImageInfo("kSelectedINIcon",document.getElementById('kSelectedINIcon'));  
var kID_SelectedINIcon = new fabric.Image(kSelectedINIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 65, 
	top: kID_ThemePanelTop , 
	width: kID_ThemePanelIconW+155,
	height: kID_ThemePanelIconH-20
});


var kSelectedOUTIconInfo = new kInsertImageInfo("kSelectedOUTIcon",document.getElementById('kSelectedOUTIcon'));  
var kID_SelectedOUTIcon = new fabric.Image(kSelectedOUTIconInfo.kImageElement, {
	left: kID_ThemePanelLeft+ 275, 
	top: kID_ThemePanelTop, 
	width: kID_ThemePanelIconW+153,
	height: kID_ThemePanelIconH-20
});


kID_ThemeLeftArrowIcon.on('selected', function() 
{
	kID_IsMenuOpen = true;
	
	kRemoveThemePanel();
	
	kAddMenuPanel2();
	
	canvas.deactivateAll(); // deselect everything
});

/******************* selected event for all theme icons for inside door************************************/

kID_ThemeWhiteIcon.on('selected', function() 
{
	kThemeWhiteIconInfo.kIsUsed = true;
	
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeBabyAnnouncementIcon.on('selected', function() 
{
	kThemeBabyAnnouncementIconInfo.kIsUsed = true;
	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeBirthdayIcon.on('selected', function() 
{
	kThemeBirthdayIconInfo.kIsUsed = true;
	
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeChristmasTreeIcon.on('selected', function() 
{
	kThemeChristmasTreeIconInfo.kIsUsed = true;
	
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeDoorDesignIconInfo.kIsUsed = false;
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeDoorDesignIcon.on('selected', function() 
{
	kThemeDoorDesignIconInfo.kIsUsed = true;
	
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeHalloweenIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kID_ThemeHalloweenIcon.on('selected', function() 
{
	kThemeHalloweenIconInfo.kIsUsed = true;
	
	kThemeChristmasTreeIconInfo.kIsUsed = false;
	kThemeBirthdayIconInfo.kIsUsed = false;
	kThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kThemeWhiteIconInfo.kIsUsed = false;	
	kThemeDoorDesignIconInfo.kIsUsed = false;
	
	kID_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

/*********************************************************************************************************************************************/

/*******************************************theme icons for outside door*********************************************************/

kOD_ThemeWhiteIcon.on('selected', function() 
{
	kOThemeWhiteIconInfo.kIsUsed = true;
	
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeBabyAnnouncementIcon.on('selected', function() 
{
	kOThemeBabyAnnouncementIconInfo.kIsUsed = true;
	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeBirthdayIcon.on('selected', function() 
{
	kOThemeBirthdayIconInfo.kIsUsed = true;
	
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeChristmasTreeIcon.on('selected', function() 
{
	kOThemeChristmasTreeIconInfo.kIsUsed = true;
	
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeDoorDesignIcon.on('selected', function() 
{
	kOThemeDoorDesignIconInfo.kIsUsed = true;
	
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeHalloweenIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	canvas.deactivateAll(); // deselect everything
});

kOD_ThemeHalloweenIcon.on('selected', function() 
{
	kOThemeHalloweenIconInfo.kIsUsed = true;
	
	kOThemeChristmasTreeIconInfo.kIsUsed = false;
	kOThemeBirthdayIconInfo.kIsUsed = false;
	kOThemeBabyAnnouncementIconInfo.kIsUsed = false;	
	kOThemeWhiteIconInfo.kIsUsed = false;	
	kOThemeDoorDesignIconInfo.kIsUsed = false;
	
	kOD_ApplyTheme();
	
	
	canvas.deactivateAll(); // deselect everything
});

/**********************************************************************************************************************************/

/**********************************************************************************************************************************/

function kID_ApplyTheme()
{
	/*************** remove all exising icons ******************/
	
	canvas.remove(kID_ThemePanel);
	
	canvas.remove(kID_ThemeBabyAnnouncementIcon);
	canvas.remove(kID_ThemeBirthdayIcon);
	canvas.remove(kID_ThemeChristmasTreeIcon);
	canvas.remove(kID_ThemeDoorDesignIcon);
	canvas.remove(kID_ThemeHalloweenIcon);
	canvas.remove(kID_ThemeWhiteIcon);
	
	canvas.remove(kID_ThemeBabyAnnouncement);
	canvas.remove(kID_ThemeBirthday);
	canvas.remove(kID_ThemeChristmasTree);
	canvas.remove(kID_ThemeDoorDesign);
	canvas.remove(kID_ThemeHalloween);
	canvas.remove(kID_ThemeHalloween);
	
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	canvas.remove(kID_INIcon);
	canvas.remove(kID_OUTIcon);
	
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_SelectedOUTIcon);
	
	canvas.remove(kID_HeaderPanel);
	
	//main menu strip 
	canvas.remove(kID_MainPanel);

	//sos => 
	canvas.remove(kID_SOSIcon);

	//menu icon => 
	canvas.remove(kID_MenuIcon);

	//door knob => 
	canvas.remove(kID_DoorKnob);

	//date => 
	canvas.remove(kID_DateText);

	//time => 
	canvas.remove(kID_TimeText);

	//temperature => 
	canvas.remove(kID_WeatherTemp);

	//cloud => 
	canvas.remove(kID_CurrentCloudIcon);
	



	/***********************************************************/
	if(kThemeHalloweenIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeHalloween);
		
		kID_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kID_ThemeApplied = true;
	}
	else if(kThemeChristmasTreeIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeChristmasTree);
		
		kID_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else if (kThemeBirthdayIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeBirthday);
		
		kID_SelThemeIcon = kThemeBirthdayIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else if(kThemeBabyAnnouncementIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeBabyAnnouncement);
		
		kID_SelThemeIcon = kThemeBabyAnnouncementIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else if(kThemeDoorDesignIconInfo.kIsUsed)
	{
		canvas.add(kID_ThemeDoorDesign);
		
		kID_SelThemeIcon = kThemeDoorDesignIconInfo.kImageElement;
		kID_ThemeApplied = true;
		
	}
	else
	{
		kID_SelThemeIcon = '';
		kID_ThemeApplied = false;
	}
	
	/********************* add back all the items on the door *******************/
	/*************** remove all exising icons ******************/
	kID_AddIcons_AfterTheme();
	
	kAddThemePanelIcons_WithoutHidingPanel();

	/***********************************************************/
	/****************************************************************************/
};

function kOD_ApplyTheme()
{
	/*************** remove all exising icons ******************/
	canvas.remove(kID_INIcon);
	canvas.remove(kID_OUTIcon);
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_SelectedOUTIcon);
	
	canvas.remove(kOD_TimeText);
	canvas.remove(kOD_DateText);
	canvas.remove(sNumberPlateText);
	canvas.remove(sNamePlate);
	canvas.remove(sDeliverPackageText2);
	canvas.remove(sDeliverPackageText1);
	canvas.remove(simgInstance4);
	canvas.remove(sWriteMessageText2);
	canvas.remove(sWriteMessageText1);
	canvas.remove(simgInstance3);
	canvas.remove(simgInstance2);
	canvas.remove(sFingerPrintInner);
	canvas.remove(sFingerPrintOuter);
	canvas.remove(simgInstance1);
	canvas.remove(sOD_DoorKnob);
	canvas.remove(sID_MainPanel);
	
	canvas.remove(kID_ThemePanel);
	
	canvas.remove(kOD_ThemeBabyAnnouncement);
	canvas.remove(kOD_ThemeBirthday);
	canvas.remove(kOD_ThemeChristmasTree);
	canvas.remove(kOD_ThemeDoorDesign);
	canvas.remove(kOD_ThemeHalloween);
	canvas.remove(kOD_ThemeHalloween);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	
	canvas.remove(kOD_ThemeBabyAnnouncementIcon);
	canvas.remove(kOD_ThemeBirthdayIcon);
	canvas.remove(kOD_ThemeChristmasTreeIcon);
	canvas.remove(kOD_ThemeDoorDesignIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);

	/***********************************************************/
	if(kOThemeHalloweenIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeHalloween);
		
		kOD_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kOD_ThemeApplied = true;
	}
	else if(kOThemeChristmasTreeIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeChristmasTree);
		
		kOD_SelThemeIcon = kThemeHalloweenIconInfo.kImageElement;
		kOD_ThemeApplied = true;
	}
	else if (kOThemeBirthdayIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeBirthday);
		
		kOD_SelThemeIcon = kThemeBirthdayIconInfo.kImageElement;
		kOD_ThemeApplied = true;
		
	}
	else if(kOThemeBabyAnnouncementIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeBabyAnnouncement);
		
		kOD_SelThemeIcon = kThemeBabyAnnouncementIconInfo.kImageElement;
		kOD_ThemeApplied = true;
		
	}
	else if(kOThemeDoorDesignIconInfo.kIsUsed)
	{
		canvas.add(kOD_ThemeDoorDesign);
		
		kOD_SelThemeIcon = kThemeDoorDesignIconInfo.kImageElement;
		kOD_ThemeApplied = true;
		
	}
	else
	{
		kOD_SelThemeIcon = '';
		kOD_ThemeApplied = false;
	}
	
	/********************* add back all the items on the door *******************/
	/*************** remove all exising icons ******************/
	kOD_AddIcons_AfterTheme();
	
	kOAddThemePanelIcons_WithoutHidingPanel();

	/***********************************************************/
	/****************************************************************************/
};

kID_INIcon.on('selected', function() 
{
	/************* remove all icons for inside door ********************************/
	canvas.remove(kID_SelectedOUTIcon);
	canvas.remove(kID_INIcon);
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_OUTIcon);
	
	canvas.remove(kID_ThemePanel);
	canvas.remove(kOD_ThemeWhiteIcon);
	canvas.remove(kOD_ThemeBabyAnnouncementIcon);
	canvas.remove(kOD_ThemeBirthdayIcon);
	canvas.remove(kOD_ThemeChristmasTreeIcon);
	canvas.remove(kOD_ThemeDoorDesignIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	
	/*******************************************************************************/

	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_OUTIcon);
	
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_SelectedINIcon.on('selected', function() 
{
	
	canvas.deactivateAll(); // deselect everything
});

kID_OUTIcon.on('selected', function() 
{
	/************* remove all icons for inside door ********************************/
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_OUTIcon);
	canvas.remove(kID_SelectedOUTIcon);
	canvas.remove(kID_INIcon);
	
	canvas.remove(kID_ThemePanel);
	canvas.remove(kID_ThemeWhiteIcon);
	canvas.remove(kID_ThemeBabyAnnouncementIcon);
	canvas.remove(kID_ThemeBirthdayIcon);
	canvas.remove(kID_ThemeChristmasTreeIcon);
	canvas.remove(kID_ThemeDoorDesignIcon);
	canvas.remove(kID_ThemeHalloweenIcon);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	/*******************************************************************************/
	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_SelectedOUTIcon);
	canvas.add(kID_INIcon);
	
	
	canvas.add(kOD_ThemeWhiteIcon);
	canvas.add(kOD_ThemeBabyAnnouncementIcon);
	canvas.add(kOD_ThemeBirthdayIcon);
	canvas.add(kOD_ThemeChristmasTreeIcon);
	canvas.add(kOD_ThemeDoorDesignIcon);
	canvas.add(kOD_ThemeHalloweenIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	canvas.deactivateAll(); // deselect everything
});

kID_SelectedOUTIcon.on('selected', function() 
{
	
	canvas.deactivateAll(); // deselect everything
});

/*******************************************************************************************/
function kOD_AddIcons_AfterTheme()
{
	canvas.add(kOD_TimeText);
	canvas.add(kOD_DateText);
	canvas.add(sNamePlate);
	canvas.add(sNumberPlateText);
	canvas.add(sID_MainPanel);
	canvas.add(sDeliverPackageText2);
	canvas.add(sDeliverPackageText1);
	
	canvas.add(simgInstance1);
	canvas.add(simgInstance2);
	canvas.add(simgInstance3);
	canvas.add(simgInstance4);
	
	canvas.add(sWriteMessageText1);
	canvas.add(sWriteMessageText2);
	
	canvas.add(sFingerPrintOuter);
	canvas.add(sFingerPrintInner);
	
	canvas.add(sOD_DoorKnob);
};

function kID_AddIcons_AfterTheme()
{
	canvas.add(kID_HeaderPanel);
	
	//main menu strip 
	canvas.add(kID_MainPanel);

	//sos => 
	canvas.add(kID_SOSIcon);

	//menu icon => 
	canvas.add(kID_MenuIcon);

	//door knob => 
	canvas.add(kID_DoorKnob);
	
	kID_Refresh_DateTime();

	//temperature => 
	canvas.add(kID_WeatherTemp);

	//cloud => 
	canvas.add(kID_CurrentCloudIcon);
};

function kAddThemePanelIcons_WithHidingPanel()
{
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	
	canvas.add(kOD_ThemeWhiteIcon);
	canvas.add(kOD_ThemeBabyAnnouncementIcon);
	canvas.add(kOD_ThemeBirthdayIcon);
	canvas.add(kOD_ThemeChristmasTreeIcon);
	canvas.add(kOD_ThemeDoorDesignIcon);
	canvas.add(kOD_ThemeHalloweenIcon);
	
	
	canvas.add(kID_INIcon);
	canvas.add(kID_OUTIcon);
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_SelectedOUTIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	canvas.add(kID_ThemePanel);
	
	/*****************************************************************************************************************/
};

kAddThemePanelIcons_WithHidingPanel();

function kRemoveThemePanel()
{
	canvas.remove(kID_ThemePanel);
	
	canvas.remove(kID_ThemeBabyAnnouncementIcon);
	canvas.remove(kID_ThemeBirthdayIcon);
	canvas.remove(kID_ThemeChristmasTreeIcon);
	canvas.remove(kID_ThemeDoorDesignIcon);
	canvas.remove(kID_ThemeHalloweenIcon);
	canvas.remove(kID_ThemeWhiteIcon);
	
	canvas.remove(kID_ThemeLeftArrowIcon);
	
	canvas.remove(kID_INIcon);
	canvas.remove(kID_OUTIcon);
	canvas.remove(kID_SelectedINIcon);
	canvas.remove(kID_SelectedOUTIcon);
	
	canvas.remove(kOD_ThemeBabyAnnouncementIcon);
	canvas.remove(kOD_ThemeBirthdayIcon);
	canvas.remove(kOD_ThemeChristmasTreeIcon);
	canvas.remove(kOD_ThemeDoorDesignIcon);
	canvas.remove(kOD_ThemeHalloweenIcon);
	canvas.remove(kOD_ThemeWhiteIcon);
	
};

function kAddThemePanelIcons_WithoutHidingPanel()
{
	canvas.add(kID_ThemePanel);
	
	canvas.add(kID_ThemeWhiteIcon);
	canvas.add(kID_ThemeBabyAnnouncementIcon);
	canvas.add(kID_ThemeBirthdayIcon);
	canvas.add(kID_ThemeChristmasTreeIcon);
	canvas.add(kID_ThemeDoorDesignIcon);
	canvas.add(kID_ThemeHalloweenIcon);
	
	canvas.add(kID_SelectedINIcon);
	canvas.add(kID_OUTIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	kID_ThemeHalloweenIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeBabyAnnouncementIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeBirthdayIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeChristmasTreeIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeDoorDesignIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kID_ThemeWhiteIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	/*** remove all the hightlights and then set the hightlight as per the selected theme ****************************/
	if(kThemeHalloweenIconInfo.kIsUsed)
	{
		kID_ThemeHalloweenIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if(kThemeChristmasTreeIconInfo.kIsUsed)
	{
		kID_ThemeChristmasTreeIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if (kThemeBirthdayIconInfo.kIsUsed)
	{
		kID_ThemeBirthdayIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if(kThemeBabyAnnouncementIconInfo.kIsUsed)
	{	
		kID_ThemeBabyAnnouncementIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if(kThemeDoorDesignIconInfo.kIsUsed)
	{
		kID_ThemeDoorDesignIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});	
	}
	else
	{
		kID_ThemeWhiteIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	
};

function kOAddThemePanelIcons_WithoutHidingPanel()
{	
	canvas.add(kID_ThemePanel);
	
	canvas.add(kOD_ThemeWhiteIcon);
	canvas.add(kOD_ThemeBabyAnnouncementIcon);
	canvas.add(kOD_ThemeBirthdayIcon);
	canvas.add(kOD_ThemeChristmasTreeIcon);
	canvas.add(kOD_ThemeDoorDesignIcon);
	canvas.add(kOD_ThemeHalloweenIcon);
	
	canvas.add(kID_SelectedOUTIcon);
	canvas.add(kID_INIcon);
	
	canvas.add(kID_ThemeLeftArrowIcon);
	
	
	kOD_ThemeHalloweenIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeBabyAnnouncementIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeBirthdayIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeChristmasTreeIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeDoorDesignIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	kOD_ThemeWhiteIcon.set(
	{
		stroke: kStrokeColor,
		strokeWidth : kStrokeWidth0,
	});
	
	/*** remove all the hightlights and then set the hightlight as per the selected theme ****************************/
	if(kOThemeHalloweenIconInfo.kIsUsed)
	{
		kOD_ThemeHalloweenIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	else if(kOThemeChristmasTreeIconInfo.kIsUsed)
	{
		kOD_ThemeChristmasTreeIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if (kOThemeBirthdayIconInfo.kIsUsed)
	{
	
		kOD_ThemeBirthdayIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if(kOThemeBabyAnnouncementIconInfo.kIsUsed)
	{	
		kOD_ThemeBabyAnnouncementIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
		
	}
	else if(kOThemeDoorDesignIconInfo.kIsUsed)
	{
		kOD_ThemeDoorDesignIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});	
	}
	else
	{
		kOD_ThemeWhiteIcon.set(
		{
			stroke: kStrokeColor,
			strokeWidth : kStrokeWidth10,
		});
	}
	
};


/******************************* end icons for theme panel ******************************************/


var kToDoListIconInfo = new kInsertImageInfo("kToDoListIcon",document.getElementById('kToDoListIcon'));  
var kID_ToDoListIcon = new fabric.Image(kToDoListIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 245, 
	top: kID_MenuPanelTop-20  , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH
});


var kHouseAlarmIconInfo = new kInsertImageInfo("kHouseAlarmIcon",document.getElementById('kHouseAlarmIcon'));  
var kID_HouseAlarmIcon = new fabric.Image(kHouseAlarmIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 420, 
	top: kID_MenuPanelTop-30, 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+20
});



var kHelpIconInfo = new kInsertImageInfo("kHelpIcon",document.getElementById('kHelpIcon'));  
var kID_HelpIcon = new fabric.Image(kHelpIconInfo.kImageElement, {
	left: kID_MenuPanelLeft+ 65, 
	top: kID_MenuPanelTop + 105 , 
	width: kID_MenuIconW+10,
	height: kID_MenuIconH+10
});

function kAddMenuPanel2_WithHidingPanel()
{
	canvas.add(kID_Menu2LeftArrowIcon);
	canvas.add(kID_ThemeIcon);
	canvas.add(kID_ToDoListIcon);
	canvas.add(kID_HouseAlarmIcon);
	canvas.add(kID_HelpIcon);
	canvas.add(kID_MenuPanel2);
};

function kAddMenuPanel2()
{
	canvas.add(kID_MenuPanel2);
	canvas.add(kID_Menu2LeftArrowIcon);
	canvas.add(kID_ThemeIcon);
	canvas.add(kID_ToDoListIcon);
	canvas.add(kID_HouseAlarmIcon);
	canvas.add(kID_HelpIcon);
};

function kAddMenuPanel1()
{
	canvas.add(kID_MenuPanel);
	canvas.add(kID_CameraIcon);
		
	/***** condition check will be required - if there are unread messages then other icon needs to be added ****/
	kID_AnyUnReadMsg = false;
	for(kCounter = 0 ; kCounter < kUserMessages.length; kCounter++)
	{
		if( kUserMessages[kCounter].kName.toLowerCase() == activeuser.toLowerCase() && kUserMessages[kCounter].kIsUsed == false)
		{
			kID_AnyUnReadMsg = true;
			break;
		}
	}
		
	if(kID_AnyUnReadMsg == false)
		canvas.add(kID_NoUnreadIcon);
	else if(kID_AnyUnReadMsg == true)
		canvas.add(kID_OneUnreadMessageIcon_Menu);
		
	canvas.add(kID_CalendarIcon);
		
	/***** condition check will be required - if there are bell is already in mute state ****/
	if(kID_IsBellMuted)
	{
		canvas.add(kID_MuteIcon_Menu);
	}
	else
	{
		canvas.add(kID_UnMuteIcon);
	}
		
	canvas.add(kID_SettingsIcon);
	canvas.add(kID_MirrorIcon);
	canvas.add(kID_RightArrowIcon);
}

function kRemoveMenuPanel2()
{
	canvas.remove(kID_Menu2LeftArrowIcon);
	canvas.remove(kID_ThemeIcon);
	canvas.remove(kID_ToDoListIcon);
	canvas.remove(kID_HouseAlarmIcon);
	canvas.remove(kID_HelpIcon);
	canvas.remove(kID_MenuPanel2);
}


kAddMenuPanel2_WithHidingPanel()

/********************* END second set of menu *********************************************************************************************/

/**************************** code for menu icons end *************************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/***************************** code for lock unlock icons start ***********************************/

var kID_LUIconW = 60;
var kID_LUIconH = 70;

var kID_LockUnlcokPanelLeft = 23;
var kID_LockUnlcokPanelTop = 250;


// lock panel rectangle - added only for reference
var kID_LockUnlcokPanel = new fabric.Rect({
  left: kID_LockUnlcokPanelLeft,
  top: kID_LockUnlcokPanelTop,
  fill: 'white',
  width: 554,
  height: 100
});
//canvas.add(kID_LockUnlcokPanel);

var kUnLockIconInfo = new kInsertImageInfo("kUnLockIcon",document.getElementById('kUnLockIcon'));  
var kID_UnLockIcon = new fabric.Image(kUnLockIconInfo.kImageElement, {
	left: kID_LockUnlcokPanelLeft+245, 
	top: kID_LockUnlcokPanelTop, 
	width: kID_LUIconW+10,
	height: kID_LUIconH+20
});

var kLockIconInfo = new kInsertImageInfo("kLockIcon",document.getElementById('kLockIcon'));  
var kID_LockIcon = new fabric.Image(kLockIconInfo.kImageElement, {
	left: kID_LockUnlcokPanelLeft+245, 
	top: kID_LockUnlcokPanelTop, 
	width: kID_LUIconW+10,
	height: kID_LUIconH+20
});


/**** add all the lock unlock panel icons ******/
canvas.add(kID_UnLockIcon);

//hide the unlock panel with the rectangle panel
canvas.add(kID_LockUnlcokPanel);

//canvas.add(kID_LockIcon) => this icon must come on the start of the application if tutorial and registering users is finished. Added a the end of code


/*********************************************/

// select event for unlock icon - the door is in unlocked state - when user clicks on unlock - it locks the door - show lock icon
kID_UnLockIcon.on('selected', function() 
{
	kID_IsDoorLocked = true;
	
	canvas.remove(kID_UnLockIcon);
	
	canvas.add(kID_LockIcon);
	
	canvas.deactivateAll(); // deselect everything
});

// select event for lock icon - the door is in locked state - when user clicks on lock - it unlocks the door - show unlock icon
kID_LockIcon.on('selected', function() 
{
	//avoid double adding of unlock icon - it is already added once - onloading the page - so remove it and then add it.
	canvas.remove(kID_UnLockIcon);
	canvas.remove(kID_LockUnlcokPanel);
	kID_IsDoorLocked = false;
	
	canvas.add(kID_UnLockIcon);
	
	canvas.remove(kID_LockIcon);
	
	canvas.deactivateAll(); // deselect everything
});


/***************************** code for lock unlock icons end ***********************************/

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/****************** code for main menu strip for inside door start *******************************/
var kID_MainIconW = 60;
var kID_MainIconH = 70;

var kID_MainPanelLeft = 22;
var kID_MainPanelTop = 475;
  
var kID_MainPanel = new fabric.Rect({
	left: kID_MainPanelLeft,
	top: kID_MainPanelTop,
	fill: 'grey',
	strokeWidth: 5,
	stroke: 'rgba(0,0,0,20)',
	width: 552,
	height: 100
});

canvas.add(kID_MainPanel);

var kSOSIconInfo = new kInsertImageInfo("kSOSIcon",document.getElementById('kSOSIcon'));  
var kID_SOSIcon = new fabric.Image(kSOSIconInfo.kImageElement, {
	left: kID_MainPanelLeft+60, 
	top: kID_MainPanelTop +8 , 
	top: kID_MainPanelTop +18 , //100,
	width: kID_MainIconW+18,
	height: kID_MainIconH
});

canvas.add(kID_SOSIcon);

/*** START - icons related to SOS Screens ****/

var kID_SOSIconW = 60;
var kID_SOSIconH = 70;

var kID_SOSPanelLeft = 23;
var kID_SOSPanelTop = 250;

var kID_SOSPanel = new fabric.Rect({
	left: kID_SOSPanelLeft,
	top: kID_SOSPanelTop,
	fill: 'white',
	width: 554,
	height: 200
});
//canvas.add(kID_SOSPanel);

//calling 911 text
var kID_Calling911 = new fabric.Text('Calling 911....',{
	left: kID_SOSPanelLeft+175, //1635,
	top: kID_SOSPanelTop +20, //100,
	fontSize: kID_FontSize + 15,
	fontWeight:'bold',
	fontFamily: kID_Font
});


var kID_Disconnecting911 = new fabric.Text('Disconnecting 911...',{
	left: kID_SOSPanelLeft+120, //1635,
	top: kID_SOSPanelTop +20, //100,
	fontSize: kID_FontSize + 15,
	fontWeight:'bold',
	fontFamily: kID_Font
});


// use unmute icon id as is
var kID_SOS_UnMuteIcon	= new fabric.Image(kUnMuteIconInfo.kImageElement, {
	left: kID_SOSPanelLeft+150, //1635,
	top: kID_SOSPanelTop + 100, //100,
	width: kID_SOSIconW+20,
	height: kID_SOSIconH-5
});


//add the unmute icon - for future when user clicks on unmute icon in SOS panel
var kID_SOS_MuteIcon = new fabric.Image(kMuteIconInfo.kImageElement, {
	left: kID_SOSPanelLeft+150, 
	top: kID_SOSPanelTop+100, 
	width: kID_SOSIconW+20,
	height: kID_SOSIconH-5
});


var kCallDisconnectIconInfo = new kInsertImageInfo("kCallDisconnectIcon",document.getElementById('kCallDisconnectIcon')); 
var kID_SOS_CallDisconnectIcon = new fabric.Image(kCallDisconnectIconInfo.kImageElement, {
	left: kID_SOSPanelLeft+320, //1635,
	top: kID_SOSPanelTop +100, //100,
	width: kID_SOSIconW+20,
	height: kID_SOSIconH-12
});

/*********** add all the icons of SOS panel ***************/
function kAddSOSPanel_WithHidingPanel()
{
	canvas.add(kID_Calling911);
	canvas.add(kID_Disconnecting911);
	canvas.add(kID_SOS_UnMuteIcon);
	canvas.add(kID_SOS_MuteIcon);
	canvas.add(kID_SOS_CallDisconnectIcon);
	
	//hide all the icons for sos
	canvas.add(kID_SOSPanel);
};

kAddSOSPanel_WithHidingPanel();
/**********************************************************/

/*** END - icons related to SOS Screens ****/
  
var kMenuIconInfo = new kInsertImageInfo("kMenuIcon",document.getElementById('kMenuIcon'));  
var kID_MenuIcon = new fabric.Image(kMenuIconInfo.kImageElement, {
	left: kID_MainPanelLeft+245, 
	top: kID_MainPanelTop +5  , 
	width: kID_MainIconW+10,
	height: kID_MainIconH+25
});

canvas.add(kID_MenuIcon);


var kID_DoorKnob = new fabric.Circle({
	left: kID_MainPanelLeft+420,
	top: kID_MainPanelTop+16,
	fill: 'white',
    strokeWidth: 5,
    stroke: 'rgba(0,0,0,20)',
	radius: kID_MainIconW-26
});

canvas.add(kID_DoorKnob);

// bind select event for SOS - panel should appear - calling 911.
kID_SOSIcon.on('selected', function() 
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsDoorLocked = true;
	kID_IsAvatarShown = false;
	kID_IsMicrophoneMute = false;
/*************************************** Remove all icons - menu + lock + sos ****************************/
	/********* lock panel removal ***********/
	kRemoveLockUnlockIconPanel();
	/********* lock panel removal ***********/
	
	/******** menu icons removal *************/
	kRemoveMenuIcons();
	kRemoveMenuPanel2();
	
	/******** menu icons removal *************/
	
	/********* remove all the sos related icons ***********/
	kRemoveSOSPanel();
	/********* remove all the sos related icons ***********/
	
	/****************camera panel icons removal *****************************************************************/
	kRemoveCameraPanel();
	/************************************************************************************************************/
	
	/********** remove theme panel icons **************/
	kRemoveThemePanel();
	/************************************************/
	/*** outside camera images removal ******/
	kRemoveCameraPanel_WithHidingPanel_OD();
	
	/***************************************/
	
	/************ message panel **********************/
	kRemoveMessagePanel();
	/*************************************************/
	
/*************************************** Remove all icons - menu + lock + sos ****************************/
	//now add all the icons again
	canvas.add(kID_SOSPanel);
	canvas.add(kID_Calling911);
	canvas.add(kID_SOS_UnMuteIcon);
	canvas.add(kID_SOS_CallDisconnectIcon);

	canvas.deactivateAll(); // deselect everything
});

//select event for SOS - UnMuteIcon
kID_SOS_UnMuteIcon.on('selected', function()
{
	canvas.add(kID_SOS_MuteIcon);
	canvas.remove(kID_SOS_UnMuteIcon);

	canvas.deactivateAll(); // deselect everything
});

//select event for SOS - UnMuteIcon
kID_SOS_MuteIcon.on('selected', function()
{
	canvas.add(kID_SOS_UnMuteIcon);
	canvas.remove(kID_SOS_MuteIcon);

	canvas.deactivateAll(); // deselect everything
});

function kID_Remove_Disconnecting911()
{
	if(kID_SOS_CallDisconnectIcon.kIsUsed)
	{
		kID_SOS_CallDisconnectIcon.kIsUsed = false;
		canvas.remove(kID_SOSPanel);
		if(kID_IsDoorLocked)
		{
			canvas.add(kID_LockIcon);
		}
		else
		{
			canvas.add(kID_UnLockIcon);
		}
		canvas.remove(kID_Disconnecting911);
	}
};

kID_SOS_CallDisconnectIcon.on('selected', function()
{
	canvas.add(kID_Disconnecting911);
	kID_SOS_CallDisconnectIcon.kIsUsed = true;
	
	canvas.remove(kID_Calling911);
	canvas.remove(kID_SOS_UnMuteIcon);
	canvas.remove(kID_SOS_CallDisconnectIcon);
	canvas.remove(kID_SOS_MuteIcon);
	
	canvas.deactivateAll(); // deselect everything
});

setInterval(kID_Remove_Disconnecting911, 5000);

function kRemoveNotificationPanel()
{
	canvas.remove(kID_NotificationPanel);
	canvas.remove(kID_MuteIcon);
	canvas.remove(kID_OneUnreadMessageIcon);
	canvas.remove(kID_DeliveryIcon);
	canvas.remove(kID_AlertIcon);
};

function kRemoveLockUnlockIconPanel()
{
	canvas.remove(kID_LockUnlcokPanel);
	canvas.remove(kID_LockIcon);
	canvas.remove(kID_UnLockIcon);
};

function kRemoveSOSPanel()
{
	canvas.remove(kID_SOSPanel);
	canvas.remove(kID_Calling911);
	canvas.remove(kID_Disconnecting911);
	canvas.remove(kID_SOS_UnMuteIcon);
	canvas.remove(kID_SOS_MuteIcon);
	canvas.remove(kID_SOS_CallDisconnectIcon);
};

function kRemoveMenuIcons()
{
	canvas.remove(kID_MenuPanel);
	canvas.remove(kID_CameraIcon);
	canvas.remove(kID_NoUnreadIcon);
	canvas.remove(kID_OneUnreadMessageIcon_Menu);
	canvas.remove(kID_CalendarIcon);
	canvas.remove(kID_UnMuteIcon);
	canvas.remove(kID_MuteIcon_Menu);
	canvas.remove(kID_SettingsIcon);
	canvas.remove(kID_MirrorIcon);
	canvas.remove(kID_RightArrowIcon);
};

function kRemoveCameraPanel()
{
	canvas.remove(kID_CameraLeftArrowIcon);
	canvas.remove(kID_OutsideGuestImageIcon1);
	canvas.remove(kID_FOutsideGuestImageIcon1);
	canvas.remove(kID_OutsideGuestImageIcon2);
	canvas.remove(kID_FOutsideGuestImageIcon2);
	canvas.remove(kID_CorridorViewIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_EscapeFullScreenCameraIcon);
	canvas.remove(kID_FullScreenCameraIcon);
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.remove(kID_MicrophoneOnIcon);
	canvas.remove(kID_MicrophoneOffIcon);
	canvas.remove(kID_CameraPanel);
}

// select event for the main menu icon
kID_MenuIcon.on('selected', function()
{
	kID_IsDoorLocked = true;
	kID_IsAvatarShown = false;
	kID_IsMicrophoneMute = false;
	//check if the menu is already displayed and user is trying to collapse.
	if(kID_IsMenuOpen)
	{
		kID_IsMenuOpen = false;
		
		/******** menu icons removal *************/
		kRemoveMenuIcons();
		kRemoveMenuPanel2();
		/******** menu icons removal *************/
		
		/**** conditions to check whether there were any notifications - then add the notification panel icons***************/
		kAddNotificationPanel();
		
		/**** conditions to check whether there were any notifications - then add the notification panel icons***************/
		
		/**** add the lock icon on the door ************************/
		
		canvas.remove(kID_LockIcon);
		canvas.add(kID_LockIcon);
		
		/**** add the lock icon on the door ************************/
		
		
	}
	else
	{
		activeuser = 'RIDHI';
		kID_IsMenuOpen = true;
	
	/*************************************** Remove all icons - menu + lock + sos ****************************/
	
		/********** notification panel ***************/
		kRemoveNotificationPanel();
		/********** notification panel ***************/
		
		/********* lock panel removal ***********/
		kRemoveLockUnlockIconPanel();
		/********* lock panel removal ***********/
		
		/******** menu icons removal *************/
		kRemoveMenuIcons();
		kRemoveMenuPanel2();
		
		/******** menu icons removal *************/
		
		/********* remove all the sos related icons ***********/
		kRemoveSOSPanel();
		/********* remove all the sos related icons ***********/
		
		/****************camera panel icons removal *****************************************************************/
		kRemoveCameraPanel();
		/************************************************************************************************************/
		
		/******* theme panel icons removal *********************/
		kRemoveThemePanel();
		/*******************************************************/
		
		/*** outside camera images removal ******/
		kRemoveCameraPanel_WithHidingPanel_OD();
		/***************************************/
		
		/************ message panel **********************/
		kRemoveMessagePanel();
		/*************************************************/
	
	/*************************************** Remove all icons - menu + lock + sos ****************************/
	
		kAddMenuPanel1();
	}
	canvas.deactivateAll(); // deselect everything

});

/*********************** select event for camera - show a panel with outside user image + full screen + inner cam + audio + avatar ****/
kID_CameraIcon.on('selected', function()
{
	// make the open menu as false - if the user again clicks on menu icon - this will open up the menu again.
	kID_IsMenuOpen = false;
	kID_IsDoorLocked = true;
	
	kID_IsAvatarShown = false;
	kID_IsMicrophoneMute = false;
	
	/*** remove all the menu icons ****/
	kRemoveMenuIcons();
	/*** remove all the menu icons ****/
	
	/*** remove outside user camera icons  ****/
	kRemoveCameraPanel_WithHidingPanel_OD();
	/******************************************/
	
	kID_ShowAvatar.set({
		left: kID_CameraPanelLeft+350, 
		top: kID_CameraPanelTop+725
	});
	
	kID_CheckBoxCheckedIcon.set({
		top: kID_CameraPanelTop+700
	});
	
	kID_CheckBoxUnCheckedIcon.set({
		top: kID_CameraPanelTop+700
	});
	
	/*** add the icons for camera panel ***********/
	canvas.add(kID_CameraPanel);
	canvas.add(kID_CameraLeftArrowIcon);
	/***************** condition check needs to be added - and then add the images accordingly ******/
	//canvas.add(kID_OutsideGuestImageIcon1);
	canvas.add(kID_OutsideGuestImageIcon2);
	//canvas.add(kID_CorridorViewIcon);
	/***********************************************************************************************/
	canvas.add(kID_CheckBoxUnCheckedIcon);
	canvas.add(kID_ShowAvatar);
	canvas.add(kID_FullScreenCameraIcon);
	canvas.add(kID_InsideCameraOffIcon);
	canvas.add(kID_MicrophoneOnIcon);
	
	/*** add the icons for camera panel ***********/

	canvas.deactivateAll(); // deselect everything
});

/*********************** select event for camera - show a panel with outside user image + full screen + inner cam + audio + avatar ****/


/****************** code for main menu strip for inside door end *******************************/

// remove function code : remove all icons used on the menu screen do not call this function - use the icons from this function and remove in your function

function kID_RemoveAllIcons()
{
	/********* lock panel removal ***********/
	canvas.remove(kID_LockUnlcokPanel);
	canvas.remove(kID_LockIcon);
	canvas.remove(kID_UnLockIcon);
	
	/********* lock panel removal ***********/
	
	/******** menu icons removal *************/
	
	canvas.remove(kID_MenuPanel);
	
	canvas.remove(kID_CameraIcon);
	/****************camera panel icons removal *****************************************************************/
	canvas.remove(kID_CameraLeftArrowIcon);
	canvas.remove(kID_OutsideGuestImageIcon1);
	canvas.remove(kID_OutsideGuestImageIcon2);
	canvas.remove(kID_FOutsideGuestImageIcon1);
	canvas.remove(kID_FOutsideGuestImageIcon2);
	canvas.remove(kID_CorridorViewIcon);
	canvas.remove(kID_CheckBoxUnCheckedIcon);
	canvas.remove(kID_CheckBoxCheckedIcon);
	canvas.remove(kID_ShowAvatar);
	canvas.remove(kID_EscapeFullScreenCameraIcon);
	canvas.remove(kID_FullScreenCameraIcon);
	canvas.remove(kID_InsideCameraOffIcon);
	canvas.remove(kID_InsideCameraOnIcon);
	canvas.remove(kID_MicrophoneOnIcon);
	canvas.remove(kID_MicrophoneOffIcon);
	canvas.remove(kID_CameraPanel);
	/************************************************************************************************************/
	
	
	canvas.remove(kID_NoUnreadIcon);
	canvas.remove(kID_OneUnreadMessageIcon_Menu);
	/*********** add icons of message panel for removal ******/
	
	/*********************************************************/
	
	canvas.remove(kID_CalendarIcon);
	/*************** add icons of calendar panel for removal ************/
	
	
	/*******************************************************************/
	
	canvas.remove(kID_UnMuteIcon);
	canvas.remove(kID_MuteIcon_Menu);
	
	canvas.remove(kID_SettingsIcon);
	/*********** add icons of settings panel for removal *************/
	
	/****************************************************************/
	
	canvas.remove(kID_MirrorIcon);
	/*************** add icons of mirror panel for removal **********/
	
	/****************************************************************/
	
	canvas.remove(kID_RightArrowIcon);
	/******** menu icons removal *************/
	
	/********* remove all the sos related icons ***********/
	canvas.remove(kID_SOSPanel);
	canvas.remove(kID_Calling911);
	canvas.remove(kID_Disconnecting911);
	canvas.remove(kID_SOS_UnMuteIcon);
	canvas.remove(kID_SOS_MuteIcon);
	canvas.remove(kID_SOS_CallDisconnectIcon);
	/********* remove all the sos related icons ***********/
};

//add the lock icon at the end - needed on the start
canvas.add(kID_LockIcon);


// function to automatically lock the door - can set the time as we want
function kID_LockDoor_Auto()
{
/***************************************** NEED TO THINK ABOUT THE LOGIC MORE - WHAT IF USER WANTS TO KEEP THE DOOR OPEN AND DO SOME WORK ********/
	if(kID_IsDoorLocked == false)
	{
		kID_IsDoorLocked = true;
		
		canvas.add(kID_LockIcon);
		
		canvas.remove(kID_UnLockIcon);
		
	}
};

setInterval(kID_LockDoor_Auto, 10000);

/*********************** START code binding images for showing inside user outside ************************************************/

var kOD_CamIconW = 250;
var kOD_CamIconH = 250;

var kOD_CameraPanelLeft = 643;
var kOD_CameraPanelTop = 200;

var kOD_CameraPanel = new fabric.Rect({
	left: kOD_CameraPanelLeft,
	top: kOD_CameraPanelTop,
	fill: 'white',
	width: 554,
	height: 260
});

//canvas.add(kOD_CameraPanel);

var kKrutiImageIconInfo = new kInsertImageInfo("kKrutiImageIcon",document.getElementById('kKrutiImageIcon'));  
var kOD_KrutiImageIcon = new fabric.Image(kKrutiImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+140, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+22,
	height: kOD_CamIconH
});


var kRidhiImageIconInfo = new kInsertImageInfo("kRidhiImageIcon",document.getElementById('kRidhiImageIcon'));  
var kOD_RidhiImageIcon = new fabric.Image(kRidhiImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+140, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+22,
	height: kOD_CamIconH
});



var kSahibImageIconInfo = new kInsertImageInfo("kSahibImageIcon",document.getElementById('kSahibImageIcon'));  
var kOD_SahibImageIcon = new fabric.Image(kSahibImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+135, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+26,
	height: kOD_CamIconH
});



var kAnkurImageIconInfo = new kInsertImageInfo("kAnkurImageIcon",document.getElementById('kAnkurImageIcon'));  
var kOD_AnkurImageIcon = new fabric.Image(kAnkurImageIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+142, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+21,
	height: kOD_CamIconH
});

var kAvatarIconInfo = new kInsertImageInfo("kAvatarIcon",document.getElementById('kAvatarIcon'));  
var kOD_AvatarIcon = new fabric.Image(kAvatarIconInfo.kImageElement, {
	left: kOD_CameraPanelLeft+142, 
	top: kOD_CameraPanelTop+2 , 
	width: kOD_CamIconW+21,
	height: kOD_CamIconH
});



function kAddCameraPanel_WithHidingPanel_OD()
{
	canvas.add(kOD_KrutiImageIcon);
	canvas.add(kOD_RidhiImageIcon);
	canvas.add(kOD_SahibImageIcon);
	canvas.add(kOD_AnkurImageIcon);
	canvas.add(kOD_AvatarIcon);
	
	//hide all the icons
	canvas.add(kOD_CameraPanel);
};


function kRemoveCameraPanel_WithHidingPanel_OD()
{
	canvas.remove(kOD_KrutiImageIcon);
	canvas.remove(kOD_RidhiImageIcon);
	canvas.remove(kOD_SahibImageIcon);
	canvas.remove(kOD_AnkurImageIcon);
	canvas.remove(kOD_AvatarIcon);
	
	canvas.remove(kOD_CameraPanel);
};


kAddCameraPanel_WithHidingPanel_OD();


/*********************** END code binding images for showing inside user outside ************************************************/


/********************************** Code End by Kruti ***********************************************************************************************/







//Code Added by Sahib 

//code for main menu strip for Outside door start

var sID_HeaderPanelLeft = 23;
var sID_HeaderPanelTop = 2;

var sID_Font = 'Tahoma';
var sID_FontSize = 25;

var sID_IconW = 60;

var sID_MainPanelLeft = 642;
var sID_MainPanelTop = 475;

var sID_MainPanel = new fabric.Rect({
  left: sID_MainPanelLeft,
  top: sID_MainPanelTop,
  fill: 'grey',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 552,
  height: 100
});
canvas.add(sID_MainPanel);


var sOD_DoorKnob = new fabric.Circle({
    left: sID_MainPanelLeft+60,
    top: sID_MainPanelTop+16,
    fill: 'white',
    strokeWidth: 5,
    stroke: 'rgba(0,0,0,20)',
    radius: sID_IconW-26
});
canvas.add(sOD_DoorKnob);



//Keyhole
var simgElement1 = document.getElementById('sKeyHoleIcon');
var simgInstance1 = new fabric.Image(simgElement1, {
  
  width: 60,
  height: 60,
  top: sID_MainPanelTop+22,
  left: sID_MainPanelLeft+66  
});

simgInstance1.hasControls = simgInstance1.hasBorders = false;

simgInstance1.lockMovementX = simgInstance1.lockMovementY = true;

canvas.add(simgInstance1);


var sFingerPrintOuter = new fabric.Circle({
    left: sID_MainPanelLeft+240,
    top: sID_MainPanelTop+10,
    fill: 'white',
    strokeWidth: 5, 
    stroke: 'rgba(0,0,0,20)',
    radius: sID_IconW-20
});
canvas.add(sFingerPrintOuter);

var sFingerPrintInner = new fabric.Circle({
    left: sID_MainPanelLeft+252,
    top: sID_MainPanelTop+22,
    fill: 'black',
    stroke: 'rgba(0,0,256,20)',
    radius: sID_IconW-30
});
canvas.add(sFingerPrintInner);


//Door bell
var simgElement2 = document.getElementById('sDoorBellIcon');
var simgInstance2 = new fabric.Image(simgElement2, {
  
  width: 60,
  height: 60,
  top: sID_MainPanelTop+22,
  left: sID_MainPanelLeft+436  
});

simgInstance2.hasControls = simgInstance2.hasBorders = false;

simgInstance2.lockMovementX = simgInstance2.lockMovementY = true;

canvas.add(simgInstance2);

//Door bell ringing



simgInstance2.on('selected', function() {


playDoorbell();

canvas.remove(simgInstance2);
canvas.add(simgInstance5);
setTimeout(function(){
  console.log('Doorbell was clicked!');

  canvas.remove(simgInstance5);
  canvas.add(simgInstance2);

  },2000);

  });


//Write Message Icon
var simgElement3 = document.getElementById('sWriteMessageIcon');
var simgInstance3 = new fabric.Image(simgElement3, {
  
  width: 60,
  height: 60,
  left: sID_MainPanelLeft +170,
  top: sID_MainPanelTop - 250, 
});

simgInstance3.hasControls = simgInstance3.hasBorders = false;

simgInstance3.lockMovementX = simgInstance3.lockMovementY = true;

canvas.add(simgInstance3);









simgInstance3.on('selected', function() {

playBeep();

hideOutsideDoorIcons();

//canvas.add(simgInstance6);
canvas.add(simgInstance7);

canvas.add(sNewPlate);
canvas.add(sNewPlateText);

canvas.add(sPostPlate);
canvas.add(sPostPlateText);

/*var el = document.getElementById('canvas');
var ctx = canvas.getContext('2d');
var isDrawing;

canvas.on('mouse:down', function(e) {

  console.log('Mouse Down');

  isDrawing = true;
  ctx.lineWidth = 10;
  ctx.lineJoin = ctx.lineCap = 'round';
  ctx.moveTo(e.clientX, e.clientY);
});
canvas.on('mouse:move', function(e) {

  console.log('Mouse Moved');

  if (isDrawing) {
    ctx.lineTo(e.clientX, e.clientY);
    ctx.stroke();
  }
});
canvas.on('mouse:up', function(e) {

  console.log('Mouse Up');

  isDrawing = false;
});*/

//var destinationcanvas = document.getElementById('c');
//var ctx = canvas.getContext('2d');	

/*var canvas1 = new fabric.Canvas('sheet');
//ctx.drawImage(canvas1,0,0,100,100);

canvas1.isDrawingMode = true;
canvas1.freeDrawingBrush.width = 10;
canvas1.freeDrawingBrush.color = "#000000";
*/

	canvas.deactivateAll(); // deselect everything


  });
  
  
  
  







 

//Text
var sWriteMessageText1 = new fabric.Text('Write',{
  left: sID_MainPanelLeft +170,
  top: sID_MainPanelTop - 175, 
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sWriteMessageText1);

var sWriteMessageText2 = new fabric.Text('Message',{
  left: sID_MainPanelLeft +170,
  top: sID_MainPanelTop - 145, 
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sWriteMessageText2);

//Package Delivery Icon
//Write Message Icon
var simgElement4 = document.getElementById('sDeliverPackageIcon');
var simgInstance4 = new fabric.Image(simgElement4, {
  
  width: 60,
  height: 60,
  left: sID_MainPanelLeft +330,
  top: sID_MainPanelTop - 250, 
});

simgInstance4.hasControls = simgInstance4.hasBorders = false;

simgInstance4.lockMovementX = simgInstance4.lockMovementY = true;

canvas.add(simgInstance4);

simgInstance4.on('selected', function() {

playBeep();

//hideOutsideDoorIcons();

canvas.deactivateAll(); // deselect everything

  });

//Door bell ringing

var simgElement5 = document.getElementById('sDoorBellRingingIcon');
var simgInstance5 = new fabric.Image(simgElement5, {
  
  width: 150,
  height: 150,
  top: sID_MainPanelTop+625,
  left: sID_MainPanelLeft+1736   
});

simgInstance5.hasControls = simgInstance5.hasBorders = false;

simgInstance5.lockMovementX = simgInstance5.lockMovementY = true;

//Writing pad outside

var simgElement6 = document.getElementById('sWritingPad');
var simgInstance6 = new fabric.Image(simgElement6, {
  
  width: 650,
  height: 500,
  left: 1725,
  top: 370,    
});

simgInstance6.hasControls = simgInstance6.hasBorders = false;

simgInstance6.lockMovementX = simgInstance6.lockMovementY = true;


//Left  Arrow
var simgElement7 = document.getElementById('sLeftArrow');
var simgInstance7 = new fabric.Image(simgElement7, {
  
  width: 95,
  height: 95,
  left: 1490,
  top: 620,    
});

simgInstance7.hasControls = simgInstance7.hasBorders = false;

simgInstance7.lockMovementX = simgInstance7.lockMovementY = true;


simgInstance7.on('selected', function() {

playBeep();

canvas.remove(simgInstance7);

canvas.remove(sNewPlate);
canvas.remove(sNewPlateText);

canvas.remove(sPostPlate);
canvas.remove(sPostPlateText);

showOutsideDoorIcons();

canvas.deactivateAll(); // deselect everything

  });
  


//Text
var sDeliverPackageText1 = new fabric.Text('Deliver',{
  left: sID_MainPanelLeft +327,
  top: sID_MainPanelTop - 175,
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sDeliverPackageText1);

var sDeliverPackageText2 = new fabric.Text('Package',{
  left: sID_MainPanelLeft +327,
  top: sID_MainPanelTop - 145,
  fontSize: 20,
  fontWeight: 'bold',
  fontFamily: sID_Font
});
canvas.add(sDeliverPackageText2);






//Code for other icons on the outside door

//Name plate

var sNamePlate = new fabric.Rect({
  left: sID_MainPanelLeft +150,
  top: sID_MainPanelTop - 395,
  fill: 'white',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 252,
  height: 70
});
canvas.add(sNamePlate);

//House no. on the name plate

var sNumberPlateText = new fabric.Text('1500 B',{
  left: sID_MainPanelLeft +200,
  top: sID_MainPanelTop - 385,
  fontSize: 50,
  fontFamily: sID_Font
});
canvas.add(sNumberPlateText);


//New Icon

var sNewPlate = new fabric.Rect({
  left: sID_MainPanelLeft +1120,
  top: sID_MainPanelTop + 420,
  fill: 'white',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 252,
  height: 90
});

sNewPlate.hasControls = sNewPlate.hasBorders = false;

sNewPlate.lockMovementX = sNewPlate.lockMovementY = true;


var sNewPlateText = new fabric.Text('New',{
  left: sID_MainPanelLeft +1200,
  top: sID_MainPanelTop + 435,
  fontSize: 50,
  fontFamily: sID_Font
});

sNewPlateText.hasControls = sNewPlateText.hasBorders = false;

sNewPlateText.lockMovementX = sNewPlateText.lockMovementY = true;

//Post Icon

var sPostPlate = new fabric.Rect({
  left: sID_MainPanelLeft +1420,
  top: sID_MainPanelTop + 420,
  fill: 'white',
  strokeWidth: 5,
  stroke: 'rgba(0,0,0,20)',
  width: 252,
  height: 90
});

sPostPlate.hasControls = sPostPlate.hasBorders = false;

sPostPlate.lockMovementX = sPostPlate.lockMovementY = true;

var sPostPlateText = new fabric.Text('Post',{
  left: sID_MainPanelLeft +1500,
  top: sID_MainPanelTop + 435,
  fontSize: 50,
  fontFamily: sID_Font
});

sPostPlateText.hasControls = sPostPlateText.hasBorders = false;

sPostPlateText.lockMovementX = sPostPlateText.lockMovementY = true;

//Date and time

var kID_DateText = new fabric.Text('',{
  left: sID_HeaderPanelLeft +630,
  top: sID_HeaderPanelTop + 5,
  fontSize: sID_FontSize,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

kID_DateText.set({
    text: kID_MM+"/"+kID_DD+"/"+kID_YYYY
  });

canvas.add(kID_DateText);

// add the time to canvas - initially blank, update from function
var kID_TimeText = new fabric.Text('',{
  left: sID_HeaderPanelLeft +1090,
  top: sID_HeaderPanelTop + 5,
  fontSize: sID_FontSize,
  fontWeight: 'bold',
  fontFamily: sID_Font
});

kID_TimeText.set({
    text:kID_Hrs+":"+kID_Mins
  });

canvas.add(kID_TimeText);


//Hide outside door icons
function hideOutsideDoorIcons(){

canvas.remove(simgInstance3);
canvas.remove(simgInstance4);
canvas.remove(sWriteMessageText1);
canvas.remove(sWriteMessageText2);
canvas.remove(sDeliverPackageText1);
canvas.remove(sDeliverPackageText2);

}

function showOutsideDoorIcons(){

canvas.add(simgInstance3);
canvas.add(simgInstance4);
canvas.add(sWriteMessageText1);
canvas.add(sWriteMessageText2);
canvas.add(sDeliverPackageText1);
canvas.add(sDeliverPackageText2);

}

//On Mouse hover
/*simgInstance1.on('mouse:move', function(e) {
  
    console.log('Outside door was clicked!');
     e.target.setFill('red');
    canvas.renderAll();

});
*/








/*************************************** Code End by Sahib ***************************************************************************************/
/*************************************** Code Added by Ankur ***************************************************************************************/
/*************************************** Code End by Ankur ***************************************************************************************/
/*************************************** Code Added by Ridhi ***************************************************************************************/
var rID_Font = 'Tahoma';
var rID_FontSize = 20;
var rID_TutorialLeft = 100;
var rID_TutorialTop =170 ;
var rID_Capture = 0;
var rID_SyncPhone = 0;
var isUsedTutorial = 0;
var activeuser = '';

var rID_FirstTimeSetupBox = new fabric.Rect({
  left: rID_TutorialLeft + 200,
  top: rID_TutorialTop + 700,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 200,
  height: 50
});


var rID_FirstTimeSetupText = new fabric.Text('First Time Setup',{
  left: rID_TutorialLeft+ 205,
  top: rID_TutorialTop + 710,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_GroupFirstTimeSetupButton = new fabric.Group([rID_FirstTimeSetupBox, rID_FirstTimeSetupText], {

  left: rID_TutorialLeft+ 200,
  top: rID_TutorialTop + 700,
  angle: 0
});

var rID_Ridhi = new fabric.Text('RIDHI',{
  left: rID_TutorialLeft+ 10,
  top: rID_TutorialTop + 510,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_Kruti = new fabric.Text('KRUTI',{
  left: rID_TutorialLeft+ 110,
  top: rID_TutorialTop + 510,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_Sahib = new fabric.Text('SAHIB',{
  left: rID_TutorialLeft+ 210,
  top: rID_TutorialTop + 510,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_Ankur = new fabric.Text('ANKUR',{
  left: rID_TutorialLeft+ 310,
  top: rID_TutorialTop + 510,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_Tutorial = new fabric.Rect({
  left: rID_TutorialLeft,
  top: rID_TutorialTop,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 1100,
  height: 800
});


var rID_WelcomeText = new fabric.Text('Welcome to',{
  left: rID_TutorialLeft+ 200,
  top: rID_TutorialTop + 10,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_WelcomeText2 = new fabric.Text('AUTUMN!',{
  left: rID_TutorialLeft+ 190,
  top: rID_TutorialTop + 35,
  fontSize: rID_FontSize+ 5,
  fontWeight: 'bold',
  fontFamily: rID_Font
});

var rID_LanguageText = new fabric.Text('Please choose your language  ',{
  left: rID_TutorialLeft+ 100,
  top: rID_TutorialTop + 80,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_RightArrowImg = document.getElementById('rRightArrow');
var rID_RightArrowIcon1 = new fabric.Image(rID_RightArrowImg, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });
		
var rID_RightArrowImg2 = document.getElementById('rRightArrow');
var rID_RightArrowIcon2 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });

var rID_RightArrowIcon3 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });

var rID_RightArrowIcon4 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });
		
var rID_RightArrowIcon5 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });

var rID_RightArrowIcon6 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });		
		
var rID_RightArrowIcon7 = new fabric.Image(rID_RightArrowImg2, {
left: rID_TutorialLeft+ 1000,
  top: rID_TutorialTop + 300,
           
            width: 50,
            height: 60
        });	
		
var rID_EnglishBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 110,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_EnglishText = new fabric.Text('English',{
  left: rID_TutorialLeft+ 110,
  top: rID_TutorialTop + 115,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupEnglishButton = new fabric.Group([rID_EnglishBox, rID_EnglishText], {

  left: rID_TutorialLeft+ 105,
  top: rID_TutorialTop + 110,
  angle: 0
});

var rID_TickMarkImg = document.getElementById('rTickMark');
var rID_TickMarkIcon = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 88,
  top: rID_TutorialTop + 125,
            width: 20,
            height: 20
        });
		
var rID_TickMarkIcon2 = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 760 ,
  top: rID_TutorialTop + 170,
            width: 50,
            height: 40
        });		

var rID_TickMarkIcon3 = new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 390 ,
  top: rID_TutorialTop + 418,
            width: 40,
            height: 40
        });	

var rID_TickMarkIcon4= new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 840 ,
  top: rID_TutorialTop + 180,
            width: 50,
            height: 40
        });			
		
var rID_TickMarkIcon5= new fabric.Image(rID_TickMarkImg, {
left: rID_TutorialLeft+ 840 ,
  top: rID_TutorialTop + 180,
            width: 50,
            height: 40
        });
		
var rID_SpanishBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 160,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_SpanishText = new fabric.Text('el espanol',{
  left: rID_TutorialLeft+ 110,
  top: rID_TutorialTop + 165,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupSpanishButton = new fabric.Group([rID_SpanishBox, rID_SpanishText], {

  left: rID_TutorialLeft+ 105,
  top: rID_TutorialTop + 160,
  angle: 0
});

var rID_FrenchBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 210,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_FrenchText = new fabric.Text('Francais',{
  left: rID_TutorialLeft+ 110,
  top: rID_TutorialTop + 215,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupFrenchButton = new fabric.Group([rID_FrenchBox, rID_FrenchText], {

  left: rID_TutorialLeft+ 105,
  top: rID_TutorialTop + 210,
  angle: 0
});

var rID_ChineseBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 260,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_ChineseText = new fabric.Text('中国',{
  left: rID_TutorialLeft+ 120,
  top: rID_TutorialTop + 265,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font-10
});




var rID_GroupChineseButton = new fabric.Group([rID_ChineseBox, rID_ChineseText], {

  left: rID_TutorialLeft+ 105,
  top: rID_TutorialTop + 260,
  angle: 0
});

var rID_HindiBox = new fabric.Rect({
  left: rID_TutorialLeft +100,
  top: rID_TutorialTop + 310,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_HindiText = new fabric.Text('हिंदी',{
  left: rID_TutorialLeft+ 120,
  top: rID_TutorialTop + 315,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupHindiButton = new fabric.Group([rID_HindiBox, rID_HindiText], {

  left: rID_TutorialLeft+ 105,
  top: rID_TutorialTop + 310,
  angle: 0
});


var rID_ArabicBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 110,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_ArabicText = new fabric.Text('عربى',{
  left: rID_TutorialLeft+ 315,
  top: rID_TutorialTop + 115,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupArabicButton = new fabric.Group([rID_ArabicBox, rID_ArabicText], {

  left: rID_TutorialLeft+ 310,
  top: rID_TutorialTop + 110,
  angle: 0
});

var rID_GermanBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 160,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_GermanText = new fabric.Text('Deutsch',{
  left: rID_TutorialLeft+ 315,
  top: rID_TutorialTop + 165,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupGermanButton = new fabric.Group([rID_GermanBox, rID_GermanText], {

  left: rID_TutorialLeft+ 310,
  top: rID_TutorialTop + 160,
  angle: 0
});

var rID_JapaneseBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 210,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_JapaneseText = new fabric.Text('日本',{
  left: rID_TutorialLeft+ 325,
  top: rID_TutorialTop + 215,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupJapaneseButton = new fabric.Group([rID_JapaneseBox, rID_JapaneseText], {

  left: rID_TutorialLeft+ 310,
  top: rID_TutorialTop + 210,
  angle: 0
});


var rID_DutchBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 260,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_DutchText = new fabric.Text('Néerlandais',{
  left: rID_TutorialLeft+ 305,
  top: rID_TutorialTop + 265,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupDutchButton = new fabric.Group([rID_DutchBox, rID_DutchText], {

  left: rID_TutorialLeft+ 310,
  top: rID_TutorialTop + 260,
  angle: 0
});

var rID_PolishBox = new fabric.Rect({
  left: rID_TutorialLeft +300,
  top: rID_TutorialTop + 310,
  fill: '',
  strokeWidth: 2,
  stroke: 'black',
  width: 115,
  height: 30
});

var rID_PolishText = new fabric.Text('Polski',{
  left: rID_TutorialLeft+ 315,
  top: rID_TutorialTop + 315,
  fontSize: rID_FontSize,
  fontWeight: 'normal',
  fontFamily: rID_Font
});




var rID_GroupPolishButton = new fabric.Group([rID_PolishBox, rID_PolishText], {

  left: rID_TutorialLeft+ 310,
  top: rID_TutorialTop + 310,
  angle: 0
});

var rID_HeaderText = new fabric.Text('No more searching for keys. Just touch, speak \n or use your phone to unlock the door!',{
  left: rID_TutorialLeft+ 198,
  top: rID_TutorialTop + 198,
  fontSize: rID_FontSize+20,
  fontWeight: 'normal',
  fontFamily: rID_Font 
});

var rID_SetupBox = new fabric.Rect({
  left: rID_TutorialLeft +400,
  top: rID_TutorialTop + 360,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 300,
  height: 90
});

var rID_SetupText = new fabric.Text('Setup',{
  left: rID_TutorialLeft+ 470,
  top: rID_TutorialTop + 380,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupSetupButton = new fabric.Group([rID_SetupBox, rID_SetupText], {

  left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 360,
  angle: 0
});

var rID_LearnMoreBox = new fabric.Rect({
  left: rID_TutorialLeft +400,
  top: rID_TutorialTop + 500,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 300,
  height: 90
});

var rID_LearnMoreText = new fabric.Text('Learn More',{
  left: rID_TutorialLeft+ 450,
  top: rID_TutorialTop + 515,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_AnotherUserBox = new fabric.Rect({
  left: rID_TutorialLeft +400,
  top: rID_TutorialTop + 400,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 320,
  height: 90
});

var rID_AnotherUserText = new fabric.Text('Add another user',{
  left: rID_TutorialLeft+ 420,
  top: rID_TutorialTop + 419,
  fontSize: rID_FontSize+ 15,
  fontWeight: 'normal',
  fontFamily: rID_Font
});


var rID_GroupAnotherUserButton = new fabric.Group([rID_AnotherUserBox, rID_AnotherUserText], {

  left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 400,
  angle: 0
});


var rID_GroupLearnMoreButton = new fabric.Group([rID_LearnMoreBox, rID_LearnMoreText], {

  left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 500,
  angle: 0
});

var rID_LeftArrowImg = document.getElementById('kLeftArrowIcon');
var rID_LeftArrowIcon1 = new fabric.Image(rID_LeftArrowImg, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_LeftArrowImg2 = document.getElementById('kLeftArrowIcon');
var rID_LeftArrowIcon2 = new fabric.Image(rID_LeftArrowImg2, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_LeftArrowIcon3 = new fabric.Image(rID_LeftArrowImg2, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});


var rID_LeftArrowIcon4 = new fabric.Image(rID_LeftArrowImg2, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
}); 

var rID_LeftArrowIcon5 = new fabric.Image(rID_LeftArrowImg2, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_LeftArrowIcon6 = new fabric.Image(rID_LeftArrowImg2, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_LeftArrowIcon7 = new fabric.Image(rID_LeftArrowImg2, {
  
  width: 50,
  height: 60,
  left: rID_TutorialLeft+ 80,
  top: rID_TutorialTop + 300,
});

var rID_VideoImg = document.getElementById('rPlay1');
var rID_VideoIcon = new fabric.Image(rID_VideoImg, {
  
  width: 60,
  height: 60,
  left: rID_TutorialLeft+ 300,
  top: rID_TutorialTop + 400,
});


var rID_VideoIcon2 = new fabric.Image(rID_VideoImg, {
  
  width: 60,
  height: 60,
  left: rID_TutorialLeft+ 460,
  top: rID_TutorialTop + 460,
});

var rID_Circle1 = new fabric.Circle({
   left: rID_TutorialLeft+ 400,
  top: rID_TutorialTop + 70,
  stroke: "black",
  fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle2 = new fabric.Circle({
   left: rID_TutorialLeft+ 450,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle3 = new fabric.Circle({
   left: rID_TutorialLeft+ 500,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle4 = new fabric.Circle({
   left: rID_TutorialLeft+ 550,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_Circle5 = new fabric.Circle({
   left: rID_TutorialLeft+ 600,
  top: rID_TutorialTop + 70,
  stroke: "black",
   fill: "white",
  strokeWidth: 2,
  radius: 15
});

var rID_ClickPictureText = new fabric.Text('Click a cool picture!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_ScanFingerText = new fabric.Text('Scan your finger!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_VoiceCommandText = new fabric.Text('Record voice command!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_SyncPhoneText = new fabric.Text('Sync your phone!',{
  left: rID_TutorialLeft+ 340,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_LastPageText = new fabric.Text('Great!',{
  left: rID_TutorialLeft+ 450,
  top: rID_TutorialTop + 170,
  fontSize: rID_FontSize+ 25,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_LastPageText2 = new fabric.Text('You are all set. Enjoy the \nsmart door experience!',{
  left: rID_TutorialLeft+ 380,
  top: rID_TutorialTop + 290,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_PictureBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});

var rID_FingerScanBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});

var rID_VoiceCommandBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});

var rID_SyncPhoneBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});


var rID_LastPageBox = new fabric.Rect({
  left: rID_TutorialLeft + 350,
  top: rID_TutorialTop + 250,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 400,
  height: 300
});

var rID_VoiceCommandInnerText = new fabric.Text('Please  repeat the voice \n command after the beep.',{
  left: rID_TutorialLeft + 365,
  top: rID_TutorialTop + 260,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_VoiceCommandInnerText2 = new fabric.Text('Open Autumn.',{
  left: rID_TutorialLeft + 470,
  top: rID_TutorialTop + 400,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_SyncPhoneText2 = new fabric.Text('  Turn ON NFC on your \n  phone and bring close \n to the door.',{
  left: rID_TutorialLeft + 365,
  top: rID_TutorialTop + 260,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_SyncedText = new fabric.Text('Synced!',{
  left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 380,
  fontSize: rID_FontSize+ 10,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_VoiceCommandTickBox = new fabric.Rect({
  left: rID_TutorialLeft + 390,
  top: rID_TutorialTop + 400,
  fill: '',
  strokeWidth: 5,
  stroke: 'black',
  width: 50,
  height: 50
});

var rID_VoiceImg = document.getElementById('rVoice');
var rID_VoiceIcon = new fabric.Image(rID_VoiceImg, {
  
  width: 70,
  height: 70,
  left: rID_TutorialLeft+ 460,
  top: rID_TutorialTop + 460,
});
var rFingerPrintInner = new fabric.Circle({
     left: rID_TutorialLeft + 920,
  top: rID_TutorialTop + 945,
    fill: 'black',
    stroke: 'rgba(0,0,256,20)',
    radius: 52
});

var rFingerPrintBox = new fabric.Circle({
  left: rID_TutorialLeft + 480,
  top: rID_TutorialTop + 350,
    fill: 'black',
    stroke: 'rgba(0,0,256,20)',
    radius: 40
});

var rID_HandImg = document.getElementById('rHand');
var rID_HandIcon = new fabric.Image(rID_HandImg, {
  
  width: 70,
  height: 70,
  left: rID_TutorialLeft+ 480,
  top: rID_TutorialTop + 410,
});

var rID_ArrowImg = document.getElementById('rArrow');
var rID_ArrowIcon = new fabric.Image(rID_ArrowImg, {
  
  width: 70,
  height: 80,
  left: rID_TutorialLeft+ 800,
  top: rID_TutorialTop + 350,
});


var rID_CameraImg = document.getElementById('kCameraIcon');
var rID_CameraIcon = new fabric.Image(rID_CameraImg, {
  
  width: 70,
  height: 60,
  left: rID_TutorialLeft+ 810,
  top: rID_TutorialTop + 400,
});

var rID_ClickPictureText2 = new fabric.Text('Click to capture.',{
  left: rID_TutorialLeft+ 790,
  top: rID_TutorialTop + 480,
  fontSize: rID_FontSize +5,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rID_CameraImg2 = document.getElementById('rCamera2');
var rID_CameraIcon2 = new fabric.Image(rID_CameraImg2, {
  
  width: 70,
  height: 60,
  left: rID_TutorialLeft+ 810,
  top: rID_TutorialTop + 400,
});

var rID_RetakeText = new fabric.Text('Retake.',{
  left: rID_TutorialLeft+ 810,
  top: rID_TutorialTop + 480,
  fontSize: rID_FontSize +5,
  fontWeight: 'normal',
  fontFamily: rID_Font
});

var rUserIcon1Info = new kInsertImageInfo("kRidhiImageIcon",document.getElementById('kRidhiImageIcon'));
var rID_UserIcon1 = new fabric.Image(rUserIcon1Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rUserIcon2Info = new kInsertImageInfo("kKrutiImageIcon",document.getElementById('kKrutiImageIcon'));
var rID_UserIcon2 = new fabric.Image(rUserIcon2Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rUserIcon3Info = new kInsertImageInfo("kSahibImageIcon",document.getElementById('kSahibImageIcon'));
var rID_UserIcon3 = new fabric.Image(rUserIcon3Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

var rUserIcon4Info = new kInsertImageInfo("kAnkurImageIcon",document.getElementById('kAnkurImageIcon'));
var rID_UserIcon4 = new fabric.Image(rUserIcon4Info.kImageElement, {
  left: rID_TutorialLeft+ 396,
  top: rID_TutorialTop + 300, 
  width: 250,
  height: 240
});

//var rID_voicecommand = new Audio("voice.mp3");
var rID_beep = new Audio("beep.mp3");
var rID_VoiceCommandCapture = new Audio("VoiceCommand1Capture.mp3");

	var rPhoneIcon1Info = new kInsertImageInfo("rPhone1",document.getElementById('rPhone1'));  
var rID_Phone1Icon = new fabric.Image(rPhoneIcon1Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

	var rPhoneIcon2Info = new kInsertImageInfo("rPhone2",document.getElementById('rPhone2'));  
var rID_Phone2Icon = new fabric.Image(rPhoneIcon2Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

	var rPhoneIcon3Info = new kInsertImageInfo("rPhone3",document.getElementById('rPhone3'));  
var rID_Phone3Icon = new fabric.Image(rPhoneIcon3Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

	var rPhoneIcon4Info = new kInsertImageInfo("rPhone4",document.getElementById('rPhone4'));  
var rID_Phone4Icon = new fabric.Image(rPhoneIcon4Info.kImageElement, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 440 ,
	width: 70,
	height: 60
});

var rID_SyncImg = document.getElementById('rSync');	
var rID_SyncIcon = new fabric.Image(rID_SyncImg, {
	left: rID_TutorialLeft + 460,
  top: rID_TutorialTop + 380,
	width: 60,
	height: 55
});


rID_Ridhi.on('selected', function () 
{
     activeuser = 'RIDHI';
    if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	}
	
	
	
	canvas.deactivateAll(); 
});

rID_Kruti.on('selected', function () 
{
     activeuser = 'KRUTI';
    if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	}
	
	
	
	canvas.deactivateAll(); 
});


rID_Sahib.on('selected', function () 
{
     activeuser = 'SAHIB';
    if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	}
	
	
	
	canvas.deactivateAll(); 
});

rID_Ankur.on('selected', function () 
{
     activeuser = 'ANKUR';
    if(isUsedTutorial == 0)
	{
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	 isUsedTutorial =1;
	}
	else
	{
	  rID_RenderTutorialPage2();
       rID_ShowTutorialPage2();
	}
	
	
	
	canvas.deactivateAll(); 
});
 
//canvas.add(rID_GroupFirstTimeSetupButton);

rID_GroupFirstTimeSetupButton.on('selected', function () 
{
  //  rID_HideChooseLangugage();
	rID_RenderChooseLanguage();
	rID_ShowChooseLanguage();
	canvas.deactivateAll(); 
});



rID_GroupEnglishButton.on('selected', function () {
 
  canvas.add(rID_TickMarkIcon);
  
  rID_HideChooseLangugage();
 
  rID_RenderTutorialPage2();
  rID_ShowTutorialPage2();

      
 });  
 
 rID_RightArrowIcon1.on('selected', function () {
 
  canvas.add(rID_TickMarkIcon);
  rID_HideChooseLangugage();
 
  rID_RenderTutorialPage2();
  rID_ShowTutorialPage2();

      
 });  
 
 rID_LeftArrowIcon1.on('selected', function () {
 
 
   
   rID_HideTutorialPage2();
    rID_ShowChooseLanguage();
	canvas.add(rID_RightArrowIcon1);
	rID_RightArrowIcon1.visible = true;
 
 
canvas.deactivateAll();   
 });  
 
  rID_LeftArrowIcon2.on('selected', function () {
 
   rID_ShowTutorialPage2();
   rID_HideVideo();
   
    
 
canvas.deactivateAll();   
 });  
 
 rID_LeftArrowIcon3.on('selected', function () {

rID_HideCameraOnClick();
rID_ShowTutorialPage2();
// rID_ClickPictureText.visible =false;
 //rID_PictureBox.visible =false;
//rID_HideCircles();
   rID_LeftArrowIcon3.visible =false;
   rID_RightArrowIcon3.visible =false;
   rID_LeftArrowIcon2.visible =true;
   canvas.add(rID_RightArrowIcon2);
   rID_RightArrowIcon2.visible =true;
 
  //rID_RenderTutorialPage2();
 // rID_ShowTutorialPage2();
canvas.deactivateAll();  

});
 
  rID_LeftArrowIcon4.on('selected', function () {
  
  rID_HideScanFinger();
    rID_Circle1.fill = 'black';
  rID_Circle2.fill = 'white';
  //rID_ClickPictureText2.visible = false;
  
  rID_ShowClickPicture();  
  rID_ShowCameraOnClick();
  rID_UserIcon1.visible = true;
  
  canvas.remove(rID_ClickPictureText2);
  //rID_RetakeText.visible = true;
  //rID_RightArrowIcon3.visible = true;
  // rID_LeftArrowIcon3.visible = true;
   
  
  
   canvas.deactivateAll();   
 });
 
 
  rID_LeftArrowIcon5.on('selected', function () {
  
  rID_HideVoiceCommand();
  rID_Circle2.fill = 'black';
  rID_Circle3.fill = 'white';
  rID_ShowScanFinger();

  
  canvas.deactivateAll();   
 });
  
 
 rID_LeftArrowIcon6.on('selected', function () {
 
 rID_HideSyncPhone();
 rID_Circle3.fill = 'black';
rID_Circle4.fill = 'white';
rID_Circle5.fill = 'white';
rID_ShowVoiceCommand();
rID_TickMarkIcon3.visible =  true;
rID_TickMarkIcon4.visible =  true;
rID_VideoIcon2.visible = true;
rID_VoiceIcon.visible = false;

 
canvas.deactivateAll();   
 });
 

 
 rID_LeftArrowIcon7.on('selected', function () {
 
 rID_HideLastPage(); 
rID_Tutorial.visible = true;
rID_ShowCircles();
rID_Circle3.fill = 'white';
rID_Circle4.fill = 'black';
rID_Circle5.fill = 'white';
 
if(activeuser == 'RIDHI' && rPhoneIcon1Info.kIsUsed == true)
{
   rID_Phone1Icon.visible = true; 
}

else if(activeuser == 'KRUTI' && rPhoneIcon2Info.kIsUsed == true)
{
   rID_Phone2Icon.visible = true; 
}

//rID_RenderSyncPhone();
rID_ShowSyncPhone();
rID_SyncedText.visible = true;
rID_TickMarkIcon5.visible = true;

canvas.deactivateAll();   
 });  
 
 rID_GroupSetupButton.on('selected', function () {
 
   rID_HideTutorialPage2();
   rID_RenderClickPicture();
    rID_ShowClickPicture();
	
 
 
canvas.deactivateAll();   
 });  
 
 rID_GroupLearnMoreButton.on('selected', function () {
 
   rID_HideTutorialPage2();
   rID_RenderVideo();
    rID_ShowVideo();
 
 
canvas.deactivateAll();   
 });  

 

 
rID_CameraIcon.on('selected', function () {

if(activeuser == 'RIDHI')
{
   canvas.add(rID_UserIcon1);
   rUserIcon1Info.kIsUsed = true;
   k_RidhiProfile.kImageIcon = rUserIcon1Info.kId;
   
   
   
  // rUserIcon1Info.kIsUsed = true;
  // rUserIcon2Info.kIsUsed = false;
   
   
    
	
	//canvas.add(rID_UserIcon1);
	// rID_UserIcon1.visible= true;
	 
//k_RidhiProfile.kImageIcon = rID_UserIcon2;
//   rUserIcon2Info.kIsUsed = true;
//   rUserIcon1Info.kIsUsed = false;
 //  canvas.add(rID_UserIcon2);
//	rID_UserIcon2.visible= true;
}
else if (activeuser == 'KRUTI')
{
  canvas.add(rID_UserIcon2);
  rUserIcon2Info.kIsUsed = true;
  rID_UserIcon2.visible = true;
  k_KrutiProfile.kImageIcon = rUserIcon2Info.kId;
}

else if (activeuser == 'SAHIB')
{
  canvas.add(rID_UserIcon3);
  rUserIcon3Info.kIsUsed = true;
  rID_UserIcon3.visible = true;
  k_SahibProfile.kImageIcon = rUserIcon3Info.kId;
}

else if (activeuser == 'ANKUR')
{
  canvas.add(rID_UserIcon4);
  rUserIcon4Info.kIsUsed = true;
  rID_UserIcon4.visible = true;
  k_AnkurProfile.kImageIcon = rUserIcon4Info.kId;
}


rID_RenderCameraOnClick();
	rID_ShowCameraOnClick();
	rID_CameraIcon.visible = false;
 rID_ClickPictureText2.visible = false;

/*else if(rUserIcon2Info.kIsUsed == false)
{
  k_RidhiProfile.kImageIcon = rID_UserIcon2;
   rUserIcon2Info.kIsUsed = true;
   
    rID_RenderCameraOnClick();
	rID_ShowCameraOnClick();
}*/
 
canvas.deactivateAll();   
 });   
 
 rID_CameraIcon2.on('selected', function () {

/*if(rUserIcon1Info.kIsUsed == true)
{
  
  k_RidhiProfile.kImageIcon = rID_UserIcon2;
   rUserIcon2Info.kIsUsed = true;
   rUserIcon1Info.kIsUsed = false;
   
   
	//canvas.add(rID_UserIcon2);
	//rID_UserIcon2.visible = false;
	 rID_CameraIcon.visible = true;
	 rID_RetakeText.visible =false;
 rID_ClickPictureText2.visible = true;
 rID_CameraIcon2.visible = false;
}*/

rID_HideCameraOnClick();
   rID_RenderCameraOnClick();
	rID_ShowCameraOnClick();
	rID_CameraIcon.visible = true;
	rID_RetakeText.visible =false;
	rID_ClickPictureText2.visible = true;
	rID_CameraIcon2.visible = false;
	rID_TickMarkIcon2.visible = false;
	
	

 
canvas.deactivateAll();   
 }); 


 
 rID_RightArrowIcon2.on('selected', function () {
 
 rID_HideTutorialPage2();

    rID_ShowClickPicture();
	rID_Circle1.fill = 'black';
  rID_Circle2.fill = 'white';
  //rID_ClickPictureText2.visible = false;
  canvas.remove(rID_ClickPictureText2);
  rID_ShowCameraOnClick();  
  rID_UserIcon1.visible = true;
  rID_RightArrowIcon3.visible = true;
   rID_LeftArrowIcon3.visible = true;
	
	
 
canvas.deactivateAll();
});


rID_RightArrowIcon3.on('selected', function () {
 
 
   
    rID_HideCameraOnClick();
	rID_Circle1.fill = 'white';
	rID_Circle2.fill = 'black';
	rID_PictureBox.visible = false;
	rID_ClickPictureText.visible = false;
	rID_LeftArrowIcon3.visible = false;
	rID_RightArrowIcon3.visible = false;
	rID_RenderScanFinger();
	rID_ShowScanFinger();
	
	/*if(activeuser == 'RIDHI')
	{
          	
	}*/
   
 
canvas.deactivateAll();
});




rID_RightArrowIcon4.on('selected', function () {

 rID_Circle2.fill = 'white';
 rID_Circle3.fill = 'black';
 rID_HideScanFinger();
 
/*if(isUsedTutorial == 0)
{
 
 rID_RenderVoiceCommand();
 rID_ShowVoiceCommand();
 
 }
 
 else 
 { 
    rID_ShowVoiceCommand();
 }*/
 
 rID_RenderVoiceCommand();
 rID_ShowVoiceCommand();
 
 setTimeout(rID_VoiceCapture,4500);

 setTimeout(rID_Captured,5600);

canvas.deactivateAll();

});


rID_RightArrowIcon5.on('selected', function () {

rID_Circle3.fill = 'white';
rID_Circle4.fill = 'black';
rID_HideVoiceCommand();
/*if(isUsedTutorial == 0)
{

}

else
{
   rID_ShowSyncPhone();
}*/

rID_RenderSyncPhone();
rID_ShowSyncPhone();
setTimeout(rID_DisplayPhone,1000);
setTimeout(rID_Synced , 6000);


canvas.deactivateAll();

});

rID_RightArrowIcon6.on('selected', function () {

rID_Circle4.fill = 'white';
rID_Circle5.fill = 'black';
rID_HideSyncPhone();
rID_RenderLastPage();
rID_ShowLastPage();



canvas.deactivateAll();

});

rID_RightArrowIcon7.on('selected', function () {

rID_HideLastPage();

canvas.deactivateAll();

});


function rID_RenderChooseLanguage ()
{
canvas.add(rID_Tutorial);
//canvas.add(rID_RightArrowIcon1);
//canvas.remove(kID_LockIcon);
kID_LockIcon.visible = false;
canvas.add(rID_WelcomeText);
canvas.add(rID_WelcomeText2);
canvas.add(rID_LanguageText);

canvas.add(rID_GroupEnglishButton);

canvas.add(rID_GroupSpanishButton);
canvas.add(rID_GroupFrenchButton);
canvas.add(rID_GroupChineseButton);
canvas.add(rID_GroupHindiButton);
canvas.add(rID_GroupArabicButton);
canvas.add(rID_GroupGermanButton);
canvas.add(rID_GroupJapaneseButton);
canvas.add(rID_GroupDutchButton);
canvas.add(rID_GroupPolishButton);
}

function rID_ShowChooseLanguage ()
{
   rID_Tutorial.visible = true;
//canvas.remove(kID_LockIcon.visible = true;
kID_LockIcon.visible = false;
//rID_RightArrowIcon1.visible = true;
rID_WelcomeText.visible = true;
rID_WelcomeText2.visible = true;
rID_LanguageText.visible = true;

rID_GroupEnglishButton.visible = true;
rID_TickMarkIcon.visible = true;
rID_GroupSpanishButton.visible = true;
rID_GroupFrenchButton.visible = true;
rID_GroupChineseButton.visible = true;
rID_GroupHindiButton.visible = true;
rID_GroupArabicButton.visible = true;
rID_GroupGermanButton.visible = true;
rID_GroupJapaneseButton.visible = true;
rID_GroupDutchButton.visible = true;
rID_GroupPolishButton.visible = true;
   
}

function rID_HideChooseLangugage ()
{
  rID_Tutorial.visible = false;
  rID_RightArrowIcon1.visible = false;
//canvas.remove(kID_LockIcon.visible = false;
kID_LockIcon.visible = false;
rID_WelcomeText.visible = false;
rID_WelcomeText2.visible = false;
rID_LanguageText.visible = false;

rID_GroupEnglishButton.visible = false;
rID_TickMarkIcon.visible = false;
rID_GroupSpanishButton.visible = false;
rID_GroupFrenchButton.visible = false;
rID_GroupChineseButton.visible = false;
rID_GroupHindiButton.visible = false;
rID_GroupArabicButton.visible = false;
rID_GroupGermanButton.visible = false;
rID_GroupJapaneseButton.visible = false;
rID_GroupDutchButton.visible = false;
rID_GroupPolishButton.visible = false;
}



         

function rID_RenderTutorialPage2()
{

canvas.add(rID_HeaderText);
canvas.add(rID_GroupSetupButton);
canvas.add(rID_GroupLearnMoreButton);
canvas.add(rID_LeftArrowIcon1);
//canvas.add(rID_RightArrowIcon2);
}

function rID_ShowTutorialPage2()
{
    rID_Tutorial.visible = true;
	rID_LeftArrowIcon1.visible = true;
	rID_RightArrowIcon1.visible =false;
	//rID_RightArrowIcon2.visible = true;
   rID_HeaderText.visible = true;
   rID_GroupSetupButton.visible = true;
   rID_GroupLearnMoreButton.visible = true;
   
}

function rID_HideTutorialPage2()
{
   rID_HeaderText.visible = false;
   rID_GroupSetupButton.visible = false;
   rID_GroupLearnMoreButton.visible = false;
   rID_RightArrowIcon2.visible = false;
   rID_LeftArrowIcon1.visible = false;
}

function rID_RenderVideo()
{
   canvas.add(rID_VideoIcon);
   canvas.add(rID_LeftArrowIcon2);
  
}


function rID_ShowVideo()
{
   rID_VideoIcon.visible =true;
   rID_LeftArrowIcon2.visible = true;
   
}

function rID_HideVideo()
{
   rID_VideoIcon.visible =false;
   rID_LeftArrowIcon2.visible = false;
}

function rID_RenderClickPicture()
{  canvas.add(rID_Circle1);
rID_Circle1.set('fill', "black");
canvas.add(rID_Circle2);
canvas.add(rID_Circle3);
   canvas.add(rID_Circle4);
   canvas.add(rID_Circle5);
  canvas.add(rID_ClickPictureText);
   canvas.add(rID_PictureBox);
   canvas.add(rID_CameraIcon);
   canvas.add(rID_ClickPictureText2);
   canvas.add(rID_LeftArrowIcon3);
   
   
  rID_Circle1.set('fill', "black");
   canvas.add(rID_RightArrowIcon3);
   
}

function rID_ShowClickPicture()
{ 
  rID_Circle1.visible = true;
   rID_Circle2.visible = true;
   rID_Circle3.visible = true;
   rID_Circle4.visible = true;
   rID_Circle5.visible = true;
  rID_ClickPictureText.visible = true;
   rID_PictureBox.visible = true;
   rID_CameraIcon.visible = true;
   rID_ClickPictureText2.visible = true;
  
   rID_RightArrowIcon3.visible = true;
   rID_LeftArrowIcon3.visible = true;
}

function rID_RenderCameraOnClick()
{
  

  

	canvas.add(rID_RetakeText);
	canvas.add(rID_CameraIcon2);
	canvas.add(rID_TickMarkIcon2);
	
	
}

function rID_ShowCameraOnClick()
{
 
  
	rID_RetakeText.visible = true;
	rID_CameraIcon2.visible = true;
	rID_TickMarkIcon2.visible = true;
	
}

function rID_HideCameraOnClick()
{
 rID_CameraIcon.visible = false;
   rID_ClickPictureText2.visible = false;
   
    rID_UserIcon1.visible = false;
	rID_UserIcon2.visible = false;
	rID_UserIcon3.visible = false;
	rID_UserIcon4.visible = false;
	rID_RetakeText.visible = false;
	rID_CameraIcon2.visible = false;
	rID_TickMarkIcon2.visible = false;
	rID_LeftArrowIcon3.visible = false;
	rID_RightArrowIcon3.visible =  false;
	
	
}

function rID_RenderScanFinger() 
{
    canvas.add(rID_ScanFingerText);
	canvas.add(rID_FingerScanBox);
	canvas.add(rFingerPrintBox);
	canvas.add(rID_HandIcon);
	canvas.add(rID_ArrowIcon);
	canvas.add(rFingerPrintInner);
	canvas.add(rID_LeftArrowIcon4);
	canvas.add(rID_RightArrowIcon4);
	
}

function rID_ShowScanFinger() 
{
    rID_ScanFingerText.visible = true;
	rID_FingerScanBox.visible = true;
	rFingerPrintBox.visible = true;
	rID_HandIcon.visible = true;
	rFingerPrintInner.visible = true;
	rID_ArrowIcon.visible = true;
	rID_LeftArrowIcon4.visible = true;
	rID_RightArrowIcon4.visible = true;
}

function rID_HideScanFinger() 
{
  rID_ScanFingerText.visible = false;
	rID_FingerScanBox.visible = false;
	rFingerPrintBox.visible = false;
	rID_HandIcon.visible = false;
	rFingerPrintInner.visible = false;
	rID_ArrowIcon.visible= false;
	rID_LeftArrowIcon4.visible = false;
	rID_RightArrowIcon4.visible = false;
	
}

function rID_RenderVoiceCommand()
{
   canvas.add(rID_VoiceCommandText);
   canvas.add(rID_VoiceCommandBox);
   canvas.add(rID_VoiceCommandInnerText);
   canvas.add(rID_VoiceCommandInnerText2);
   canvas.add(rID_VoiceCommandTickBox);
   canvas.add(rID_VoiceIcon);
   canvas.add(rID_LeftArrowIcon5);
   canvas.add(rID_RightArrowIcon5);
  // setTimeout(rID_PlayVoicecommand, 3000);
   setTimeout(rID_Playbeep, 3500);
   //clearInterval(rID_PlayVoicecommand, 3000);
 
     //  rID_Capture = 1;
   
}

function rID_ShowVoiceCommand()
{
   rID_VoiceCommandText.visible =true;
   rID_VoiceCommandBox.visible =true;
   rID_VoiceCommandInnerText.visible =true;
   rID_VoiceCommandInnerText2.visible =true;
   rID_VoiceCommandTickBox.visible =true;
   rID_VoiceIcon.visible =true;
   rID_LeftArrowIcon5.visible =true;
 rID_RightArrowIcon5.visible =true;
   
}

function rID_VoiceCapture()
{
     rID_VoiceCommandCapture.play();
}

/*function rID_PlayVoicecommand()
{
     rID_voicecommand.play();
}*/
function rID_Playbeep()
{
     rID_beep.play();
}

function rID_Captured()
{
  if(activeuser == 'RIDHI')
{ 
  
   k_RidhiProfile.kVoiceCommand = rID_VoiceCommandCapture;
   
}

else if(activeuser == 'KRUTI')
{
     k_KrutiProfile.kVoiceCommand = rID_VoiceCommandCapture;
}
  canvas.add(rID_TickMarkIcon4);
 rID_VoiceIcon.visible = false;
   canvas.add(rID_TickMarkIcon3);
   canvas.add(rID_VideoIcon2);
   rID_TickMarkIcon3.visible = true;
   rID_VideoIcon2.visible = true;
   
}

function rID_HideVoiceCommand()
{

   rID_VoiceCommandText.visible =false;
   rID_VoiceCommandBox.visible =false;
   rID_VoiceCommandInnerText.visible =false;
   rID_VoiceCommandInnerText2.visible =false;
   rID_VoiceCommandTickBox.visible =false;
   rID_VoiceIcon.visible =false;
   rID_LeftArrowIcon5.visible =false;
 rID_RightArrowIcon5.visible =false;
 rID_VideoIcon2.visible =false;
 rID_TickMarkIcon3.visible =false;
 rID_TickMarkIcon4.visible =false;
}

function rID_RenderSyncPhone()
{
    canvas.add(rID_SyncPhoneText);
	canvas.add(rID_SyncPhoneBox);
	canvas.add(rID_SyncPhoneText2);
    canvas.add(rID_LeftArrowIcon6);
	canvas.add(rID_RightArrowIcon6);
}

function rID_ShowSyncPhone()
{
    
rID_SyncPhoneText.visible =true;
	rID_SyncPhoneBox.visible =true;
	rID_SyncPhoneText2.visible =true;
    rID_LeftArrowIcon6.visible =true;
	rID_RightArrowIcon6.visible =true;
}

function rID_DisplayPhone()
{
  canvas.add(rID_SyncIcon);
   rID_SyncIcon.visible = true;

   if(activeuser == 'RIDHI')
   {
     canvas.add(rID_Phone1Icon);
	 
	 rPhoneIcon1Info.kIsUsed =  true;
	 k_RidhiProfile.kPhoneSynced = rPhoneIcon1Info.kId;
	 
   }
   
   else if (activeuser == 'KRUTI')
   {
      canvas.add(rID_Phone2Icon);
	  rID_Phone2Icon.visible = true;
	 rPhoneIcon2Info.kIsUsed =  true;
	 k_KrutiProfile.kPhoneSynced = rPhoneIcon2Info.kId;
   }
   
   else if (activeuser == 'SAHIB')
   {
      canvas.add(rID_Phone3Icon);
	  rID_Phone3Icon.visible = true;
	 rPhoneIcon3Info.kIsUsed =  true;
	 k_SahibProfile.kPhoneSynced = rPhoneIcon3Info.kId;
   }
   
   else if (activeuser == 'ANKUR')
   {
      canvas.add(rID_Phone4Icon);
	  rID_Phone4Icon.visible = true;
	 rPhoneIcon4Info.kIsUsed =  true;
	 k_AnkurProfile.kPhoneSynced = rPhoneIcon4Info.kId;
   }
   
   
   
}

function rID_Synced()
{

  rID_SyncIcon.visible = false;
  canvas.add(rID_SyncedText);
  canvas.add(rID_TickMarkIcon5);
  rID_SyncedText.visible = true;
  rID_TickMarkIcon5.visible = true;
  rID_Playbeep();
  
  
  
}

function rID_HideSyncPhone()
{
    rID_SyncPhoneText.visible = false;
	rID_SyncPhoneBox.visible = false;
	rID_SyncPhoneText2.visible = false;
    rID_LeftArrowIcon6.visible = false;
	rID_RightArrowIcon6.visible = false;
	rID_Phone1Icon.visible = false;
	rID_Phone2Icon.visible = false;
	rID_Phone4Icon.visible = false;
	rID_Phone3Icon.visible = false;
		
		
     rID_SyncIcon.visible = false;
	 rID_SyncedText.visible = false;
	 rID_TickMarkIcon5.visible = false;
}

function rID_RenderLastPage()
{
  canvas.add(rID_LastPageBox);
  canvas.add(rID_LastPageText);
  canvas.add(rID_LastPageText2);
  canvas.add(rID_LeftArrowIcon7);
  canvas.add(rID_RightArrowIcon7);
  canvas.add(rID_GroupAnotherUserButton);
}

function rID_ShowLastPage()
{
rID_LastPageBox.visible = true;
  rID_LastPageText.visible = true;
  rID_LastPageText2.visible = true;
  rID_LeftArrowIcon7.visible = true;
  rID_RightArrowIcon7.visible = true;
  rID_GroupAnotherUserButton.visible = true;
}

function rID_HideLastPage()
{
rID_HideCircles();
rID_Circle5.set('fill','white');
 rID_LastPageBox.visible = false;
  rID_LastPageText.visible = false;
  rID_LastPageText2.visible = false;
  rID_LeftArrowIcon7.visible = false;
  rID_RightArrowIcon7.visible = false;
  rID_GroupAnotherUserButton.visible = false;
  rID_Tutorial.visible = false;
}

function rID_ShowCircles()
{
 rID_Circle1.visible =  true;

rID_Circle2.visible=  true;
rID_Circle3.visible=  true;
  rID_Circle4.visible=  true;
   rID_Circle5.visible=  true;
}

function rID_HideCircles()
{
 rID_Circle1.visible =  false;

rID_Circle2.visible=  false;
rID_Circle3.visible=  false;
  rID_Circle4.visible=  false;
   rID_Circle5.visible= false;
}

canvas.add(rID_GroupFirstTimeSetupButton);
canvas.add(rID_Ridhi);
canvas.add(rID_Kruti);
canvas.add(rID_Sahib);
canvas.add(rID_Ankur);



/*************************************** Code End by Ridhi ***************************************************************************************/
/**************************** START Common set of JS Code at the END OF FILE **************************************************************/
/**************************** END Common set of JS Code at the END OF FILE ****************************************************************/
// code adapted from http://jsfiddle.net/tornado1979/39up3jcm/
// this code deals with scaling all the elements on the canvas
function zoomAll(SCALE_FACTOR) {
      var objects = canvas.getObjects();
      for (var i in objects) {
          var scaleX = objects[i].scaleX;
          var scaleY = objects[i].scaleY;
          var left = objects[i].left;
          var top = objects[i].top;
          var tempScaleX = scaleX * SCALE_FACTOR;
          var tempScaleY = scaleY * SCALE_FACTOR;
          var tempLeft = left * SCALE_FACTOR;
          var tempTop = top * SCALE_FACTOR;
          objects[i].scaleX = tempScaleX;
          objects[i].scaleY = tempScaleY;
          objects[i].left = tempLeft;
          objects[i].top = tempTop;
          objects[i].setCoords();
      }
  
      canvas.renderAll();
  }
// draw everything at the appropriate scale for this canvas
zoomAll(canvas.height / localHeight);
canvas.forEachObject(function(o){ o.hasBorders = false; o.hasControls = false; o.lockMovementX = true; o.lockMovementY = true });
})();
</script>
    
</head>
  
</html>
